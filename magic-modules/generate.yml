---
# This file takes two inputs: magic-modules in detached-HEAD state, and the CI repo.
# It spits out "mm-output", a magic-modules repo on a new branch (named after the
# HEAD commit on the PR), with submodules updated to be on a branch with the same name.
platform: linux

image_resource:
    type: docker-image
    source:
        repository: nmckinley/go-ruby
        tag: '1.9-2.5'

inputs:
    - name: magic-modules
    - name: ci

outputs:
    - name: mm-output

run:
    path: ci/magic-modules/generate_terraform.sh

params:
    GH_USERNAME: ""
