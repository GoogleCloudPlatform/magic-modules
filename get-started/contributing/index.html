<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="General contributing steps # If you haven&rsquo;t done so already, fork the Magic Modules repository into your GitHub account.
Check the issue tracker to see whether your feature has already been requested.
If there&rsquo;s an issue and it already has a dedicated assignee, this indicates that someone might have already started to work on a solution. Otherwise, you&rsquo;re welcome to work on the issue. Check whether the resource you would like to work on already exists in the following places:"><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><meta property="og:title" content="Contributing"><meta property="og:description" content="General contributing steps # If you haven&rsquo;t done so already, fork the Magic Modules repository into your GitHub account.
Check the issue tracker to see whether your feature has already been requested.
If there&rsquo;s an issue and it already has a dedicated assignee, this indicates that someone might have already started to work on a solution. Otherwise, you&rsquo;re welcome to work on the issue. Check whether the resource you would like to work on already exists in the following places:"><meta property="og:type" content="article"><meta property="og:url" content="https://googlecloudplatform.github.io/magic-modules/get-started/contributing/"><meta property="article:section" content="get-started"><meta property="article:modified_time" content="2023-06-30T11:37:04-07:00"><title>Contributing | Magic Modules</title><link rel=manifest href=/magic-modules/manifest.json><link rel=icon href=/magic-modules/favicon.png type=image/x-icon><link rel=stylesheet href=/magic-modules/book.min.33a48f5432973b8ff9a82679d9e45d67f2c15d4399bd2829269455cfe390b5e8.css integrity="sha256-M6SPVDKXO4/5qCZ52eRdZ/LBXUOZvSgpJpRVz+OQteg=" crossorigin=anonymous><script defer src=/magic-modules/flexsearch.min.js></script>
<script defer src=/magic-modules/en.search.min.c806829df64990b8d0f505a22362e66048afd59d4543b05f101997ba4fe2593f.js integrity="sha256-yAaCnfZJkLjQ9QWiI2LmYEiv1Z1FQ7BfEBmXuk/iWT8=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/magic-modules/><img src=/magic-modules/magic-modules.svg alt=Logo><span>Magic Modules</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><a href=/magic-modules/>Overview</a></li></ul><ul><li><span>Get started</span><ul><li><a href=/magic-modules/get-started/generate-providers/>Generate the providers</a></li><li><a href=/magic-modules/get-started/how-magic-modules-works/>How Magic Modules works</a></li><li><a href=/magic-modules/get-started/run-provider-tests/>Run provider tests</a></li><li><a href=/magic-modules/get-started/use-built-provider/>Use built provider</a></li><li><a href=/magic-modules/get-started/contributing/ class=active>Contributing</a></li><li><a href=/magic-modules/get-started/provider-documentation/>Provider documentation</a></li></ul></li><li><span>Develop</span><ul><li><a href=/magic-modules/develop/breaking-changes/>Understand breaking changes</a></li><li><a href=/magic-modules/develop/resource/>Add or modify a resource</a></li><li><a href=/magic-modules/develop/add-mmv1-test/>Add an MMv1 test</a></li><li><a href=/magic-modules/develop/add-handwritten-test/>Add a handwritten test</a></li><li><a href=/magic-modules/develop/add-handwritten-datasource/>Add a datasource</a></li><li><a href=/magic-modules/develop/add-handwritten-datasource-documentation/>Add datasource documentation</a></li><li><a href=/magic-modules/develop/promote-to-ga/>Promote to GA</a></li></ul></li><li><a href=/magic-modules/best-practices/>Best practices</a><ul></ul></li><li><span>Contribute</span><ul><li><a href=/magic-modules/contribute/release-notes/>Write release notes</a></li></ul></li><li><span>Reference</span><ul><li><a href=/magic-modules/reference/make-commands/>make commands</a></li><li><a href=https://github.com/GoogleCloudPlatform/magic-modules/blob/main/mmv1/api/resource.rb target=_blank rel=noopener>Resource YAML reference ↗</a></li><li><a href=https://github.com/GoogleCloudPlatform/magic-modules/blob/main/mmv1/api/type.rb target=_blank rel=noopener>Field YAML reference ↗</a></li><li><a href=https://github.com/GoogleCloudPlatform/magic-modules/blob/main/mmv1/api/resource/iam_policy.rb target=_blank rel=noopener>IAM policy YAML reference ↗</a></li></ul></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/magic-modules/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Contributing</strong>
<label for=toc-control><img src=/magic-modules/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents></nav></aside></header><article class=markdown><h1 id=general-contributing-steps>General contributing steps
<a class=anchor href=#general-contributing-steps>#</a></h1><ol><li><p>If you haven&rsquo;t done so already, fork the <code>Magic Modules</code> repository into your GitHub account.</p></li><li><p>Check the <a href=https://github.com/hashicorp/terraform-provider-google/issues>issue tracker</a> to see whether your feature has already been requested.</p><ul><li>If there&rsquo;s an issue and it already has a dedicated assignee, this indicates that someone might have already started to work on a solution.</li><li>Otherwise, you&rsquo;re welcome to work on the issue.</li></ul></li><li><p>Check whether the resource you would like to work on already exists in the following places:</p><ul><li><a href=https://github.com/hashicorp/terraform-provider-google><code>google</code> provider</a> providers</li><li><a href=https://github.com/hashicorp/terraform-provider-google-beta><code>google-beta</code> provider</a></li><li><a href=https://registry.terraform.io/providers/hashicorp/google/latest/docs>Hashicorp documentation</a></li></ul><p>If it exists, check the header of the downstream file to identify the type of tools used to generate the resource.
For some resources, the code file, the test file and the documentation file might not be generated via the same tools.</p><ul><li>Generated resources like <a href=https://registry.terraform.io/providers/hashicorp/google/latest/docs/resources/compute_address><code>google_compute_address</code></a> can be identified by looking in their <a href=https://github.com/hashicorp/terraform-provider-google/blob/main/google/resource_compute_address.go><code>Go source</code></a> for an <code>AUTO GENERATED CODE</code> header as well as a <code>Type</code>. &ldquo;Generated resources&rdquo; typically refers to just the <code>MMv1</code> type, and <code>DCL</code> type resources are considered &ldquo;DCL-based&rdquo;. (Currently DCL-related contribution are not supported)</li><li>Handwritten resources like <a href=https://registry.terraform.io/providers/hashicorp/google/latest/docs/resources/container_cluster><code>google_container_cluster</code></a> can be identified if they have source code present under the <a href=https://github.com/GoogleCloudPlatform/magic-modules/tree/main/mmv1/third_party/terraform/resources><code>mmv1/third_party/terraform/resources</code></a> folder or by the absence of the <code>AUTO GENERATED CODE header</code> in their <a href=https://github.com/hashicorp/terraform-provider-google/blob/main/google/resource_container_cluster.go><code>Go source</code></a>.</li></ul><p>If not, decide which tool you would like to use to implement the resource:</p><ul><li>MMv1 is strongly preferred over handwriting the resource unless the resource cannot be generated.</li><li>Currently, only handwritten datasources are supported.</li></ul></li><li><p>Make the code change.</p><ul><li>The <a href=/magic-modules/docs/how-to>How To</a> section provides detailed instructions on how to make your change.</li></ul></li><li><p><a href=/magic-modules/docs/getting-started/generate-providers/>Generate the providers</a> that include your change.</p></li><li><p><a href=/magic-modules/docs/getting-started/run-provider-tests/>Run provider tests locally</a> that are relevant to the change you made. (Testing the PR locally and pushing the commit to the PR only after the tests pass locally may significantly reduce back-and-forth in review.)</p></li><li><p>Push your changes to your <code>magic-modules</code> repo fork and send a pull request from that branch to the main branch on <code>magic-modules</code>. A reviewer will be assigned automatically to your PR.</p></li><li><p>Get approval to start Clould Builder jobs from the reviewer if you&rsquo;re an community contributor</p></li><li><p>Wait for the the modules magician to generate downstream diff (which should take about 15 mins after creating the PR) to make sure all changes are generated correctly in downstream repos.</p></li><li><p>Wait for the VCR test results.
<details><summary>Get to know general workflow for VCR tests</summary><div class=markdown-inner><ol><li>Submit your change.</li><li>The recorded tests are ran against your changes by the <code>modular-magician</code>. Tests will fail if:<ul><li>Your PR has changed the HTTP request values sent by the provider</li><li>Your PR does not change the HTTP request values, but fails on the values returned in an old recording</li><li>The recordings are out of sync with the merge-base of your PR, and an unrelated contributor&rsquo;s change has caused a false positive</li></ul></li><li>The <code>modular-magician</code> will leave a message indicating the number of passing and failing VCR tests. If there is a failure, the <code>modular-magician</code> user will leave a message indicating the &ldquo;<code>Triggering VCR tests in RECORDING mode for the following tests that failed during VCR:</code>&rdquo; marking which tests failed.<ul><li>If a test does not appear related to your PR, it probably isn&rsquo;t!</li></ul></li><li>The <code>modular-magician</code> will kick off a second test run targeting only the failed tests, this time hitting the live GCP APIs. If there are tests that fail at this point, a message stating <code>Tests failed during RECORDING mode:</code> will be left indicating the tests.<ul><li>If a test that appears to be related to your change has failed here, it&rsquo;s likely your change has introduced an issue. You can view the debug logs for the test by clicking the &ldquo;view&rdquo; link beside the test case to attempt to debug what&rsquo;s going wrong.</li><li>If a test that appears to be completely unrelated has failed, it&rsquo;s possible that a GCP API has changed in a way that broke the provider or our environment capped on a quota.</li></ul></li></ol></div></details></p><p>Where possible, take a look at the logs and see if you can figure out what needs to be fixed related to your change.
The false positive rate on these tests is extremely high between changes in the API, Cloud Build bugs, and eventual consistency issues in test recordings so we don&rsquo;t expect contributors to wholly interpret the results — that&rsquo;s the responsibility of your reviewer.</p></li><li><p>If your assigned reviewer does not respond to changes on a pull request within two US business days, ping them on the pull request.</p></li><li><p>After your PR is merged, it will be released to customers in around one to two weeks.</p></li></ol></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/GoogleCloudPlatform/magic-modules/commit/4cdd977e732c713c401b2cc362c0477a3945b7a8 title='Last modified by Stephen Lewis (Burrows) | June 30, 2023' target=_blank rel=noopener><img src=/magic-modules/svg/calendar.svg class=book-icon alt=Calendar>
<span>June 30, 2023</span></a></div><div><a class="flex align-center" href="https://github.com/hashicorp/terraform-provider-google/issues/new?assignees=&labels=technical-debt,documentation&projects=&title=MM%20docsite%20issue%20in%20content/get-started%2fcontributing.md&template=11_developer_productivity.md" target=_blank rel=noopener><img src=/magic-modules/report.svg class=book-icon alt=Edit>
<span>Report documentation issue</span></a></div><div><a class="flex align-center" href=https://github.com/GoogleCloudPlatform/magic-modules/edit/main/docs/content/get-started/contributing.md target=_blank rel=noopener><img src=/magic-modules/svg/edit.svg class=book-icon alt=Edit>
<span>Edit this page</span></a></div></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents></nav></div></aside></main></body></html>