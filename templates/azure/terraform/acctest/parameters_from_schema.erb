<%  properties.select{|p| sdk_op_def.request.has_key?(p.azure_api_path) }.each do |prop| -%>
<%    var_name = sdk_op_def.request[prop.azure_api_path].go_variable_name -%>
<%    if check_existence && var_name != "name" -%>
<%=   var_name -%>, has<%= var_name.camelcase(:upper) -%> := rs.Primary.Attributes["<%= prop.name.underscore -%>"]
if !has<%= var_name.camelcase(:upper) -%> {
    return fmt.Errorf("Bad: no <%= prop.name.titlecase.downcase -%> found in state for <%= object.name.titlecase -%>: %q", name)
}
<%    else -%>
<%=     var_name -%> := rs.Primary.Attributes["<%= prop.name.underscore -%>"]
<%    end -%>
<%  end -%>