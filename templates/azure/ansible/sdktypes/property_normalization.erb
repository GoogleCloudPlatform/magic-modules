<%
    if is_location? norm_desc.property
-%>
<%=   norm_desc.input -%>['<%= norm_desc.python_variable -%>'] = resource_group.location
<%
    elsif norm_desc.relative_references.length > 1
-%>
<%    sdk_path = norm_desc.parent_reference + norm_desc.relative_references[0] -%>
<%    sdk_type = norm_desc.sdk_operation.request[sdk_path] -%>
<%    if in_structure -%>
'<%= sdk_type.python_field_name -%>': {
<%=     lines(build_property_normalization(norm_desc.create_child(), true)) -%>
}
<%    else -%>
<%=     norm_desc.output -%>['<%= sdk_type.python_field_name -%>'] = {
<%=     lines(build_property_normalization(norm_desc.create_child(), true)) -%>
}
<%    end -%>
<%
    elsif norm_desc.relative_references.length == 1
-%>
<%    sdk_path = norm_desc.parent_reference + norm_desc.relative_references[0] -%>
<%    sdk_type = norm_desc.sdk_operation.request[sdk_path] -%>
<%    if norm_desc.remove_from_input || norm_desc.python_variable != sdk_type.python_field_name -%>
<%      actual_input = "#{norm_desc.input}.pop('#{norm_desc.python_variable}')" -%>
<%    else -%>
<%      actual_input = "#{norm_desc.input}['#{norm_desc.python_variable}']" -%>
<%    end -%>
<%    if norm_desc.property.is_a? Api::Type::Enum -%>
<%      actual_input = "_snake_to_camel(#{actual_input}, True)" -%>
<%    elsif norm_desc.property.is_a? Api::Azure::Type::ResourceReference -%>
<%      actual_input = "self.normalize_resource_id(\n    #{actual_input},\n    '#{norm_desc.property.sample_value}')" -%>
<%    end -%>
<%    if in_structure -%>
'<%= sdk_type.python_field_name -%>': <%= actual_input -%>
<%    else -%>
<%= norm_desc.output -%>['<%= sdk_type.python_field_name -%>'] = <%= actual_input -%>
<%    end -%>
<%
    end
-%>