// `secret` and `access_id` are generated by the API upon successful CREATE. The following
// ensures terraform has the correct values based on the Projects.hmacKeys response object.
secret, ok := res["secret"].(string)
if !ok {
	return fmt.Errorf("The response to CREATE was missing an expected field. Your create did not work.")
}

if err := d.Set("secret", secret); err != nil {
	return fmt.Errorf("Error setting secret: %s", err)
}

metadata := res["metadata"].(map[string]interface{})
accessId, ok := metadata["accessId"].(string)
if !ok {
	return fmt.Errorf("The response to CREATE was missing an expected field. Your create did not work.")
}

if err := d.Set("access_id", accessId); err != nil {
	return fmt.Errorf("Error setting access_id: %s", err)
}

id, err = replaceVars(d, config, "projects/{{project}}/hmacKeys/{{access_id}}")
if err != nil {
	return fmt.Errorf("Error constructing id: %s", err)
}

d.SetId(id)
