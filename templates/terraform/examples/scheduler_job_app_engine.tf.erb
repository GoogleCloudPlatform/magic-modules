resource "google_cloud_scheduler_job" "job" {
  provider = "google-beta"

  name     = "<%= ctx[:vars]['job_name'] %>"
  schedule = "*/4 * * * *"
  description = "test app engine job"
  time_zone = "Europe/London"

  app_engine_http_target {
    http_method = "POST"

    app_engine_routing {
      service = "web"
      version = "prod"
      instance = "my-instance-001"
    }

    relative_uri = "/ping"
  }
}

provider "google-beta"{
  region = "us-central1"
  zone   = "us-central1-a"
}
