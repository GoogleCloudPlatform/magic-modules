resource "google_data_catalog_entry" "<%= ctx[:primary_resource_id] %>" {
  entry_group = google_data_catalog_entry_group.group.id
  entry_id = "<%= ctx[:vars]['entry_id'] %>"

  type = "FILESET"

  gcs_fileset_spec {
    file_patterns = ["gs://fake_bucket/dir/*"]
  }
}

resource "google_data_catalog_entry_group" "entry_group" {
  entry_group_id = "<%= ctx[:vars]['entry_group_id'] %>"
}