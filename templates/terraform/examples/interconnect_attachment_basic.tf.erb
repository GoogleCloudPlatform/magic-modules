resource "google_compute_interconnect_attachment" "<%= ctx[:primary_resource_id] %>" {
  name         = "<%= ctx[:vars]['interconnect_attachment_name'] %>"
  interconnect = "my-interconnect-id"
  router       = google_compute_router.foobar.self_link
}

resource "google_compute_router" "foobar" {
  name    = "<%= ctx[:vars]['router_name'] %>"
  network = google_compute_network.foobar.name
}
