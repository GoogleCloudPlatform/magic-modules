<% gcp_project_id = "#{external_attribute('gcp_project_id', doc_generation)}" -%>
<% route = grab_attributes['route'] -%>
describe google_compute_routes(project: <%= gcp_project_id -%>) do
  its('count') { should be >= 1 }
  its('dest_ranges') { should include <%= doc_generation ? "'#{route['dest_range']}'" : "route['dest_range']" -%> }
  its('next_hop_ips') { should include <%= doc_generation ? "'#{route['next_hop_ip']}'" : "route['next_hop_ip']" -%> }
  its('priorities') { should include <%= doc_generation ? "'#{route['priority']}'" : "route['priority']" -%> }
end