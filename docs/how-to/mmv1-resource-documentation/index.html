<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Generated resources have generated documentation. This page describes the generation process and what YAML inputs are used."><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><meta property="og:title" content="Add and update MMv1 resource documentation"><meta property="og:description" content="Generated resources have generated documentation. This page describes the generation process and what YAML inputs are used."><meta property="og:type" content="article"><meta property="og:url" content="https://googlecloudplatform.github.io/magic-modules/docs/how-to/mmv1-resource-documentation/"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2023-01-20T19:21:39+00:00"><title>Add and update MMv1 resource documentation | Magic Modules</title><link rel=manifest href=/magic-modules/manifest.json><link rel=icon href=/magic-modules/favicon.png type=image/x-icon><link rel=stylesheet href=/magic-modules/book.min.c58292d36b18b675680ab9baea2029204537b839ea72f258746ec0f32ce8d6c8.css integrity="sha256-xYKS02sYtnVoCrm66iApIEU3uDnqcvJYdG7A8yzo1sg=" crossorigin=anonymous><script defer src=/magic-modules/flexsearch.min.js></script>
<script defer src=/magic-modules/en.search.min.2f653af129452131d2b57b9c0e9fa9ec37004674da72f2dff61bdc033552be6e.js integrity="sha256-L2U68SlFITHStXucDp+p7DcARnTacvLf9hvcAzVSvm4=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/magic-modules/><img src=/magic-modules/magic-modules.svg alt=Logo><span>Magic Modules</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><span>Getting Started</span><ul><li><a href=/magic-modules/docs/getting-started/setup/>Set up your environment</a></li><li><a href=/magic-modules/docs/getting-started/generate-providers/>Generate the providers</a></li><li><a href=/magic-modules/docs/getting-started/run-provider-tests/>Run provider tests</a></li><li><a href=/magic-modules/docs/getting-started/use-built-provider/>Use built provider</a></li><li><a href=/magic-modules/docs/getting-started/contributing/>Contributing</a></li><li><a href=/magic-modules/docs/getting-started/provider-documentation/>Provider documentation</a></li></ul></li><li><a href=/magic-modules/docs/how-to/>How To</a><ul><li><a href=/magic-modules/docs/how-to/types-of-resources/>Types of resources</a></li><li><a href=/magic-modules/docs/how-to/add-mmv1-resource/>Add an MMv1 resource</a></li><li><a href=/magic-modules/docs/how-to/add-mmv1-iam/>Add MMv1 IAM resources</a></li><li><a href=/magic-modules/docs/how-to/add-mmv1-test/>Add an MMv1 test</a></li><li><a href=/magic-modules/docs/how-to/mmv1-resource-documentation/ class=active>Add and update MMv1 resource documentation</a></li><li><a href=/magic-modules/docs/how-to/update-handwritten-resource/>Update a handwritten resource</a></li><li><a href=/magic-modules/docs/how-to/add-handwritten-test/>Add a handwritten test</a></li><li><a href=/magic-modules/docs/how-to/add-handwritten-datasource/>Add a handwritten datasource</a></li><li><a href=/magic-modules/docs/how-to/add-handwritten-iam/>Add handwritten IAM resources</a></li><li><a href=/magic-modules/docs/how-to/update-handwritten-documentation/>Update handwritten provider documentation</a></li><li><a href=/magic-modules/docs/how-to/add-handwritten-datasource-documentation/>Add documentation for a handwritten data source</a></li></ul></li><li><a href=/magic-modules/docs/best-practices/>Best practices</a><ul></ul></li><li><span>Reference</span><ul><li><a href=https://github.com/GoogleCloudPlatform/magic-modules/blob/main/mmv1/api/resource.rb target=_blank rel=noopener>api.yaml resource ↗</a></li><li><a href=https://github.com/GoogleCloudPlatform/magic-modules/blob/main/mmv1/overrides/terraform/resource_override.rb target=_blank rel=noopener>terraform.yaml resource ↗</a></li></ul></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/magic-modules/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Add and update MMv1 resource documentation</strong>
<label for=toc-control><img src=/magic-modules/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#updating-an-existing-mmv1-resources-documentation>Updating an existing MMv1 resource&rsquo;s documentation</a></li><li><a href=#adding-new-documentation-for-a-new-mmv1-resource>Adding new documentation for a new MMv1 resource</a></li><li><a href=#how-generated-documentation-is-made>How generated documentation is made</a></li><li><a href=#what-yaml-fields-are-used-in-the-documentation>What YAML fields are used in the documentation</a><ul><li><a href=#top-level-fields-for-a-product>Top level fields for a product</a></li><li><a href=#top-level-fields-within-resources>Top level fields within resources</a></li><li><a href=#fields-set-within-resource-properties>Fields set within resource properties</a></li></ul></li></ul></nav></aside></header><article class=markdown><h1 id=mmv1-resource-documentation>MMv1 resource documentation
<a class=anchor href=#mmv1-resource-documentation>#</a></h1><p>A majority of the provider&rsquo;s documentation is generated using the same information that&rsquo;s used for generating the provider&rsquo;s Go code. For example, when adding a new field to a resource in the relevant <code>api.yaml</code> file we include a <code>description</code> field. This is used to set a field description in the resource&rsquo;s schema and is also used to document the field in generated markdown files.</p><h2 id=updating-an-existing-mmv1-resources-documentation>Updating an existing MMv1 resource&rsquo;s documentation
<a class=anchor href=#updating-an-existing-mmv1-resources-documentation>#</a></h2><p>As a result of code generation, you often do not need to explicitly think about making updates to documentation. However it is a good idea to check the markdown changes when you generate the provider, especially if you are making lots of changes.</p><h2 id=adding-new-documentation-for-a-new-mmv1-resource>Adding new documentation for a new MMv1 resource
<a class=anchor href=#adding-new-documentation-for-a-new-mmv1-resource>#</a></h2><p>More thought is required when adding a new resource from scratch. See the relevant section below for guidance about what YAML fields are needed to create complete documentation.</p><h2 id=how-generated-documentation-is-made>How generated documentation is made
<a class=anchor href=#how-generated-documentation-is-made>#</a></h2><p>The Magic Modules compiler parses YAML files, creates Ruby objects that are populated with the data from those files, and then uses that data within template files to create produce the final markdown files.</p><p>The main template used for documentation is <code>mmv1/templates/terraform/resource.html.markdown.erb</code>. As an example of how it works, you can see that the main title of documentation pages are created by some <a href=https://github.com/GoogleCloudPlatform/magic-modules/blob/a69f1150de76f2b2cd9d37faa6bd44c1fb8a460a/mmv1/templates/terraform/resource.html.markdown.erb#L41>processing of name data</a> for a given resource and then using Ruby string methods to <a href=https://github.com/GoogleCloudPlatform/magic-modules/blob/a69f1150de76f2b2cd9d37faa6bd44c1fb8a460a/mmv1/templates/terraform/resource.html.markdown.erb#L58>print an escaped version of the name</a> into an H1 header.</p><h2 id=what-yaml-fields-are-used-in-the-documentation>What YAML fields are used in the documentation
<a class=anchor href=#what-yaml-fields-are-used-in-the-documentation>#</a></h2><p>The YAML files in Magic Modules are used to generate both the provider&rsquo;s Go code and the markdown documentation. As a result of this, changes to documentation happen automatically while you make a change to a resource&rsquo;s implementation in the provider. Often it&rsquo;s possible to address an issue without ever needing to think about documentation changes.</p><p>However, if you are implementing a new product or resource from scratch, or making non-routine changes to documentation, then you will need to be aware of how the YAML fields are used. Especially as some are specific to documentation.</p><p>Below are descriptions of fields that are directly referenced in the documentation templates.</p><h3 id=top-level-fields-for-a-product>Top level fields for a product
<a class=anchor href=#top-level-fields-for-a-product>#</a></h3><p>These fields are found at the top of <code>api.yaml</code> files, and describe an overall product (ruby/object:Api::Product).</p><table><thead><tr><th>Field</th><th>Type</th><th>Relation to documentation</th><th>Example value</th></tr></thead><tbody><tr><td><code>display_name</code></td><td>string</td><td>Controls the value of <code>subcategory</code> in YAML frontmatter; determines where the link to the page appears in the left-side navigation menu.</td><td><a href=https://github.com/GoogleCloudPlatform/magic-modules/blob/39bded78e3032328e972f8e5b5f37796a451440b/mmv1/products/accesscontextmanager/product.yaml#L16>See example</a></td></tr></tbody></table><h3 id=top-level-fields-within-resources>Top level fields within resources
<a class=anchor href=#top-level-fields-within-resources>#</a></h3><p>These can be top-level properties of a resource (ruby/object:Api::Resource) or overrides for the resource (ruby/object:Overrides::Terraform::ResourceOverride), i.e. in <code>api.yaml</code> or <code>terraform.yaml</code>.</p><table><thead><tr><th>Field</th><th>Type</th><th>Relation to documentation</th><th>Example value</th></tr></thead><tbody><tr><td><code>has_self_link</code></td><td>boolean</td><td>Boolean to indicate if a resource has a <code>self_link</code> attribute. If true, the attribute is included in the templated markdown</td><td><a href=https://github.com/hashicorp/magic-modules/blob/44d348dc92c279992febd7132a88656417a2a86f/mmv1/products/bigquery/api.yaml#L32-L33>See example</a> and the resulting <a href=https://registry.terraform.io/providers/hashicorp/google/latest/docs/resources/bigquery_dataset#self_link>self_link attribute in docs</a></td></tr><tr><td><code>import_format</code></td><td>array of strings</td><td>Sets the identifiers that can be used to import a resource into Terraform state. Used to add multiple entries in the &lsquo;Import&rsquo; section of documentation.</td><td><a href=https://github.com/hashicorp/magic-modules/blob/44d348dc92c279992febd7132a88656417a2a86f/mmv1/products/apigateway/terraform.yaml#L23>See example</a> that results in <a href=https://registry.terraform.io/providers/hashicorp/google/latest/docs/resources/api_gateway_api#import>an import section listing multiple options</a></td></tr><tr><td><code>description</code></td><td>string</td><td>Sets the description of the resource at the top of the page</td><td><a href=https://github.com/hashicorp/magic-modules/blob/44d348dc92c279992febd7132a88656417a2a86f/mmv1/products/bigquery/api.yaml#L34-L35>See example</a></td></tr><tr><td><code>docs.note</code></td><td>string</td><td>Text is templated into a callout block at the top of the page which is titled &ldquo;Note&rdquo;</td><td><a href=https://github.com/hashicorp/magic-modules/blob/dc463cb5b459044bf6bb37a1d502ae8bb14e2127/mmv1/products/iamworkforcepool/terraform.yaml#L19-L21>See example</a> and the resulting <a href=https://registry.terraform.io/providers/hashicorp/google/latest/docs/resources/iam_workforce_pool>callout in the docs</a></td></tr><tr><td><code>docs.warning</code></td><td>string</td><td>Text is templated into a callout block at the top of the page which is titled &ldquo;Warning&rdquo;</td><td><a href=https://github.com/hashicorp/magic-modules/blob/dc463cb5b459044bf6bb37a1d502ae8bb14e2127/mmv1/products/bigquery/terraform.yaml#L94-L98>See example</a> and the resulting <a href=https://registry.terraform.io/providers/hashicorp/google/latest/docs/resources/bigquery_dataset>callout in the docs</a></td></tr><tr><td>* <code>docs.optional_properties</code></td><td>string</td><td>Used to append extra content to the bulleted list describing optional properties for a resource.</td><td><a href=https://github.com/GoogleCloudPlatform/magic-modules/blob/1589b882611cceafdf2615ca74cc215c327ef141/mmv1/products/cloudiot/terraform.yaml#L28-L61>See example</a></td></tr><tr><td>* <code>docs.required_properties</code></td><td>string</td><td>Used to append extra content to the bulleted list describing required properties for a resource.</td><td>There are no examples of this currently in use.</td></tr><tr><td>* <code>docs.attributes</code></td><td>string</td><td>Used to append extra content to the bulleted list describing attributes for a resource.</td><td>There is currently only one example of this field in use, <a href=https://github.com/hashicorp/magic-modules/blob/dacfb793fec55a9a2929be00b0cfa8f6cc5f1f88/mmv1/products/iap/terraform.yaml#L224-L226>here</a>.</td></tr><tr><td><code>min_version</code></td><td>string</td><td>If set to <code>beta</code>, the template includes a beta warning at the start of the documentation</td><td><a href=https://registry.terraform.io/providers/hashicorp/google-beta/latest/docs/resources/alloydb_backup>See example in the official docs</a></td></tr><tr><td><code>references.api</code></td><td>string</td><td>Sets the URL used in generated links to documentation</td><td><a href=https://github.com/hashicorp/magic-modules/blob/44d348dc92c279992febd7132a88656417a2a86f/mmv1/products/bigquery/api.yaml#L39>See example</a></td></tr><tr><td><code>references.guides</code></td><td>hash</td><td>A set of key-value pairs where the key is text to be rendered and the value is the URL the text links to</td><td><a href=https://github.com/hashicorp/magic-modules/blob/44d348dc92c279992febd7132a88656417a2a86f/mmv1/products/bigquery/api.yaml#L38>See example</a></td></tr><tr><td><code>supports_indirect_user_project_override</code></td><td>boolean</td><td>This is the explicit way to make sure the &lsquo;User Project Overrides&rsquo; section is shown in the resource&rsquo;s documentation</td><td><a href=https://github.com/hashicorp/magic-modules/blob/44d348dc92c279992febd7132a88656417a2a86f/mmv1/products/datacatalog/terraform.yaml#L43>See example</a> and the <a href=https://registry.terraform.io/providers/hashicorp/google/latest/docs/resources/data_catalog_entry#user-project-overrides>resulting section in the docs</a></td></tr></tbody></table><p>* = Avoid unless absolutely necessary.</p><h3 id=fields-set-within-resource-properties>Fields set within resource properties
<a class=anchor href=#fields-set-within-resource-properties>#</a></h3><p>The main thing to focus on for properties is to provide an adequate description. Typically we copy and paste the descriptions from the official API reference, making sure to pick the richest description and include any links.</p><p>Updates to other fields, like <code>output</code> and <code>required</code>, are easier to troubleshoot via acceptance testing but are also relevant to the produced documentation.</p><table><thead><tr><th>Field</th><th>Type</th><th>Relation to documentation</th></tr></thead><tbody><tr><td><code>deprecated</code></td><td>boolean</td><td>Controls if <code>(Deprecated)</code> will be shown next to the argument name</td></tr><tr><td><code>description</code></td><td>string</td><td>The description shown in for a given argument or attribute</td></tr><tr><td><code>name</code></td><td>string</td><td>The name displayed in a list of arguments or attributes</td></tr><tr><td><code>output</code></td><td>boolean</td><td>Used to prevent a field being presented as an argument in the docs</td></tr><tr><td><code>required</code></td><td>boolean</td><td>Controls if <code>(Required)</code> will be shown next to the argument name</td></tr><tr><td><code>sensitive</code></td><td>boolean</td><td>Is used to help create a list of sensitive values. This list is used in a warning callout about sensitive values in state at the top of the page</td></tr><tr><td><code>skip_docs_values</code></td><td>boolean</td><td>Controls if a default value will be shown, or not, in the docs</td></tr></tbody></table></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/GoogleCloudPlatform/magic-modules/commit/03f37da58923afc64351de4c5400b452259ba17f title='Last modified by Sarah French | January 20, 2023' target=_blank rel=noopener><img src=/magic-modules/svg/calendar.svg class=book-icon alt=Calendar>
<span>January 20, 2023</span></a></div><div><a class="flex align-center" href=https://github.com/GoogleCloudPlatform/magic-modules/edit/main/docs/content/docs/how-to/mmv1-resource-documentation.md target=_blank rel=noopener><img src=/magic-modules/svg/edit.svg class=book-icon alt=Edit>
<span>Edit this page</span></a></div></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#updating-an-existing-mmv1-resources-documentation>Updating an existing MMv1 resource&rsquo;s documentation</a></li><li><a href=#adding-new-documentation-for-a-new-mmv1-resource>Adding new documentation for a new MMv1 resource</a></li><li><a href=#how-generated-documentation-is-made>How generated documentation is made</a></li><li><a href=#what-yaml-fields-are-used-in-the-documentation>What YAML fields are used in the documentation</a><ul><li><a href=#top-level-fields-for-a-product>Top level fields for a product</a></li><li><a href=#top-level-fields-within-resources>Top level fields within resources</a></li><li><a href=#fields-set-within-resource-properties>Fields set within resource properties</a></li></ul></li></ul></nav></div></aside></main></body></html>