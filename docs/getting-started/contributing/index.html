<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="General contributing steps # Fork Magic Modules repository into your GitHub account if you haven&rsquo;t done before.
Check the issue tracker to see whether your feature has already been requested.
if there&rsquo;s an issue and it&rsquo;s already has a dedicated assignee, it indicates that someone may have already started to work on a solution. otherwise, you&rsquo;re welcome to work on the issue. Check whether the resource you would like to work on already exists in the providers (google / google-beta or check the website)."><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><meta property="og:title" content="Contributing"><meta property="og:description" content="General contributing steps # Fork Magic Modules repository into your GitHub account if you haven&rsquo;t done before.
Check the issue tracker to see whether your feature has already been requested.
if there&rsquo;s an issue and it&rsquo;s already has a dedicated assignee, it indicates that someone may have already started to work on a solution. otherwise, you&rsquo;re welcome to work on the issue. Check whether the resource you would like to work on already exists in the providers (google / google-beta or check the website)."><meta property="og:type" content="article"><meta property="og:url" content="https://googlecloudplatform.github.io/magic-modules/docs/getting-started/contributing/"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2022-12-01T08:20:21-08:00"><title>Contributing | Magic Modules</title><link rel=manifest href=/magic-modules/manifest.json><link rel=icon href=/magic-modules/favicon.png type=image/x-icon><link rel=stylesheet href=/magic-modules/book.min.c58292d36b18b675680ab9baea2029204537b839ea72f258746ec0f32ce8d6c8.css integrity="sha256-xYKS02sYtnVoCrm66iApIEU3uDnqcvJYdG7A8yzo1sg=" crossorigin=anonymous><script defer src=/magic-modules/flexsearch.min.js></script>
<script defer src=/magic-modules/en.search.min.b60150d29bc923a1095a1f36cb2d00aba00c9f21a40dfe422c7d7e2f742ddf8c.js integrity="sha256-tgFQ0pvJI6EJWh82yy0Aq6AMnyGkDf5CLH1+L3Qt34w=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/magic-modules/><img src=/magic-modules/magic-modules.svg alt=Logo><span>Magic Modules</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><span>Getting Started</span><ul><li><a href=/magic-modules/docs/getting-started/setup/>Set up your environment</a></li><li><a href=/magic-modules/docs/getting-started/generate-providers/>Generate the providers</a></li><li><a href=/magic-modules/docs/getting-started/run-provider-tests/>Run provider tests</a></li><li><a href=/magic-modules/docs/getting-started/use-built-provider/>Use built provider</a></li><li><a href=/magic-modules/docs/getting-started/contributing/ class=active>Contributing</a></li></ul></li><li><a href=/magic-modules/docs/how-to/>How To</a><ul><li><a href=/magic-modules/docs/how-to/types-of-resources/>Types of resources</a></li><li><a href=/magic-modules/docs/how-to/add-mmv1-resource/>Add an MMv1 resource</a></li><li><a href=/magic-modules/docs/how-to/add-mmv1-iam/>Add MMv1 IAM resources</a></li><li><a href=/magic-modules/docs/how-to/add-mmv1-test/>Add an MMv1 test</a></li><li><a href=/magic-modules/docs/how-to/update-handwritten-resource/>Update a handwritten resource</a></li><li><a href=/magic-modules/docs/how-to/add-handwritten-test/>Add a handwritten test</a></li><li><a href=/magic-modules/docs/how-to/add-handwritten-datasource/>Add a handwritten datasource</a></li><li><a href=/magic-modules/docs/how-to/add-handwritten-iam/>Add handwritten IAM resources</a></li></ul></li><li><span>Reference</span><ul><li><a href=https://github.com/GoogleCloudPlatform/magic-modules/blob/main/mmv1/api/resource.rb target=_blank rel=noopener>api.yaml resource ↗</a></li><li><a href=https://github.com/GoogleCloudPlatform/magic-modules/blob/main/mmv1/overrides/terraform/resource_override.rb target=_blank rel=noopener>terraform.yaml resource ↗</a></li></ul></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/magic-modules/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Contributing</strong>
<label for=toc-control><img src=/magic-modules/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents></nav></aside></header><article class=markdown><h1 id=general-contributing-steps>General contributing steps
<a class=anchor href=#general-contributing-steps>#</a></h1><ol><li><p>Fork <code>Magic Modules</code> repository into your GitHub account if you haven&rsquo;t done before.</p></li><li><p>Check the <a href=https://github.com/hashicorp/terraform-provider-google/issues>issue tracker</a> to see whether your feature has already been requested.</p><ul><li>if there&rsquo;s an issue and it&rsquo;s already has a dedicated assignee, it indicates that someone may have already started to work on a solution.</li><li>otherwise, you&rsquo;re welcome to work on the issue.</li></ul></li><li><p>Check whether the resource you would like to work on already exists in the providers (<a href=https://github.com/hashicorp/terraform-provider-google><code>google</code></a> / <a href=https://github.com/hashicorp/terraform-provider-google-beta><code>google-beta</code></a> or <a href=https://registry.terraform.io/providers/hashicorp/google/latest/docs>check the website</a>).</p><ul><li>If it exists, check the header of the downstream file to identify the type of tools used to generate the resource. For some resources, the code file, the test file and the documentation file may not be generated via the same tools.<ul><li>Generated resources like <a href=https://registry.terraform.io/providers/hashicorp/google/latest/docs/resources/compute_address><code>google_compute_address</code></a> can be identified by looking in their <a href=https://github.com/hashicorp/terraform-provider-google/blob/main/google/resource_compute_address.go><code>Go source</code></a> for an <code>AUTO GENERATED CODE</code> header as well as a <code>Type</code>. &ldquo;Generated resources&rdquo; typically refers to just the <code>MMv1</code> type, and <code>DCL</code> type resources are considered &ldquo;DCL-based&rdquo;. (Currently DCL-related contribution are not supported)</li><li>Handwritten resources like <a href=https://registry.terraform.io/providers/hashicorp/google/latest/docs/resources/container_cluster><code>google_container_cluster</code></a> can be identified if they have source code present under the <a href=https://github.com/GoogleCloudPlatform/magic-modules/tree/main/mmv1/third_party/terraform/resources><code>mmv1/third_party/terraform/resources</code></a> folder or by the absence of the <code>AUTO GENERATED CODE header</code> in their <a href=https://github.com/hashicorp/terraform-provider-google/blob/main/google/resource_container_cluster.go><code>Go source</code></a>.</li></ul></li><li>If not, decide which tool you would like to use to implement the resource.<ul><li>MMv1 is strongly preferred over handwriting the resource unless the resource can not be generated.</li><li>Currently, only handwritten datasources are supported.</li></ul></li></ul></li><li><p>Make the actual code change.</p><ul><li>The <a href=/magic-modules/docs/how-to>How To</a> section will guide you to the detailed instructions on how to make your change.</li></ul></li><li><p><a href=/magic-modules/docs/getting-started/generate-providers/>Generate the providers</a> that include your change.</p></li><li><p><a href=/magic-modules/docs/getting-started/run-provider-tests/>Run provider tests locally</a> that are relevant to the change you made. (Testing the PR locally and pushing the commit to the PR only after the tests pass locally may significantly reduce back-and-forth in review.)</p></li><li><p>Push your changes to your <code>magic-modules</code> repo fork and send a pull request from that branch to the main branch on <code>magic-modules</code>. A reviewer will be assigned automatically to your PR.</p></li><li><p>Wait until the the modules magician to generate downstream diff (which should take about 15 mins after creating the PR) to make sure all changes are generated correctly in downstream repos.</p></li><li><p>Wait for the VCR test results.
<details><summary>Get to know general workflow for VCR tests</summary><div class=markdown-inner><pre><code>  1. You submit your change.
  1. The recorded tests are ran against your changes by the `modular-magician`. Tests will fail if:
     1. Your PR has changed the HTTP request values sent by the provider
     1. Your PR does not change the HTTP request values, but fails on the values returned in an old recording
     1. The recordings are out of sync with the merge-base of your PR, and an unrelated contributor's change has caused a false positive
  1. The `modular-magician` will leave a message indicating the number of passing and failing VCR tests. If there is a failure, the `modular-magician` user will leave a message indicating the &quot;`Triggering VCR tests in RECORDING mode for the following tests that failed during VCR:`&quot; marking which tests failed.
     1. If a test does not appear related, it probably isn't!
  1. The `modular-magician` will kick off a second test run targeting only the failed tests, this time hitting the live GCP APIs. If there are tests that fail at this point, a message stating `Tests failed during RECORDING mode:` will be left indicating the tests.
     1. If a test that appears to be related to your change has failed here, it's likely your change has introduced an issue. You can view the debug logs for the test by clicking the &quot;view&quot; link beside the test case to attempt to debug what's going wrong.
     1. If a test appears to be completely unrelated has failed, it's possible that a GCP API has changed in a way that broke the provider or our environment capped on a quota.
</code></pre></div></details></p><p>Where possible, take a look at the logs and see if you can figure out what needs to be fixed related to your change.
The false positive rate on these tests is extremely high between changes in the API, Cloud Build bugs, and eventual consistency issues in test recordings so we don&rsquo;t expect contributors to wholly interpret the results- that&rsquo;s the responsibility of your reviewer.</p></li><li><p>If your assigned reviewers does not reply / review within a week, gently ping them on github.</p></li><li><p>After your PR is merged, it will be released to customers in around a week or two.</p></li></ol></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/GoogleCloudPlatform/magic-modules/commit/b516d46d92ea9aaa0ddc5f52100c9ea8e68d5ca5 title='Last modified by Stephen Lewis (Burrows) | December 1, 2022' target=_blank rel=noopener><img src=/magic-modules/svg/calendar.svg class=book-icon alt=Calendar>
<span>December 1, 2022</span></a></div><div><a class="flex align-center" href=https://github.com/GoogleCloudPlatform/magic-modules/edit/main/docs/content/docs/getting-started/contributing.md target=_blank rel=noopener><img src=/magic-modules/svg/edit.svg class=book-icon alt=Edit>
<span>Edit this page</span></a></div></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents></nav></div></aside></main></body></html>