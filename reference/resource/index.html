<!doctype html><html lang=en-us dir=ltr><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="
  MMv1 resource reference
  #

This page documents commonly-used properties for resources. For a full list of
available properties, see resource.go ↗.

  Basic
  #


  name
  #

API resource name.

  description
  #

Resource description. Used in documentation.
Example:
description: |
  This is a multi-line description
  of a resource. All multi-line descriptions must follow
  this format of using a vertical bar followed by a line-break,
  with the remaining description being indented.  

  references
  #

Links to reference documentation for a resource. Contains two attributes:"><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#343a40"><meta name=color-scheme content="light dark"><meta property="og:url" content="https://googlecloudplatform.github.io/magic-modules/reference/resource/"><meta property="og:site_name" content="Magic Modules"><meta property="og:title" content="MMv1 resource reference"><meta property="og:description" content="MMv1 resource reference # This page documents commonly-used properties for resources. For a full list of available properties, see resource.go ↗.
Basic # name # API resource name.
description # Resource description. Used in documentation.
Example:
description: | This is a multi-line description of a resource. All multi-line descriptions must follow this format of using a vertical bar followed by a line-break, with the remaining description being indented. references # Links to reference documentation for a resource. Contains two attributes:"><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="reference"><meta property="article:modified_time" content="2025-01-21T10:18:46-08:00"><title>MMv1 resource reference | Magic Modules</title>
<link rel=manifest href=/magic-modules/manifest.json><link rel=icon href=/magic-modules/favicon.png><link rel=canonical href=https://googlecloudplatform.github.io/magic-modules/reference/resource/><link rel=stylesheet href=/magic-modules/book.min.309b7ed028807cdb68d8d61e26d609f48369c098dbf5e4d8c0dcf4cdf49feafc.css integrity="sha256-MJt+0CiAfNto2NYeJtYJ9INpwJjb9eTYwNz0zfSf6vw=" crossorigin=anonymous><script defer src=/magic-modules/fuse.min.js></script><script defer src=/magic-modules/en.search.min.d9a96e1b403a31622ae0ca23b276773f1df8e1fe3ec08d6b326ec797b738ab29.js integrity="sha256-2aluG0A6MWIq4MojsnZ3Px344f4+wI1rMm7Hl7c4qyk=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/magic-modules/><img src=/magic-modules/magic-modules.svg alt=Logo><span>Magic Modules</span></a></h2><div class="book-search hidden"><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><script>document.querySelector(".book-search").classList.remove("hidden")</script><ul><li><a href=/magic-modules/>Overview</a></li></ul><ul><li><a href=/magic-modules/contribution-process/>Contribution process</a></li><li><span>Develop</span><ul><li><a href=/magic-modules/develop/set-up-dev-environment/>Set up your development environment</a></li><li><a href=/magic-modules/develop/add-resource/>Add a resource</a></li><li><a href=/magic-modules/develop/add-fields/>Add a field to an existing resource</a></li><li><a href=/magic-modules/develop/add-iam-support/>Add IAM support</a></li><li><a href=/magic-modules/develop/add-handwritten-datasource/>Add a datasource</a></li><li><a href=/magic-modules/develop/custom-code/>Add custom resource code</a></li><li><a href=/magic-modules/develop/promote-to-ga/>Promote to GA</a></li><li><a href=/magic-modules/develop/update-dependencies/>Update dependencies</a></li><li><a href=/magic-modules/develop/diffs/>Fix diffs</a></li><li><a href=/magic-modules/develop/generate-providers/>Generate the providers</a></li><li><a href=/magic-modules/develop/client-side-fields/>Client-side fields</a></li></ul></li><li><span>Test</span><ul><li><a href=/magic-modules/test/test/>Add resource tests</a></li><li><a href=/magic-modules/test/run-tests/>Run tests</a></li></ul></li><li><span>Document</span><ul><li><a href=/magic-modules/document/add-documentation/>Add documentation</a></li><li><a href=/magic-modules/document/handwritten-docs-style-guide/>Handwritten docs style guide</a></li></ul></li><li><span>Breaking changes</span><ul><li><a href=/magic-modules/breaking-changes/breaking-changes/>Types of breaking changes</a></li><li><a href=/magic-modules/breaking-changes/make-a-breaking-change/>Make a breaking change</a></li></ul></li><li><span>Code review</span><ul><li><a href=/magic-modules/code-review/create-pr/>Create a pull request</a></li><li><a href=/magic-modules/code-review/release-notes/>Write release notes</a></li><li><a href=/magic-modules/code-review/review-pr/>Review a pull request</a></li></ul></li><li><span>Best practices</span><ul><li><a href=/magic-modules/best-practices/immutable-fields/>Immutable fields</a></li><li><a href=/magic-modules/best-practices/deletion-behaviors/>Deletion behaviors</a></li><li><a href=/magic-modules/best-practices/labels-and-annotations/>Labels and annotations</a></li><li><a href=/magic-modules/best-practices/common-resource-patterns/>Common resource patterns</a></li></ul></li><li><span>Reference</span><ul><li><a href=/magic-modules/reference/resource/ class=active>MMv1 resource reference</a></li><li><a href=/magic-modules/reference/field/>MMv1 field reference</a></li><li><a href=/magic-modules/reference/make-commands/>make commands</a></li><li><a href=/magic-modules/reference/metadata/>MMv1 metadata reference</a></li><li><a href=/magic-modules/reference/ruby-go-changes/>Ruby to Go Migration</a></li></ul></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/magic-modules/svg/menu.svg class=book-icon alt=Menu>
</label><strong>MMv1 resource reference</strong>
<label for=toc-control><img src=/magic-modules/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#basic>Basic</a><ul><li><a href=#name><code>name</code></a></li><li><a href=#description><code>description</code></a></li><li><a href=#references><code>references</code></a></li><li><a href=#min_version-beta><code>min_version: beta</code></a></li><li><a href=#docs><code>docs</code></a></li></ul></li><li><a href=#api-interactions>API interactions</a><ul><li><a href=#base_url><code>base_url</code></a></li><li><a href=#self_link><code>self_link</code></a></li><li><a href=#immutable><code>immutable</code></a></li><li><a href=#timeouts><code>timeouts</code></a></li><li><a href=#create_url><code>create_url</code></a></li><li><a href=#create_verb><code>create_verb</code></a></li><li><a href=#update_url><code>update_url</code></a></li><li><a href=#update_verb><code>update_verb</code></a></li><li><a href=#update_mask><code>update_mask</code></a></li><li><a href=#delete_url><code>delete_url</code></a></li><li><a href=#delete_verb><code>delete_verb</code></a></li><li><a href=#exclude_delete><code>exclude_delete</code></a></li><li><a href=#autogen_async><code>autogen_async</code></a></li><li><a href=#async><code>async</code></a></li><li><a href=#error_retry_predicates><code>error_retry_predicates</code></a></li><li><a href=#error_abort_predicates><code>error_abort_predicates</code></a></li></ul></li><li><a href=#iam-resources>IAM resources</a><ul><li><a href=#iam_policy><code>iam_policy</code></a></li></ul></li><li><a href=#resource-behavior>Resource behavior</a><ul><li><a href=#custom_code><code>custom_code</code></a></li><li><a href=#mutex><code>mutex</code></a></li></ul></li><li><a href=#fields>Fields</a><ul><li><a href=#virtual_fields><code>virtual_fields</code></a></li><li><a href=#parameters><code>parameters</code></a></li><li><a href=#properties><code>properties</code></a></li></ul></li><li><a href=#examples>Examples</a><ul><li><a href=#examples-1><code>examples</code></a></li></ul></li></ul></nav></aside></header><article class="markdown book-article"><h1 id=mmv1-resource-reference>MMv1 resource reference
<a class=anchor href=#mmv1-resource-reference>#</a></h1><p>This page documents commonly-used properties for resources. For a full list of
available properties, see <a href=https://github.com/GoogleCloudPlatform/magic-modules/blob/main/mmv1/api/resource.go>resource.go ↗</a>.</p><h2 id=basic>Basic
<a class=anchor href=#basic>#</a></h2><h3 id=name><code>name</code>
<a class=anchor href=#name>#</a></h3><p>API resource name.</p><h3 id=description><code>description</code>
<a class=anchor href=#description>#</a></h3><p>Resource description. Used in documentation.</p><p>Example:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>description</span>: |<span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  This is a multi-line description
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  of a resource. All multi-line descriptions must follow
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  this format of using a vertical bar followed by a line-break,
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  with the remaining description being indented.</span>  
</span></span></code></pre></div><h3 id=references><code>references</code>
<a class=anchor href=#references>#</a></h3><p>Links to reference documentation for a resource. Contains two attributes:</p><ul><li><code>guides</code>: Link to quickstart in the API&rsquo;s Guides section</li><li><code>api</code>: Link to the REST API reference for the resource</li></ul><p>Example:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>references</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>guides</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#39;Create and connect to a database&#39;</span>: <span style=color:#e6db74>&#39;https://cloud.google.com/alloydb/docs/quickstart/create-and-connect&#39;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>api</span>: <span style=color:#e6db74>&#39;https://cloud.google.com/alloydb/docs/reference/rest/v1/projects.locations.backups&#39;</span>
</span></span></code></pre></div><h3 id=min_version-beta><code>min_version: beta</code>
<a class=anchor href=#min_version-beta>#</a></h3><p>Marks the field (and any subfields) as beta-only. Ensure a beta version block
is present in provider.yaml.</p><h3 id=docs><code>docs</code>
<a class=anchor href=#docs>#</a></h3><p>Inserts styled markdown into the header of the resource&rsquo;s page in the provider
documentation. Can contain two attributes:</p><ul><li><code>warning</code>: Warning text which will be displayed at the top of the resource docs on a yellow background.</li><li><code>note</code>: Note text which will be displayed at the top of the resource docs on a blue background.</li></ul><p>Example:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>docs</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>warning</span>: |<span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    This is a multi-line warning and will be
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    displayed on a yellow background.</span>    
</span></span><span style=display:flex><span>  <span style=color:#f92672>note</span>: |<span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    This is a multi-line note and will be
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    displayed on a blue background.</span>    
</span></span></code></pre></div><h2 id=api-interactions>API interactions
<a class=anchor href=#api-interactions>#</a></h2><h3 id=base_url><code>base_url</code>
<a class=anchor href=#base_url>#</a></h3><p>URL for the resource&rsquo;s <a href=https://google.aip.dev/132>standard List method</a>.
Terraform field names enclosed in double curly braces are replaced with
the field values from the resource at runtime.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>base_url</span>: <span style=color:#e6db74>&#39;projects/{{project}}/locations/{{location}}/resourcenames&#39;</span>
</span></span></code></pre></div><h3 id=self_link><code>self_link</code>
<a class=anchor href=#self_link>#</a></h3><p>URL for the resource&rsquo;s <a href=https://google.aip.dev/131>standard Get method</a>.
Terraform field names enclosed in double curly braces are replaced with
the field values from the resource at runtime.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>self_link</span>: <span style=color:#e6db74>&#39;projects/{{project}}/locations/{{location}}/resourcenames/{{name}}&#39;</span>
</span></span></code></pre></div><h3 id=immutable><code>immutable</code>
<a class=anchor href=#immutable>#</a></h3><p>If true, the resource and all its fields are considered immutable - that is,
only creatable, not updatable. Individual fields can override this if they
have a custom update method in the API.</p><p>See <a href=https://googlecloudplatform.github.io/magic-modules/best-practices/immutable-fields/>Best practices: Immutable fields</a> for more information.</p><p>Default: <code>false</code></p><p>Example:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>immutable</span>: <span style=color:#66d9ef>true</span>
</span></span></code></pre></div><h3 id=timeouts><code>timeouts</code>
<a class=anchor href=#timeouts>#</a></h3><p>Overrides one or more timeouts, in minutes. All timeouts default to 20.</p><p>Example:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>timeouts</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>insert_minutes</span>: <span style=color:#ae81ff>40</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>update_minutes</span>: <span style=color:#ae81ff>40</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>delete_minutes</span>: <span style=color:#ae81ff>40</span>
</span></span></code></pre></div><h3 id=create_url><code>create_url</code>
<a class=anchor href=#create_url>#</a></h3><p>URL for the resource&rsquo;s <a href=https://google.aip.dev/133>standard Create method</a>, including query parameters.
Terraform field names enclosed in double curly braces are replaced with
the field values from the resource at runtime.</p><p>Example:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>create_url</span>: <span style=color:#e6db74>&#39;projects/{{project}}/locations/{{location}}/resourcenames?resourceId={{name}}&#39;</span>
</span></span></code></pre></div><h3 id=create_verb><code>create_verb</code>
<a class=anchor href=#create_verb>#</a></h3><p>Overrides the HTTP verb used to create a new resource.
Allowed values: <code>'POST'</code>, <code>'PUT'</code>, <code>'PATCH'</code>.</p><p>Default: <code>'POST'</code></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>create_verb</span>: <span style=color:#e6db74>&#39;PATCH&#39;</span>
</span></span></code></pre></div><h3 id=update_url><code>update_url</code>
<a class=anchor href=#update_url>#</a></h3><p>Overrides the URL for the resource&rsquo;s <a href=https://google.aip.dev/134>standard Update method</a>.
If unset, the <a href=#self_link><code>self_link</code> URL</a> is used by default.
Terraform field names enclosed in double curly braces are replaced with
the field values from the resource at runtime.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>update_url</span>: <span style=color:#e6db74>&#39;projects/{{project}}/locations/{{location}}/resourcenames/{{name}}&#39;</span>
</span></span></code></pre></div><h3 id=update_verb><code>update_verb</code>
<a class=anchor href=#update_verb>#</a></h3><p>The HTTP verb used to update a resource. Allowed values: <code>'POST'</code>, <code>'PUT'</code>, <code>'PATCH'</code>.</p><p>Default: <code>'PUT'</code>.</p><p>Example:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>update_verb</span>: <span style=color:#e6db74>&#39;PATCH&#39;</span>
</span></span></code></pre></div><h3 id=update_mask><code>update_mask</code>
<a class=anchor href=#update_mask>#</a></h3><p>If true, the resource sets an <code>updateMask</code> query parameter listing modified
fields when updating the resource. If false, it doesn&rsquo;t.</p><p>Default: <code>false</code></p><p>Example:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>update_mask</span>: <span style=color:#66d9ef>true</span>
</span></span></code></pre></div><h3 id=delete_url><code>delete_url</code>
<a class=anchor href=#delete_url>#</a></h3><p>Overrides the URL for the resource&rsquo;s <a href=https://google.aip.dev/135>standard Delete method</a>.
If unset, the <a href=#self_link><code>self_link</code> URL</a> is used by default.
Terraform field names enclosed in double curly braces are replaced with
the field values from the resource at runtime.</p><p>Example:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>delete_url</span>: <span style=color:#e6db74>&#39;projects/{{project}}/locations/{{location}}/resourcenames/{{name}}&#39;</span>
</span></span></code></pre></div><h3 id=delete_verb><code>delete_verb</code>
<a class=anchor href=#delete_verb>#</a></h3><p>Overrides the HTTP verb used to delete a resource.
Allowed values: <code>'POST'</code>, <code>'PUT'</code>, <code>'PATCH'</code>, <code>'DELETE'</code>.</p><p>Default: <code>'DELETE'</code></p><p>Example:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>delete_verb</span>: <span style=color:#e6db74>&#39;POST&#39;</span>
</span></span></code></pre></div><h3 id=exclude_delete><code>exclude_delete</code>
<a class=anchor href=#exclude_delete>#</a></h3><p>If true, deleting the resource will only remove it from the Terraform state and will not call an API. If false, deleting the resource will run the standard deletion behavior and/or any <a href=https://googlecloudplatform.github.io/magic-modules/develop/custom-code/>custom code</a> related to deletion.
This should be used if the resource can never be deleted in the API, and there is no other reasonable action to take on deletion. See <a href=https://googlecloudplatform.github.io/magic-modules/best-practices/deletion-behaviors/>Deletion behaviors</a> for more information.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>exclude_delete</span>: <span style=color:#66d9ef>true</span>
</span></span></code></pre></div><h3 id=autogen_async><code>autogen_async</code>
<a class=anchor href=#autogen_async>#</a></h3><p>If true, code for handling long-running operations is generated along with
the resource. If false, that code isn&rsquo;t generated and must be handwritten.</p><p>Default: <code>false</code></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>autogen_async</span>: <span style=color:#66d9ef>true</span>
</span></span></code></pre></div><h3 id=async><code>async</code>
<a class=anchor href=#async>#</a></h3><p>Sets parameters for handling operations returned by the API. Can contain several attributes:</p><ul><li><code>actions</code>: Overrides which API calls return operations. Default: <code>['create', 'update', 'delete']</code></li><li><code>operation.base_url</code>: This should always be set to <code>'{{op_id}}'</code> unless you know that&rsquo;s wrong.</li><li><code>result.resource_inside_response</code>: If true, the provider sets the resource&rsquo;s Terraform ID after
the resource is created, taking into account values that are set by the API at create time. This
is only possible when the completed operation&rsquo;s JSON includes the created resource in the
&ldquo;response&rdquo; field. If false, the provider sets the resource&rsquo;s Terraform ID before the resource is
created, based only on the resource configuration. Default: <code>false</code>.</li></ul><p>Example:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>async</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>actions</span>: [<span style=color:#e6db74>&#39;create&#39;</span>, <span style=color:#e6db74>&#39;update&#39;</span>, <span style=color:#e6db74>&#39;delete&#39;</span>]
</span></span><span style=display:flex><span>  <span style=color:#f92672>operation</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>base_url</span>: <span style=color:#e6db74>&#39;{{op_id}}&#39;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>result</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>resource_inside_response</span>: <span style=color:#66d9ef>true</span>
</span></span></code></pre></div><h3 id=error_retry_predicates><code>error_retry_predicates</code>
<a class=anchor href=#error_retry_predicates>#</a></h3><p>An array of function names that determine whether an error is retryable.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>error_retry_predicates</span>:
</span></span><span style=display:flex><span>  - <span style=color:#e6db74>&#39;transport_tpg.IamMemberMissing&#39;</span>
</span></span></code></pre></div><h3 id=error_abort_predicates><code>error_abort_predicates</code>
<a class=anchor href=#error_abort_predicates>#</a></h3><p>An array of function names that determine whether an error is not retryable.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>error_abort_predicates</span>:
</span></span><span style=display:flex><span>  - <span style=color:#e6db74>&#39;transport_tpg.Is429QuotaError&#39;</span>
</span></span></code></pre></div><h2 id=iam-resources>IAM resources
<a class=anchor href=#iam-resources>#</a></h2><h3 id=iam_policy><code>iam_policy</code>
<a class=anchor href=#iam_policy>#</a></h3><p>Allows configuration of generated IAM resources. Supports the following common
attributes – for a full reference, see
<a href=https://github.com/GoogleCloudPlatform/magic-modules/blob/main/mmv1/api/resource/iam_policy.go>iam_policy.rb ↗</a>:</p><ul><li><code>parent_resource_attribute</code>: Name of the field on the terraform IAM resources
which references the parent resource.</li><li><code>method_name_separator</code>: Character preceding setIamPolicy in the full URL for
the API method. Usually <code>:</code>.</li><li><code>fetch_iam_policy_verb</code>: HTTP method for getIamPolicy. Usually <code>'POST'</code>.
Allowed values: <code>'GET'</code>, <code>'POST'</code>. Default: <code>'GET'</code></li><li><code>set_iam_policy_verb</code>: HTTP method for getIamPolicy. Usually <code>'POST'</code>.
Allowed values: <code>'POST'</code>, <code>'PUT'</code>. Default: <code>'POST'</code></li><li><code>import_format</code>: Must match the parent resource&rsquo;s <code>import_format</code> (or <code>self_link</code> if
<code>import_format</code> is unset), but with the <code>parent_resource_attribute</code>
value substituted for the final field.</li><li><code>allowed_iam_role</code>: Valid IAM role that can be set by generated tests. Default: <code>'roles/viewer'</code></li><li><code>iam_conditions_request_type</code>: If IAM conditions are supported, set this attribute to indicate how the
conditions should be passed to the API. Allowed values: <code>'QUERY_PARAM'</code>,
<code>'REQUEST_BODY'</code>, <code>'QUERY_PARAM_NESTED'</code>. Note: <code>'QUERY_PARAM_NESTED'</code> should
only be used if the query param field contains a <code>.</code></li><li><code>min_version: beta</code>: Marks IAM support as beta-only.</li></ul><p>Example:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>iam_policy</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>parent_resource_attribute</span>: <span style=color:#e6db74>&#39;cloud_function&#39;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>method_name_separator</span>: <span style=color:#e6db74>&#39;:&#39;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>fetch_iam_policy_verb</span>: :<span style=color:#ae81ff>POST</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>import_format</span>:
</span></span><span style=display:flex><span>    - <span style=color:#e6db74>&#39;projects/{{project}}/locations/{{location}}/resourcenames/{{cloud_function}}&#39;</span>,
</span></span><span style=display:flex><span>    - <span style=color:#e6db74>&#39;{{cloud_function}}&#39;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>allowed_iam_role</span>: <span style=color:#e6db74>&#39;roles/viewer&#39;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>iam_conditions_request_type</span>: :<span style=color:#ae81ff>REQUEST_BODY</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>min_version</span>: <span style=color:#ae81ff>beta</span>
</span></span></code></pre></div><h2 id=resource-behavior>Resource behavior
<a class=anchor href=#resource-behavior>#</a></h2><h3 id=custom_code><code>custom_code</code>
<a class=anchor href=#custom_code>#</a></h3><p>Injects arbitrary logic into a generated resource. For more information, see <a href=https://googlecloudplatform.github.io/magic-modules/develop/custom-code/>Add custom resource code</a>.</p><h3 id=mutex><code>mutex</code>
<a class=anchor href=#mutex>#</a></h3><p>All resources (of all kinds) that share a mutex value will block rather than
executing concurrent API requests. Terraform field names enclosed in double
curly braces are replaced with the field values from the resource at runtime.</p><p>Example:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>mutex</span>: <span style=color:#e6db74>&#39;alloydb/instance/{{name}}&#39;</span>
</span></span></code></pre></div><h2 id=fields>Fields
<a class=anchor href=#fields>#</a></h2><h3 id=virtual_fields><code>virtual_fields</code>
<a class=anchor href=#virtual_fields>#</a></h3><p>Contains a list of <a href=https://googlecloudplatform.github.io/magic-modules/develop/client-side-fields/>virtual_fields</a>. By convention,
these should be fields that do not get sent to the API, and are instead used to modify
the behavior of a Terraform resource such as <code>deletion_protection</code>.</p><h3 id=parameters><code>parameters</code>
<a class=anchor href=#parameters>#</a></h3><p>Contains a list of <a href=https://googlecloudplatform.github.io/magic-modules/reference/field/>fields</a>. By convention,
these should be the fields that are part URL parameters such as <code>location</code> and <code>name</code>.</p><h3 id=properties><code>properties</code>
<a class=anchor href=#properties>#</a></h3><p>Contains a list of <a href=https://googlecloudplatform.github.io/magic-modules/reference/field/>fields</a>. By convention,
these should be fields that aren&rsquo;t part of the URL parameters.</p><p>Example:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>properties</span>:
</span></span><span style=display:flex><span>  - <span style=color:#f92672>name</span>: <span style=color:#e6db74>&#39;fieldOne&#39;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>type</span>: <span style=color:#ae81ff>String</span>
</span></span></code></pre></div><h2 id=examples>Examples
<a class=anchor href=#examples>#</a></h2><h3 id=examples-1><code>examples</code>
<a class=anchor href=#examples-1>#</a></h3><p>A list of configurations that are used to generate documentation and tests. Each example supports the following common
attributes – for a full reference, see
<a href=https://github.com/GoogleCloudPlatform/magic-modules/blob/main/mmv1/api/resource/examples.go>examples.go ↗</a>:</p><ul><li><code>name</code>: snake_case name of the example. This corresponds to the configuration file in
<a href=https://github.com/GoogleCloudPlatform/magic-modules/tree/main/mmv1/templates/terraform/examples>mmv1/templates/terraform/examples</a> (excluding the <code>.go.tmpl</code> suffix) and is used to generate the test name and the documentation header.</li><li><code>primary_resource_id</code>: The id of the resource under test. This is used by tests to automatically run additional checks.
Configuration files should reference this to avoid getting out of sync. For example:
<code>resource "google_compute_address" ""{{$.PrimaryResourceId}}" {</code></li><li><code>bootstrap_iam</code>: specify member/role pairs that should always exist. <code>{project_number}</code> will be replaced with the
default project&rsquo;s project number. This avoids race conditions when modifying the IAM permissions for the default test project.
Permissions attached to resources created <em>in</em> a test should instead be provisioned with standard terraform resources.</li><li><code>vars</code>: Key/value pairs of variables to inject into the configuration file. These can be referenced in the configuration file
with <code>{{index $.Vars "key"}}</code>. All resource IDs (even for resources not under test) should be declared with variables that
contain a <code>-</code> or <code>_</code>; this will ensure that, in tests, the resources are created with a <code>tf-test</code> prefix to allow automatic cleanup of dangling resources and a random suffix to avoid name collisions.</li><li><code>test_env_vars</code>: Key/value pairs of variable names and special values indicating variables that should be pulled from the
environment during tests. These will receive a neutral default value in documentation. Common special values include:
<code>PROJECT_NAME</code>, <code>REGION</code>, <code>ORG_ID</code>, <code>BILLING_ACCT</code>, <code>SERVICE_ACCT</code> (the test runner service account).</li><li><code>test_vars_overrides</code>: Key/value pairs of literal overrides for variables used in tests. This can be used to call functions to
generate or determine a variable&rsquo;s value.</li><li><code>min_version</code>: Set this to <code>beta</code> if the resource is in the <code>google</code> provider but the example will only work with the
<code>google-beta</code> provider (for example, because it includes a beta-only field.)</li><li><code>ignore_read_extra</code>: Properties to not check on import. This should be used in cases where a property will not be set on import,
for example write-only fields.</li><li><code>exclude_test</code>: If set to <code>true</code>, no test will be generated based on this example.</li><li><code>exclude_docs</code>: If set to <code>true</code>, no documentation will be generated based on this example.</li><li><code>exclude_import_test</code>: If set to <code>true</code>, no import test will be generated for this example.</li><li><code>skip_vcr</code>: See <a href=https://googlecloudplatform.github.io/magic-modules/test/test/#skip-vcr>Skip tests in VCR replaying mode</a> for more information about this flag.</li><li><code>skip_test</code>: If not empty, the test generated based on this example will always be skipped. In most cases, the value should be a
link to a ticket explaining the issue that needs to be resolved before the test can be unskipped.</li><li><code>external_providers</code>: A list of external providers that are needed for the testcase. This does add some latency to the testcase,
so only use if necessary. Common external providers: <code>random</code>, <code>time</code>.</li></ul><p>Example:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>examples</span>:
</span></span><span style=display:flex><span>  - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>service_resource_basic</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>primary_resource_id</span>: <span style=color:#ae81ff>example</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>bootstrap_iam</span>:
</span></span><span style=display:flex><span>      - <span style=color:#f92672>member</span>: <span style=color:#e6db74>&#34;serviceAccount:service-{project_number}@gcp-sa-healthcare.iam.gserviceaccount.com&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>role</span>: <span style=color:#e6db74>&#34;roles/bigquery.dataEditor&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>vars</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>dataset_id</span>: <span style=color:#e6db74>&#34;my-dataset&#34;</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>network_name</span>: <span style=color:#e6db74>&#34;my-network&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>test_env_vars</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>org_id</span>: <span style=color:#e6db74>&#34;ORG_ID&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>test_vars_overrides</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>network_name</span>: <span style=color:#e6db74>&#39;acctest.BootstrapSharedServiceNetworkingConnection(t, &#34;service-resource-network-config&#34;)&#39;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>min_version</span>: <span style=color:#e6db74>&#34;beta&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>ignore_read_extra</span>: 
</span></span><span style=display:flex><span>      - <span style=color:#e6db74>&#39;foo&#39;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>exclude_test</span>: <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>exclude_docs</span>: <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>exclude_import_test</span>: <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>skip_vcr</span>: <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>skip_test</span>: <span style=color:#e6db74>&#34;https://github.com/hashicorp/terraform-provider-google/issues/20574&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>external_providers</span>:
</span></span><span style=display:flex><span>      - <span style=color:#e6db74>&#34;time&#34;</span>
</span></span></code></pre></div></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/GoogleCloudPlatform/magic-modules/commit/012f972b56efacd7fa789d77530bf9378842a5a5 title='Last modified by Stephen Lewis (Burrows) | January 21, 2025' target=_blank rel=noopener><img src=/magic-modules/svg/calendar.svg class=book-icon alt=Calendar>
<span>January 21, 2025</span></a></div><div><a class="flex align-center" href="https://github.com/hashicorp/terraform-provider-google/issues/new?assignees=&labels=technical-debt,documentation&projects=&title=MM%20docsite%20issue%20in%20content/reference%2fresource.md&template=11_developer_productivity.md" target=_blank rel=noopener><img src=/magic-modules/report.svg class=book-icon alt=Edit>
<span>Report documentation issue</span></a></div><div><a class="flex align-center" href=https://github.com/GoogleCloudPlatform/magic-modules/edit/main/docs/content/reference/resource.md target=_blank rel=noopener><img src=/magic-modules/svg/edit.svg class=book-icon alt=Edit>
<span>Edit this page</span></a></div></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#basic>Basic</a><ul><li><a href=#name><code>name</code></a></li><li><a href=#description><code>description</code></a></li><li><a href=#references><code>references</code></a></li><li><a href=#min_version-beta><code>min_version: beta</code></a></li><li><a href=#docs><code>docs</code></a></li></ul></li><li><a href=#api-interactions>API interactions</a><ul><li><a href=#base_url><code>base_url</code></a></li><li><a href=#self_link><code>self_link</code></a></li><li><a href=#immutable><code>immutable</code></a></li><li><a href=#timeouts><code>timeouts</code></a></li><li><a href=#create_url><code>create_url</code></a></li><li><a href=#create_verb><code>create_verb</code></a></li><li><a href=#update_url><code>update_url</code></a></li><li><a href=#update_verb><code>update_verb</code></a></li><li><a href=#update_mask><code>update_mask</code></a></li><li><a href=#delete_url><code>delete_url</code></a></li><li><a href=#delete_verb><code>delete_verb</code></a></li><li><a href=#exclude_delete><code>exclude_delete</code></a></li><li><a href=#autogen_async><code>autogen_async</code></a></li><li><a href=#async><code>async</code></a></li><li><a href=#error_retry_predicates><code>error_retry_predicates</code></a></li><li><a href=#error_abort_predicates><code>error_abort_predicates</code></a></li></ul></li><li><a href=#iam-resources>IAM resources</a><ul><li><a href=#iam_policy><code>iam_policy</code></a></li></ul></li><li><a href=#resource-behavior>Resource behavior</a><ul><li><a href=#custom_code><code>custom_code</code></a></li><li><a href=#mutex><code>mutex</code></a></li></ul></li><li><a href=#fields>Fields</a><ul><li><a href=#virtual_fields><code>virtual_fields</code></a></li><li><a href=#parameters><code>parameters</code></a></li><li><a href=#properties><code>properties</code></a></li></ul></li><li><a href=#examples>Examples</a><ul><li><a href=#examples-1><code>examples</code></a></li></ul></li></ul></nav></div></aside></main></body></html>