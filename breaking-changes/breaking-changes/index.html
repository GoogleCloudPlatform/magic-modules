<!doctype html><html lang=en-us dir=ltr><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Types of breaking changes#
A &ldquo;breaking change&rdquo; is any change that requires an end user to modify a
previously-valid configuration after a provider upgrade. In this context,
a &ldquo;valid configuration&rdquo; is one that:

Is considered syntactically correct by terraform validate
Does not return an error during terraform apply
Creates, updates, deletes, or does not modify resources
Only manages resources that have not been altered with other tools,
such as gcloud or Cloud Console.

This document lists many types of breaking changes but may not be entirely
comprehensive. Some types of changes that would normally be &ldquo;breaking&rdquo; may
have specific mitigating circumstances that make them non-breaking."><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#343a40"><meta name=color-scheme content="light dark"><meta property="og:url" content="https://googlecloudplatform.github.io/magic-modules/breaking-changes/breaking-changes/"><meta property="og:site_name" content="Magic Modules"><meta property="og:title" content="Types of breaking changes"><meta property="og:description" content="Types of breaking changes# A “breaking change” is any change that requires an end user to modify a previously-valid configuration after a provider upgrade. In this context, a “valid configuration” is one that:
Is considered syntactically correct by terraform validate Does not return an error during terraform apply Creates, updates, deletes, or does not modify resources Only manages resources that have not been altered with other tools, such as gcloud or Cloud Console. This document lists many types of breaking changes but may not be entirely comprehensive. Some types of changes that would normally be “breaking” may have specific mitigating circumstances that make them non-breaking."><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="breaking-changes"><meta property="article:modified_time" content="2025-05-22T11:58:00-07:00"><title>Types of breaking changes | Magic Modules</title><link rel=icon href=/magic-modules/favicon.png><link rel=manifest href=/magic-modules/manifest.json><link rel=canonical href=https://googlecloudplatform.github.io/magic-modules/breaking-changes/breaking-changes/><link rel=stylesheet href=/magic-modules/book.min.34f6ea145e56d87823abe9f451d0a8fbe3dbcc6f9e02412199a014611b7adf70.css integrity="sha256-NPbqFF5W2Hgjq+n0UdCo++PbzG+eAkEhmaAUYRt633A=" crossorigin=anonymous><script defer src=/magic-modules/fuse.min.js></script><script defer src=/magic-modules/en.search.min.0dd82b58d90dabdb518be35057aec792aaad8c346458c434098615da31a2c91c.js integrity="sha256-DdgrWNkNq9tRi+NQV67HkqqtjDRkWMQ0CYYV2jGiyRw=" crossorigin=anonymous></script></head><body dir=ltr class="book-kind-page book-type-breaking-changes"><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/magic-modules/><img src=/magic-modules/magic-modules.svg alt=Logo><span>Magic Modules</span></a></h2><div class="book-search hidden"><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><script>document.querySelector(".book-search").classList.remove("hidden")</script><ul><li><a href=/magic-modules/ title=Overview>Overview</a></li></ul><ul><li><a href=/magic-modules/contribution-process/>Contribution process</a></li><li><input type=checkbox id=section-1218d39abefe7f824522d24e615b6429 class=toggle>
<label for=section-1218d39abefe7f824522d24e615b6429 class=flex><a role=button>Develop</a>
<img src=/magic-modules/icons/chevron-right.svg class=book-icon></label><ul><li><a href=/magic-modules/develop/set-up-dev-environment/>Set up your development environment</a></li><li><a href=/magic-modules/develop/add-resource/>Add a resource</a></li><li><a href=/magic-modules/develop/add-fields/>Add a field to an existing resource</a></li><li><a href=/magic-modules/develop/add-iam-support/>Add IAM support</a></li><li><a href=/magic-modules/develop/add-handwritten-datasource/>Add a datasource</a></li><li><a href=/magic-modules/develop/custom-code/>Add custom resource code</a></li><li><a href=/magic-modules/develop/promote-to-ga/>Promote to GA</a></li><li><a href=/magic-modules/develop/update-dependencies/>Update dependencies</a></li><li><a href=/magic-modules/develop/diffs/>Fix diffs</a></li><li><a href=/magic-modules/develop/generate-providers/>Generate the providers</a></li><li><a href=/magic-modules/develop/client-side-fields/>Client-side fields</a></li></ul></li><li><input type=checkbox id=section-46008ee5c4ef0e6f804abf3cfaea6dd0 class=toggle>
<label for=section-46008ee5c4ef0e6f804abf3cfaea6dd0 class=flex><a role=button>Test</a>
<img src=/magic-modules/icons/chevron-right.svg class=book-icon></label><ul><li><a href=/magic-modules/test/test/>Add resource tests</a></li><li><a href=/magic-modules/test/run-tests/>Run tests</a></li></ul></li><li><input type=checkbox id=section-54e8c97150acf80b182bc188a6e6c492 class=toggle>
<label for=section-54e8c97150acf80b182bc188a6e6c492 class=flex><a role=button>Document</a>
<img src=/magic-modules/icons/chevron-right.svg class=book-icon></label><ul><li><a href=/magic-modules/document/add-documentation/>Add documentation</a></li><li><a href=/magic-modules/document/handwritten-docs-style-guide/>Handwritten docs style guide</a></li></ul></li><li><input type=checkbox id=section-d11be9eb6f9aad36128162d909d31b29 class=toggle>
<label for=section-d11be9eb6f9aad36128162d909d31b29 class=flex><a role=button>Convert</a>
<img src=/magic-modules/icons/chevron-right.svg class=book-icon></label><ul><li><a href=/magic-modules/convert/add-new-resource-tgc/>Add TGC conversion</a></li></ul></li><li><input type=checkbox id=section-ca39f9a7961e297a8c04b44ec69dbc58 class=toggle checked>
<label for=section-ca39f9a7961e297a8c04b44ec69dbc58 class=flex><a role=button>Breaking changes</a>
<img src=/magic-modules/icons/chevron-right.svg class=book-icon></label><ul><li><a href=/magic-modules/breaking-changes/breaking-changes/ class=active>Types of breaking changes</a></li><li><a href=/magic-modules/breaking-changes/make-a-breaking-change/>Make a breaking change</a></li></ul></li><li><input type=checkbox id=section-e42fc06bc1be2cad20d6487ff549c503 class=toggle>
<label for=section-e42fc06bc1be2cad20d6487ff549c503 class=flex><a role=button>Code review</a>
<img src=/magic-modules/icons/chevron-right.svg class=book-icon></label><ul><li><a href=/magic-modules/code-review/create-pr/>Create a pull request</a></li><li><a href=/magic-modules/code-review/release-notes/>Write release notes</a></li><li><a href=/magic-modules/code-review/review-pr/>Review a pull request</a></li></ul></li><li><input type=checkbox id=section-29607ad0ac6d788001e899a44038a031 class=toggle>
<label for=section-29607ad0ac6d788001e899a44038a031 class=flex><a role=button>Best practices</a>
<img src=/magic-modules/icons/chevron-right.svg class=book-icon></label><ul><li><a href=/magic-modules/best-practices/immutable-fields/>Immutable fields</a></li><li><a href=/magic-modules/best-practices/deletion-behaviors/>Deletion behaviors</a></li><li><a href=/magic-modules/best-practices/labels-and-annotations/>Labels and annotations</a></li><li><a href=/magic-modules/best-practices/common-resource-patterns/>Common resource patterns</a></li><li><a href=/magic-modules/best-practices/validation/>Validation</a></li></ul></li><li><input type=checkbox id=section-3de530fff78b7e92c59925d632c7e725 class=toggle>
<label for=section-3de530fff78b7e92c59925d632c7e725 class=flex><a role=button>Reference</a>
<img src=/magic-modules/icons/chevron-right.svg class=book-icon></label><ul><li><a href=/magic-modules/reference/resource/>MMv1 resource reference</a></li><li><a href=/magic-modules/reference/field/>MMv1 field reference</a></li><li><a href=/magic-modules/reference/make-commands/>make commands</a></li><li><a href=/magic-modules/reference/metadata/>MMv1 metadata reference</a></li><li><a href=/magic-modules/reference/ruby-go-changes/>Ruby to Go Migration</a></li></ul></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/magic-modules/icons/menu.svg class=book-icon alt=Menu></label><h3>Types of breaking changes</h3><label for=toc-control><img src=/magic-modules/icons/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#provider-level-breaking-changes>Provider-level breaking changes</a></li><li><a href=#resource-level-breaking-changes>Resource-level breaking changes</a></li><li><a href=#field-level-breaking-changes>Field-level breaking changes</a><ul><li><a href=#making-validation-more-strict>Making validation more strict</a></li></ul></li></ul></nav></aside></header><article class="markdown book-article"><h1 id=types-of-breaking-changes>Types of breaking changes<a class=anchor href=#types-of-breaking-changes>#</a></h1><p>A &ldquo;breaking change&rdquo; is any change that requires an end user to modify a
previously-valid configuration after a provider upgrade. In this context,
a &ldquo;valid configuration&rdquo; is one that:</p><ul><li>Is considered syntactically correct by <code>terraform validate</code></li><li>Does not return an error during <code>terraform apply</code></li><li>Creates, updates, deletes, or does not modify resources</li><li>Only manages resources that have not been altered with other tools,
such as <code>gcloud</code> or Cloud Console.</li></ul><p>This document lists many types of breaking changes but may not be entirely
comprehensive. Some types of changes that would normally be &ldquo;breaking&rdquo; may
have specific mitigating circumstances that make them non-breaking.</p><p>For more information, see
<a href=https://googlecloudplatform.github.io/magic-modules/breaking-changes/make-a-breaking-change/>Make a breaking change</a>.</p><h2 id=provider-level-breaking-changes>Provider-level breaking changes<a class=anchor href=#provider-level-breaking-changes>#</a></h2><ul><li><a name=provider-config-fundamental></a>Changing fundamental provider behavior such as:<ul><li>authentication</li><li>environment variable usage</li><li>restricting retry behavior</li></ul></li></ul><h2 id=resource-level-breaking-changes>Resource-level breaking changes<a class=anchor href=#resource-level-breaking-changes>#</a></h2><ul><li><a name=resource-map-resource-removal-or-rename></a>Removing or renaming a resource
or datasource</li><li><a name=resource-id></a>Changing resource ID format<ul><li>Terraform uses resource ID to read resource state from the API. Modification of
the ID format will break the ability to parse the IDs from any deployments.</li></ul></li><li><a name=resource-import-format></a>Removing or altering resource import ID formats<ul><li>Automation written by end users may rely on specific import formats.</li></ul></li><li>Changes to default resource behavior<ul><li>Changing resource deletion behavior</li><li>In limited cases changes may be permissible if the prior behavior could <strong>never</strong> succeed.</li><li>Changing resource deletion to skip deleting the resource by default if delete was previously called</li><li>Changing resource deletion to specify a force flag</li><li>Adding a new field with a default different from the API default<ul><li>If an API default is expected to change- a breaking change for the API- use <code>default_from_api</code> which will avoid sending a value and safely take the server default in Terraform</li></ul></li></ul></li></ul><h2 id=field-level-breaking-changes>Field-level breaking changes<a class=anchor href=#field-level-breaking-changes>#</a></h2><ul><li><a name=resource-schema-field-removal-or-rename></a>Removing or renaming a field</li><li><a name=field-changing-type></a>Changing field output type<ul><li>Between primitive types, like changing a String to an Integer</li><li>Between complex types like changing a List to a Set.</li><li>Changing the field type between primitive and complex data
types is not possible. For this scenario, field renames are preferred.</li></ul></li><li><a name=field-optional-to-required></a>Making an optional field required</li><li><a name=no-new-required></a>Adding a required field to a pre-existing resource at any level of nesting, unless it is being added at the same time as an optional ancestor</li><li><a name=resource-schema-field-addition-of-exactly-one-of></a>Adding an &ldquo;ExactlyOneOf&rdquo; constraint that causes one or more previously-optional fields to be required or conflict with each other</li><li><a name=field-becoming-computed></a>Making a settable field read-only<ul><li>For MMv1 resources, adding <code>output: true</code> to an existing field.</li><li>For handwritten resources, adding <code>Computed: true</code> to a field that does not have <code>Optional: true</code> set.</li><li>Even if there is no valid scenario where a field can be set, changing it to read-only may be a breaking change for
modules that depend on the provider.</li></ul></li><li><a name=field-oc-to-c></a>Removing support for API-side defaults<ul><li>For MMv1 resources, removing <code>default_from_api: true</code>.</li><li>For handwritten resources, altering a field schema with <code>Computed: true</code> + <code>Optional: true</code>
to only have <code>Optional: true</code>.</li></ul></li><li><a name=field-changing-default-value></a>Adding or changing a default value<ul><li><p>Default values in Terraform are used to replace null values in configuration at
plan/apply time and <strong>do not</strong> respect previously-configured values by the user.
Even in major releases, these changes are often undesirable, as their impact is extremely broad.</p><p>When a default is changed, every user that has not specified an explicit value in their
configuration will see Terraform propose changing the value of the field <strong>including</strong>
if the change will destroy and recreate the resource due to changing an immutable value.
Default changes in the provider are comparable in impact to default changes in an API,
and modifying examples and modules may achieve the intended effect with a smaller blast radius.</p></li></ul></li><li><a name=no-new-optional-default></a>Adding an optional field with a default value and force new to a pre-existing resource at any level of nesting, unless it is being added at the same time as an optional ancestor<ul><li>This can be allowed if there is a confirmed API-level default that matches the schema default</li><li>Please work with your reviewer and ensure this scenario is debugged carefully to avoid a destructive permadiff</li></ul></li><li><a name=field-changing-data-format></a>Modifying how field data is stored in state<ul><li>For example, changing the case of a value returned by the API in a flattener or decorder</li></ul></li><li><a name=field-removing-diff-suppress></a>Removing diff suppression from a field.<ul><li>For MMv1 resources, removing <code>diff_suppress_func</code> from a field.</li><li>For handwritten resources, removing <code>DiffSuppressFunc</code> from a field.</li></ul></li><li>Removing update support from a field.</li></ul><h3 id=making-validation-more-strict>Making validation more strict<a class=anchor href=#making-validation-more-strict>#</a></h3><ul><li><a name=field-growing-min></a>Increasing the minimum number of items in an array<ul><li>For MMv1 resources, increasing <code>min_size</code> on an Array field.</li><li>For handwritten resources, increasing <code>MinItems</code> on an Array field.</li></ul></li><li><a name=field-shrinking-max></a>Decreasing the maximum number of items in an array<ul><li>For MMv1 resources, decreasing <code>max_size</code> on an Array field.</li><li>For handwritten resources, decreasing <code>MaxItems</code> on an Array field.</li></ul></li><li>Adding validation to a field that previously had no validation<ul><li>For MMv1 resources, adding <code>validation</code> to a field.</li><li>For handwritten resources, adding <code>ValidateFunc</code> to a field.</li></ul></li></ul></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/GoogleCloudPlatform/magic-modules/commit/29dd6c8adfed09519ef79537a277d215bf489128 title='Last modified by Scott Suarez | May 22, 2025' target=_blank rel=noopener><img src=/magic-modules/icons/calendar.svg class=book-icon alt>
<span>May 22, 2025</span></a></div><div><a class="flex align-center" href="https://github.com/hashicorp/terraform-provider-google/issues/new?assignees=&labels=technical-debt,documentation&projects=&title=MM%20docsite%20issue%20in%20content/breaking-changes%2fbreaking-changes.md&template=11_developer_productivity.md" target=_blank rel=noopener><img src=/magic-modules/icons/report.svg class=book-icon alt=Edit>
<span>Report documentation issue</span></a></div><div><a class="flex align-center" href=https://github.com/GoogleCloudPlatform/magic-modules/edit/main/docs/content/breaking-changes/breaking-changes.md target=_blank rel="noopener edit"><img src=/magic-modules/icons/edit.svg class=book-icon alt>
<span>Edit this page</span></a></div></div><div class="flex flex-wrap justify-between"><span><a href=/magic-modules/convert/add-new-resource-tgc/ class="flex align-center"><img src=/magic-modules/icons/backward.svg class=book-icon alt=Previous title="Add TGC conversion">
<span>Add TGC conversion</span>
</a></span><span><a href=/magic-modules/breaking-changes/make-a-breaking-change/ class="flex align-center"><span>Make a breaking change</span>
<img src=/magic-modules/icons/forward.svg class=book-icon alt=Next title="Make a breaking change"></a></span></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#provider-level-breaking-changes>Provider-level breaking changes</a></li><li><a href=#resource-level-breaking-changes>Resource-level breaking changes</a></li><li><a href=#field-level-breaking-changes>Field-level breaking changes</a><ul><li><a href=#making-validation-more-strict>Making validation more strict</a></li></ul></li></ul></nav></div></aside></main></body></html>