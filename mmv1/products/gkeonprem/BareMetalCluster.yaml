# Copyright 2023 Google Inc.
# Licensed under the Apache License, Version 2.0 (the License);
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
--- !ruby/object:Api::Resource
name: "BareMetalCluster"
min_version: beta
base_url: "projects/{{project}}/locations/{{location}}/bareMetalClusters"
create_url: "projects/{{project}}/locations/{{location}}/bareMetalClusters?bare_metal_cluster_id={{name}}"
update_url: "projects/{{project}}/locations/{{location}}/bareMetalClusters/{{name}}"
delete_url: "projects/{{project}}/locations/{{location}}/bareMetalClusters/{{name}}?force=true"
self_link: "projects/{{project}}/locations/{{location}}/bareMetalClusters/{{name}}"
update_verb: :PATCH
update_mask: true
description: "A Google Bare Metal User Cluster."
autogen_async: false
id_format: "projects/{{project}}/locations/{{location}}/bareMetalClusters/{{name}}"
import_format: ["projects/{{project}}/locations/{{location}}/bareMetalClusters/{{name}}"]
taint_resource_on_failed_create: true
timeouts: !ruby/object:Api::Timeouts
  insert_minutes: 60
  delete_minutes: 60
  update_minutes: 60
examples:
  - !ruby/object:Provider::Terraform::Examples
    name: "gkeonprem_bare_metal_cluster_basic"
    min_version: beta
    primary_resource_id: "cluster-basic"
    vars:
      name: "my-cluster"
    test_env_vars:
      project: "fake-backend-360322"
  - !ruby/object:Provider::Terraform::Examples
    name: "gkeonprem_bare_metal_cluster_manuallb"
    min_version: beta
    primary_resource_id: "cluster-manuallb"
    vars:
      name: "cluster-manuallb"
    test_env_vars:
      project: "fake-backend-360322"
  - !ruby/object:Provider::Terraform::Examples
    name: "gkeonprem_bare_metal_cluster_bgplb"
    min_version: beta
    primary_resource_id: "cluster-bgplb"
    vars:
      name: "cluster-bgplb"
    test_env_vars:
      project: "fake-backend-360322"
parameters:
  - !ruby/object:Api::Type::String
    name: "name"
    description: The bare metal cluster name.
    immutable: true
    url_param_only: true
    required: true
  - !ruby/object:Api::Type::String
    name: "location"
    description: The location of the resource.
    immutable: true
    url_param_only: true
    required: true
properties:
  - !ruby/object:Api::Type::String
    name: "adminClusterMembership"
    required: true
    immutable: true
    description: |
      The Admin Cluster this Bare Metal User Cluster belongs to.
      This is the full resource name of the Admin Cluster's hub membership.
    diff_suppress_func: tpgresource.ProjectNumberDiffSuppress
  - !ruby/object:Api::Type::String
    name: "description"
    description: |
      A human readable description of this Bare Metal User Cluster.
  - !ruby/object:Api::Type::String
    name: "bareMetalVersion"
    required: true
    description: |
      A human readable description of this Bare Metal User Cluster.
  - !ruby/object:Api::Type::KeyValuePairs
    name: "annotations"
    description: |
      Annotations on the Bare Metal User Cluster.
      This field has the same restrictions as Kubernetes annotations.
      The total size of all keys and values combined is limited to 256k.
      Key can have 2 segments: prefix (optional) and name (required),
      separated by a slash (/).
      Prefix must be a DNS subdomain.
      Name must be 63 characters or less, begin and end with alphanumerics,
      with dashes (-), underscores (_), dots (.), and alphanumerics between.
    default_from_api: true
  - !ruby/object:Api::Type::NestedObject
    name: "networkConfig"
    description: |
      Network configuration.
    required: true
    properties:
      - !ruby/object:Api::Type::NestedObject
        name: "islandModeCidr"
        exactly_one_of:
          - network_config.0.island_mode_cidr
        properties:
          - !ruby/object:Api::Type::Array
            name: "serviceAddressCidrBlocks"
            item_type: Api::Type::String
            required: true
            description: |
              All services in the cluster are assigned an RFC1918 IPv4 address from these ranges. This field cannot be changed after creation.
          - !ruby/object:Api::Type::Array
            name: "podAddressCidrBlocks"
            item_type: Api::Type::String
            required: true
            description: |
              All pods in the cluster are assigned an RFC1918 IPv4 address from these ranges. This field cannot be changed after creation.
      - !ruby/object:Api::Type::Boolean
        name: "advancedNetworking"
        description: |
          Enables the use of advanced Anthos networking features, such as Bundled
          Load Balancing with BGP or the egress NAT gateway.
          Setting configuration for advanced networking features will automatically
          set this flag.
      - !ruby/object:Api::Type::NestedObject
        name: "multipleNetworkInterfacesConfig"
        description: |
          Configuration for multiple network interfaces.
        properties:
          - !ruby/object:Api::Type::Boolean
            name: "enabled"
            description: |
              Whether to enable multiple network interfaces for your pods.
              When set network_config.advanced_networking is automatically
              set to true.
      - !ruby/object:Api::Type::NestedObject
        name: "srIovConfig"
        description: |
          Configuration for SR-IOV.
        properties:
          - !ruby/object:Api::Type::Boolean
            name: "enabled"
            description: |
              Whether to install the SR-IOV operator.
  - !ruby/object:Api::Type::NestedObject
    name: "controlPlane"
    description: |
      Specifies the control plane configuration.
    required: true
    properties:
      - !ruby/object:Api::Type::NestedObject
        name: "controlPlaneNodePoolConfig"
        required: true
        description: |
          Configures the node pool running the control plane. If specified the corresponding NodePool will be created for the cluster's control plane. The NodePool will have the same name and namespace as the cluster.
        properties:
          - !ruby/object:Api::Type::NestedObject
            name: "nodePoolConfig"
            required: true
            description: |
              The generic configuration for a node pool running the control plane.
            properties:
              - !ruby/object:Api::Type::Array
                name: "nodeConfigs"
                description: The list of machine addresses in the Bare Metal Node
                  Pool.
                item_type: !ruby/object:Api::Type::NestedObject
                  properties:
                    - !ruby/object:Api::Type::String
                      name: "nodeIp"
                      description: |
                        The default IPv4 address for SSH access and Kubernetes node.
                        Example: 192.168.0.1
                    - !ruby/object:Api::Type::KeyValuePairs
                      name: "labels"
                      description: |
                        The map of Kubernetes labels (key/value pairs) to be applied to
                        each node. These will added in addition to any default label(s)
                        that Kubernetes may apply to the node. In case of conflict in
                        label keys, the applied set may differ depending on the Kubernetes
                        version -- it's best to assume the behavior is undefined and
                        conflicts should be avoided. For more information, including usage
                        and the valid values, see:
                          http://kubernetes.io/v1.1/docs/user-guide/labels.html
                        An object containing a list of "key": value pairs.
                        Example: { "name": "wrench", "mass": "1.3kg", "count": "3" }.
              - !ruby/object:Api::Type::String
                name: "operatingSystem"
                description: |
                  Specifies the nodes operating system (default: LINUX).
                default_value: LINUX
              - !ruby/object:Api::Type::Array
                name: "taints"
                description: |
                  The initial taints assigned to nodes of this node pool.
                default_from_api: true
                item_type: !ruby/object:Api::Type::NestedObject
                  properties:
                    - !ruby/object:Api::Type::String
                      name: "key"
                      description: |
                        Key associated with the effect.
                    - !ruby/object:Api::Type::String
                      name: "value"
                      description: |
                        Value associated with the effect.
                    - !ruby/object:Api::Type::Enum
                      name: "effect"
                      description: |
                        Specifies the nodes operating system (default: LINUX).
                      values:
                        - EFFECT_UNSPECIFIED
                        - PREFER_NO_SCHEDULE
                        - NO_EXECUTE
              - !ruby/object:Api::Type::KeyValuePairs
                name: "labels"
                description: |
                  The map of Kubernetes labels (key/value pairs) to be applied to
                  each node. These will added in addition to any default label(s)
                  that Kubernetes may apply to the node. In case of conflict in
                  label keys, the applied set may differ depending on the Kubernetes
                  version -- it's best to assume the behavior is undefined and
                  conflicts should be avoided. For more information, including usage
                  and the valid values, see:
                    http://kubernetes.io/v1.1/docs/user-guide/labels.html
                  An object containing a list of "key": value pairs.
                  Example: { "name": "wrench", "mass": "1.3kg", "count": "3" }.
                default_from_api: true
      - !ruby/object:Api::Type::Array
        name: "apiServerArgs"
        description: |
          Customizes the default API server args. Only a subset of
          customized flags are supported. Please refer to the API server
          documentation below to know the exact format:
          https://kubernetes.io/docs/reference/command-line-tools-reference/kube-apiserver/
        item_type: !ruby/object:Api::Type::NestedObject
          properties:
            - !ruby/object:Api::Type::String
              name: "argument"
              required: true
              description: |
                The argument name as it appears on the API Server command line please make sure to remove the leading dashes.
            - !ruby/object:Api::Type::String
              name: "value"
              required: true
              description: |
                The value of the arg as it will be passed to the API Server command line.
  - !ruby/object:Api::Type::NestedObject
    name: "loadBalancer"
    description: |
      Specifies the load balancer configuration.
    required: true
    properties:
      - !ruby/object:Api::Type::NestedObject
        name: "vipConfig"
        required: true
        description: |
          Specified the Bare Metal Load Balancer Config
        properties:
          - !ruby/object:Api::Type::String
            name: "controlPlaneVip"
            required: true
            description: The VIP which you previously set aside for the Kubernetes
              API of this Bare Metal User Cluster.
          - !ruby/object:Api::Type::String
            name: "ingressVip"
            required: true
            description: The VIP which you previously set aside for ingress traffic
              into this Bare Metal User Cluster.
      - !ruby/object:Api::Type::NestedObject
        name: "portConfig"
        required: true
        description: |
          Specifies the load balancer ports.
        properties:
          - !ruby/object:Api::Type::Integer
            name: "controlPlaneLoadBalancerPort"
            required: true
            description: |
              The port that control plane hosted load balancers will listen on.
      - !ruby/object:Api::Type::NestedObject
        name: "metalLbConfig"
        exactly_one_of:
          - load_balancer.0.metal_lb_config
          - load_balancer.0.manual_lb_config
          - load_balancer.0.bgp_lb_config
        properties:
          - !ruby/object:Api::Type::Array
            name: "addressPools"
            required: true
            description: |
              AddressPools is a list of non-overlapping IP pools used by load balancer
              typed services. All addresses must be routable to load balancer nodes.
              IngressVIP must be included in the pools.
            item_type: !ruby/object:Api::Type::NestedObject
              properties:
                - !ruby/object:Api::Type::String
                  name: "pool"
                  required: true
                  description: |
                    The name of the address pool.
                - !ruby/object:Api::Type::Array
                  name: "addresses"
                  required: true
                  item_type: Api::Type::String
                  description: |
                    The addresses that are part of this pool. Each address must be either in the CIDR form (1.2.3.0/24) or range form (1.2.3.1-1.2.3.5).
                - !ruby/object:Api::Type::Boolean
                  name: "avoidBuggyIps"
                  description: |
                    If true, avoid using IPs ending in .0 or .255.
                    This avoids buggy consumer devices mistakenly dropping IPv4 traffic for those special IP addresses.
                - !ruby/object:Api::Type::Boolean
                  name: "manualAssign"
                  description: |
                    If true, prevent IP addresses from being automatically assigned.
          - !ruby/object:Api::Type::NestedObject
            name: "loadBalancerNodePoolConfig"
            description: |
              Specifies the load balancer's node pool configuration.
            properties:
              - !ruby/object:Api::Type::NestedObject
                name: "nodePoolConfig"
                description: |
                  The generic configuration for a node pool running a load balancer.
                properties:
                  - !ruby/object:Api::Type::Array
                    name: "nodeConfigs"
                    description: The list of machine addresses in the Bare Metal Node
                      Pool.
                    item_type: !ruby/object:Api::Type::NestedObject
                      properties:
                        - !ruby/object:Api::Type::String
                          name: "nodeIp"
                          description: |
                            The default IPv4 address for SSH access and Kubernetes node.
                            Example: 192.168.0.1
                        - !ruby/object:Api::Type::KeyValuePairs
                          name: "labels"
                          description: |
                            The map of Kubernetes labels (key/value pairs) to be applied to
                            each node. These will added in addition to any default label(s)
                            that Kubernetes may apply to the node. In case of conflict in
                            label keys, the applied set may differ depending on the Kubernetes
                            version -- it's best to assume the behavior is undefined and
                            conflicts should be avoided. For more information, including usage
                            and the valid values, see:
                              http://kubernetes.io/v1.1/docs/user-guide/labels.html
                            An object containing a list of "key": value pairs.
                            Example: { "name": "wrench", "mass": "1.3kg", "count": "3" }.
                  - !ruby/object:Api::Type::String
                    name: "operatingSystem"
                    description: |
                      Specifies the nodes operating system (default: LINUX).
                    default_from_api: true
                  - !ruby/object:Api::Type::Array
                    name: "taints"
                    description: |
                      The initial taints assigned to nodes of this node pool.
                    default_from_api: true
                    item_type: !ruby/object:Api::Type::NestedObject
                      properties:
                        - !ruby/object:Api::Type::String
                          name: "key"
                          description: |
                            Key associated with the effect.
                        - !ruby/object:Api::Type::String
                          name: "value"
                          description: |
                            Value associated with the effect.
                        - !ruby/object:Api::Type::Enum
                          name: "effect"
                          description: |
                            Specifies the nodes operating system (default: LINUX).
                          values:
                            - EFFECT_UNSPECIFIED
                            - PREFER_NO_SCHEDULE
                            - NO_EXECUTE
                  - !ruby/object:Api::Type::KeyValuePairs
                    name: "labels"
                    description: |
                      The map of Kubernetes labels (key/value pairs) to be applied to
                      each node. These will added in addition to any default label(s)
                      that Kubernetes may apply to the node. In case of conflict in
                      label keys, the applied set may differ depending on the Kubernetes
                      version -- it's best to assume the behavior is undefined and
                      conflicts should be avoided. For more information, including usage
                      and the valid values, see:
                        http://kubernetes.io/v1.1/docs/user-guide/labels.html
                      An object containing a list of "key": value pairs.
                      Example: { "name": "wrench", "mass": "1.3kg", "count": "3" }.
                    default_from_api: true
      - !ruby/object:Api::Type::NestedObject
        name: "manualLbConfig"
        exactly_one_of:
          - load_balancer.0.metal_lb_config
          - load_balancer.0.manual_lb_config
          - load_balancer.0.bgp_lb_config
        properties:
          - !ruby/object:Api::Type::Boolean
            name: "enabled"
            required: true
            description: |
              Whether manual load balancing is enabled.
      - !ruby/object:Api::Type::NestedObject
        name: "bgpLbConfig"
        exactly_one_of:
          - load_balancer.0.metal_lb_config
          - load_balancer.0.manual_lb_config
          - load_balancer.0.bgp_lb_config
        description: |
          Configuration for BGP typed load balancers.
        properties:
          - !ruby/object:Api::Type::Integer
            name: "asn"
            required: true
            description: |
              BGP autonomous system number (ASN) of the cluster.
              This field can be updated after cluster creation.
          - !ruby/object:Api::Type::Array
            name: "bgpPeerConfigs"
            required: true
            description: |
              The list of BGP peers that the cluster will connect to.
              At least one peer must be configured for each control plane node.
              Control plane nodes will connect to these peers to advertise the control
              plane VIP. The Services load balancer also uses these peers by default.
              This field can be updated after cluster creation.
            item_type: !ruby/object:Api::Type::NestedObject
              properties:
                - !ruby/object:Api::Type::Integer
                  name: "asn"
                  required: true
                  description: |
                    BGP autonomous system number (ASN) for the network that contains the
                    external peer device.
                - !ruby/object:Api::Type::String
                  name: "ipAddress"
                  required: true
                  description: |
                    The IP address of the external peer device.
                - !ruby/object:Api::Type::Array
                  name: "controlPlaneNodes"
                  item_type: Api::Type::String
                  description: |
                    The IP address of the control plane node that connects to the external
                    peer.
                    If you don't specify any control plane nodes, all control plane nodes
                    can connect to the external peer. If you specify one or more IP addresses,
                    only the nodes specified participate in peering sessions.
          - !ruby/object:Api::Type::Array
            name: "addressPools"
            required: true
            description: |
              AddressPools is a list of non-overlapping IP pools used by load balancer
              typed services. All addresses must be routable to load balancer nodes.
              IngressVIP must be included in the pools.
            item_type: !ruby/object:Api::Type::NestedObject
              properties:
                - !ruby/object:Api::Type::String
                  name: "pool"
                  required: true
                  description: |
                    The name of the address pool.
                - !ruby/object:Api::Type::Array
                  name: "addresses"
                  required: true
                  item_type: Api::Type::String
                  description: |
                    The addresses that are part of this pool. Each address must be either in the CIDR form (1.2.3.0/24) or range form (1.2.3.1-1.2.3.5).
                - !ruby/object:Api::Type::Boolean
                  name: "avoidBuggyIps"
                  description: |
                    If true, avoid using IPs ending in .0 or .255.
                    This avoids buggy consumer devices mistakenly dropping IPv4 traffic for those special IP addresses.
                - !ruby/object:Api::Type::String
                  name: "manualAssign"
                  description: |
                    If true, prevent IP addresses from being automatically assigned.
          - !ruby/object:Api::Type::NestedObject
            name: "loadBalancerNodePoolConfig"
            description: |
              Specifies the node pool running data plane load balancing. L2 connectivity
              is required among nodes in this pool. If missing, the control plane node
              pool is used for data plane load balancing.
            properties:
              - !ruby/object:Api::Type::NestedObject
                name: "nodePoolConfig"
                description: |
                  The generic configuration for a node pool running a load balancer.
                properties:
                  - !ruby/object:Api::Type::Array
                    name: "nodeConfigs"
                    description: The list of machine addresses in the Bare Metal Node Pool.
                    item_type: !ruby/object:Api::Type::NestedObject
                      properties:
                        - !ruby/object:Api::Type::String
                          name: "nodeIp"
                          description: |
                            The default IPv4 address for SSH access and Kubernetes node.
                            Example: 192.168.0.1
                        - !ruby/object:Api::Type::KeyValuePairs
                          name: "labels"
                          description: |
                            The map of Kubernetes labels (key/value pairs) to be applied to
                            each node. These will added in addition to any default label(s)
                            that Kubernetes may apply to the node. In case of conflict in
                            label keys, the applied set may differ depending on the Kubernetes
                            version -- it's best to assume the behavior is undefined and
                            conflicts should be avoided. For more information, including usage
                            and the valid values, see:
                              http://kubernetes.io/v1.1/docs/user-guide/labels.html
                            An object containing a list of "key": value pairs.
                            Example: { "name": "wrench", "mass": "1.3kg", "count": "3" }.
                  - !ruby/object:Api::Type::String
                    name: "operatingSystem"
                    description: |
                      Specifies the nodes operating system (default: LINUX).
                  - !ruby/object:Api::Type::Array
                    name: "taints"
                    description: |
                      The initial taints assigned to nodes of this node pool.
                    item_type: !ruby/object:Api::Type::NestedObject
                      properties:
                        - !ruby/object:Api::Type::String
                          name: "key"
                          description: |
                            Key associated with the effect.
                        - !ruby/object:Api::Type::String
                          name: "value"
                          description: |
                            Value associated with the effect.
                        - !ruby/object:Api::Type::Enum
                          name: "effect"
                          description: |
                            Specifies the nodes operating system (default: LINUX).
                          values:
                            - EFFECT_UNSPECIFIED
                            - PREFER_NO_SCHEDULE
                            - NO_EXECUTE
                  - !ruby/object:Api::Type::KeyValuePairs
                    name: "labels"
                    description: |
                      The map of Kubernetes labels (key/value pairs) to be applied to
                      each node. These will added in addition to any default label(s)
                      that Kubernetes may apply to the node. In case of conflict in
                      label keys, the applied set may differ depending on the Kubernetes
                      version -- it's best to assume the behavior is undefined and
                      conflicts should be avoided. For more information, including usage
                      and the valid values, see:
                        http://kubernetes.io/v1.1/docs/user-guide/labels.html
                      An object containing a list of "key": value pairs.
                      Example: { "name": "wrench", "mass": "1.3kg", "count": "3" }.
                  - !ruby/object:Api::Type::NestedObject
                    name: "kubeletConfig"
                    description: |
                      The modifiable kubelet configurations for the baremetal machines.
                    properties:
                      - !ruby/object:Api::Type::Integer
                        name: "registryPullQps"
                        description: |
                          The limit of registry pulls per second.
                          Setting this value to 0 means no limit.
                          Updating this field may impact scalability by changing the amount of
                          traffic produced by image pulls.
                          Defaults to 5.
                        default_value: 5
                      - !ruby/object:Api::Type::Integer
                        name: "registryBurst"
                        description: |
                          The maximum size of bursty pulls, temporarily allows pulls to burst to this
                          number, while still not exceeding registry_pull_qps.
                          The value must not be a negative number.
                          Updating this field may impact scalability by changing the amount of
                          traffic produced by image pulls.
                          Defaults to 10.
                        default_value: 10
                      - !ruby/object:Api::Type::Boolean
                        name: "serializeImagePullsDisabled"
                        description: |
                          Prevents the Kubelet from pulling multiple images at a time.
                          We recommend *not* changing the default value on nodes that run docker
                          daemon with version  < 1.9 or an Another Union File System (Aufs) storage
                          backend. Issue https://github.com/kubernetes/kubernetes/issues/10959 has
                          more details.
  - !ruby/object:Api::Type::NestedObject
    name: "storage"
    description: |
      Specifies the cluster storage configuration.
    required: true
    properties:
      - !ruby/object:Api::Type::NestedObject
        name: "lvpShareConfig"
        required: true
        description: |
          Specifies the config for local PersistentVolumes backed by
          subdirectories in a shared filesystem. These subdirectores are
          automatically created during cluster creation.
        properties:
          - !ruby/object:Api::Type::NestedObject
            name: "lvpConfig"
            required: true
            description: |
              Defines the machine path and storage class for the LVP Share.
            properties:
              - !ruby/object:Api::Type::String
                name: "path"
                required: true
                description: |
                  The host machine path.
              - !ruby/object:Api::Type::String
                name: "storageClass"
                required: true
                description: |
                  The StorageClass name that PVs will be created with.
          - !ruby/object:Api::Type::Integer
            name: "sharedPathPvCount"
            description: |
              The number of subdirectories to create under path.
      - !ruby/object:Api::Type::NestedObject
        name: "lvpNodeMountsConfig"
        required: true
        description: |
          Specifies the config for local PersistentVolumes backed
          by mounted node disks. These disks need to be formatted and mounted by the
          user, which can be done before or after cluster creation.
        properties:
          - !ruby/object:Api::Type::String
            name: "path"
            required: true
            description: |
              The host machine path.
          - !ruby/object:Api::Type::String
            name: "storageClass"
            required: true
            description: |
              The StorageClass name that PVs will be created with.
  - !ruby/object:Api::Type::NestedObject
    name: "proxy"
    description: |
      Specifies the cluster proxy configuration.
    properties:
      - !ruby/object:Api::Type::String
        name: "uri"
        required: true
        description: |
          Specifies the address of your proxy server.
          Examples: http://domain
          WARNING: Do not provide credentials in the format
          http://(username:password@)domain these will be rejected by the server.
      - !ruby/object:Api::Type::Array
        name: "noProxy"
        item_type: Api::Type::String
        description: |
          A list of IPs, hostnames, and domains that should skip the proxy.
          Examples: ["127.0.0.1", "example.com", ".corp", "localhost"].
  - !ruby/object:Api::Type::NestedObject
    name: "clusterOperations"
    description: |
      Specifies the User Cluster's observability infrastructure.
    properties:
      - !ruby/object:Api::Type::Boolean
        name: "enableApplicationLogs"
        description: |
          Whether collection of application logs/metrics should be enabled (in addition to system logs/metrics).
  - !ruby/object:Api::Type::NestedObject
    name: "maintenanceConfig"
    description: |
      Specifies the workload node configurations.
    properties:
      - !ruby/object:Api::Type::Array
        name: "maintenanceAddressCidrBlocks"
        required: true
        item_type: Api::Type::String
        description: |
          All IPv4 address from these ranges will be placed into maintenance mode.
          Nodes in maintenance mode will be cordoned and drained. When both of these
          are true, the "baremetal.cluster.gke.io/maintenance" annotation will be set
          on the node resource.
  - !ruby/object:Api::Type::NestedObject
    name: "nodeConfig"
    description: |
      Specifies the workload node configurations.
    properties:
      - !ruby/object:Api::Type::Integer
        name: "maxPodsPerNode"
        description: |
          The maximum number of pods a node can run. The size of the CIDR range
          assigned to the node will be derived from this parameter.
        default_from_api: true
      - !ruby/object:Api::Type::Enum
        name: "containerRuntime"
        description: |
          The available runtimes that can be used to run containers in a Bare Metal User Cluster.
        values:
          - CONTAINER_RUNTIME_UNSPECIFIED
          - DOCKER
          - CONTAINERD
        default_from_api: true
  - !ruby/object:Api::Type::NestedObject
    name: "nodeAccessConfig"
    description: |
      Specifies the node access related settings for the bare metal user cluster.
    properties:
      - !ruby/object:Api::Type::String
        name: "loginUser"
        required: false
        description: |
          LoginUser is the user name used to access node machines.
          It defaults to "root" if not set.
        default_from_api: true
  - !ruby/object:Api::Type::NestedObject
    name: "osEnvironmentConfig"
    description: |
      OS environment related configurations.
    properties:
      - !ruby/object:Api::Type::Boolean
        name: "packageRepoExcluded"
        required: true
        description: |
          Whether the package repo should not be included when initializing
          bare metal machines.
  - !ruby/object:Api::Type::NestedObject
    name: "securityConfig"
    description: |
      Specifies the security related settings for the Bare Metal User Cluster.
    properties:
      - !ruby/object:Api::Type::NestedObject
        name: "authorization"
        description: |
          Configures user access to the Bare Metal User cluster.
        properties:
          - !ruby/object:Api::Type::Array
            name: "adminUsers"
            required: true
            description: Users that will be granted the cluster-admin role on the
              cluster, providing full access to the cluster.
            item_type: !ruby/object:Api::Type::NestedObject
              properties:
                - !ruby/object:Api::Type::String
                  name: "username"
                  required: true
                  description: |
                    The name of the user, e.g. `my-gcp-id@gmail.com`.
  - !ruby/object:Api::Type::NestedObject
    name: 'binaryAuthorization'
    description: Binary Authorization related configurations.
    properties:
      - !ruby/object:Api::Type::Enum
        name: 'evaluationMode'
        description: |
          Mode of operation for binauthz policy evaluation. If unspecified,
          defaults to DISABLED.
        values:
          - DISABLED
          - PROJECT_SINGLETON_POLICY_ENFORCE
  - !ruby/object:Api::Type::NestedObject
    name: 'upgradePolicy'
    description: The cluster upgrade policy.
    properties:
      - !ruby/object:Api::Type::Enum
        name: 'policy'
        description: Specifies which upgrade policy to use.
        values:
          - SERIAL
          - CONCURRENT
  - !ruby/object:Api::Type::String
    name: "uid"
    description: |
      The unique identifier of the Bare Metal User Cluster.
    output: true
  - !ruby/object:Api::Type::Enum
    name: "state"
    description: The current state of this cluster.
    output: true
    values:
      - STATE_UNSPECIFIED
      - PROVISIONING
      - RUNNING
      - RECONCILING
      - STOPPING
      - ERROR
      - DEGRADED
  - !ruby/object:Api::Type::String
    name: "endpoint"
    description: |
      The IP address name of Bare Metal User Cluster's API server.
    output: true
  - !ruby/object:Api::Type::Boolean
    name: "reconciling"
    description: |
      If set, there are currently changes in flight to the Bare Metal User Cluster.
    output: true
  - !ruby/object:Api::Type::Time
    name: "createTime"
    description: |
      The time the cluster was created, in RFC3339 text format.
    output: true
  - !ruby/object:Api::Type::Time
    name: "updateTime"
    description: |
      The time the cluster was last updated, in RFC3339 text format.
    output: true
  - !ruby/object:Api::Type::Time
    name: "deleteTime"
    description: |
      The time the cluster was deleted, in RFC3339 text format.
    output: true
  - !ruby/object:Api::Type::String
    name: "localName"
    description: |
      The object name of the Bare Metal Cluster custom resource on the
      associated admin cluster. This field is used to support conflicting
      names when enrolling existing clusters to the API. When used as a part of
      cluster enrollment, this field will differ from the ID in the resource
      name. For new clusters, this field will match the user provided cluster ID
      and be visible in the last component of the resource name. It is not
      modifiable.
      All users should use this name to access their cluster using gkectl or
      kubectl and should expect to see the local name when viewing admin
      cluster controller logs.
    output: true
  - !ruby/object:Api::Type::String
    name: "etag"
    description: |
      This checksum is computed by the server based on the value of other
      fields, and may be sent on update and delete requests to ensure the
      client has an up-to-date value before proceeding.
      Allows clients to perform consistent read-modify-writes
      through optimistic concurrency control.
    output: true
  - !ruby/object:Api::Type::NestedObject
    name: "fleet"
    output: true
    description: |
      Fleet related configuration.
      Fleets are a Google Cloud concept for logically organizing clusters,
      letting you use and manage multi-cluster capabilities and apply
      consistent policies across your systems.
      See [Anthos Fleets](https://cloud.google.com/anthos/multicluster-management/fleets) for
      more details on Anthos multi-cluster capabilities using Fleets.
    properties:
      - !ruby/object:Api::Type::String
        name: "membership"
        description: |
          The name of the managed Hub Membership resource associated to this cluster.
          Membership names are formatted as
          `projects/<project-number>/locations/<location>/memberships/<cluster-id>`.
        output: true
  - !ruby/object:Api::Type::NestedObject
    name: "status"
    output: true
    description: |
      Specifies detailed cluster status.
    properties:
      - !ruby/object:Api::Type::String
        name: "errorMessage"
        description: |
          Human-friendly representation of the error message from the user cluster
          controller. The error message can be temporary as the user cluster
          controller creates a cluster or node pool. If the error message persists
          for a longer period of time, it can be used to surface error message to
          indicate real problems requiring user intervention.
        output: true
      - !ruby/object:Api::Type::Array
        name: "conditions"
        description: |
          ResourceConditions provide a standard mechanism for higher-level status reporting from user cluster controller.
        output: true
        item_type: !ruby/object:Api::Type::NestedObject
          properties:
            - !ruby/object:Api::Type::String
              name: "type"
              description: |
                Type of the condition.
                (e.g., ClusterRunning, NodePoolRunning or ServerSidePreflightReady)
            - !ruby/object:Api::Type::String
              name: "reason"
              description: |
                Machine-readable message indicating details about last transition.
            - !ruby/object:Api::Type::String
              name: "message"
              description: |
                Human-readable message indicating details about last transition.
            - !ruby/object:Api::Type::Time
              name: "lastTransitionTime"
              description: |
                Last time the condition transit from one status to another.
              output: true
            - !ruby/object:Api::Type::Enum
              name: "state"
              description: The lifecycle state of the condition.
              output: true
              values:
                - STATE_UNSPECIFIED
                - STATE_TRUE
                - STATE_FALSE
                - STATE_UNKNOWN
  - !ruby/object:Api::Type::NestedObject
    name: "validationCheck"
    output: true
    description: |
      Specifies the security related settings for the Bare Metal User Cluster.
    properties:
      - !ruby/object:Api::Type::Enum
        name: "options"
        description: Options used for the validation check.
        output: true
        values:
          - OPTIONS_UNSPECIFIED
          - SKIP_VALIDATION_CHECK_BLOCKING
          - SKIP_VALIDATION_ALL
      - !ruby/object:Api::Type::NestedObject
        name: "status"
        output: true
        description: |
          Specifies the detailed validation check status
        properties:
          - !ruby/object:Api::Type::Array
            name: "result"
            description: Individual checks which failed as part of the Preflight check
              execution.
            output: true
            item_type: !ruby/object:Api::Type::NestedObject
              properties:
                - !ruby/object:Api::Type::Enum
                  name: "options"
                  description: Options used for the validation check.
                  output: true
                  values:
                    - STATE_UNKNOWN
                    - STATE_FAILURE
                    - STATE_SKIPPED
                    - STATE_UNKNOWN
                    - STATE_FATAL
                    - STATE_WARNING
                - !ruby/object:Api::Type::String
                  name: "description"
                  description: |
                    The description of the validation check.
                  output: true
                - !ruby/object:Api::Type::String
                  name: "category"
                  description: |
                    The category of the validation.
                  output: true
                - !ruby/object:Api::Type::String
                  name: "reason"
                  description: |
                    A human-readable message of the check failure.
                  output: true
                - !ruby/object:Api::Type::String
                  name: "details"
                  description: |
                    Detailed failure information, which might be unformatted.
                  output: true
      - !ruby/object:Api::Type::Enum
        name: "scenario"
        description: The scenario when the preflight checks were run..
        output: true
        values:
          - SCENARIO_UNSPECIFIED
          - CREATE
          - UPDATE
