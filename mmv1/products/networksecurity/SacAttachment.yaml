# Copyright 2025 Google Inc.
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

---
name: 'SacAttachment'
description: |
  Represents a Secure Access Connect (SAC) attachment resource
references:
  guides:
    'QUICKSTART_TITLE': 'https://cloud.google.com/secure-access-connect/docs/overview'
  api: 'https://cloud.google.com/secure-access-connect/docs/reference/network-security/rest/v1beta1/projects.locations.sacAttachments'
min_version: beta
base_url: 'projects/{{project}}/locations/{{location}}/sacAttachments'
self_link: 'projects/{{project}}/locations/{{location}}/sacAttachments/{{name}}'
immutable: true
create_url: 'projects/{{project}}/locations/{{location}}/sacAttachments?sacAttachmentId={{name}}'
autogen_async: true
async:
  operation:
    base_url: '{{op_id}}'
examples:
  - name: 'sac_attachment_prisma_access'
    min_version: beta
    exclude_test: true
    primary_resource_id: 'default'
    vars:
      resource_name: 'sac-attachment-name'
      ncc_gateway: 'ncc_gateway_spoke_name'
      sac_realm: 'sac_realm_name'
parameters:
  - name: 'location'
    type: String
    required: true
    immutable: true
    url_param_only: true
    description: |
      The location of the SACAttachment resource. eg us-central1
properties:
  - name: 'name'
    type: String
    required: true
    immutable: true
    description: |
      Identifier. Resource name
    custom_flatten: 'templates/terraform/custom_flatten/id_from_name.tmpl'
  - name: 'createTime'
    type: String
    description: Timestamp when the realm was created.
    output: true
  - name: 'updateTime'
    type: String
    description: Timestamp when the realm was last updated.
    output: true
  - name: 'labels'
    type: KeyValueLabels
    description: |
      Optional labels in key:value format. For more information about labels, see [Requirements for labels](https://docs.cloud.google.com/resource-manager/docs/creating-managing-labels#requirements).
  - name: 'sacRealm'
    type: String
    description: |
      SAC Realm which owns the attachment. This can be input as an ID or a full resource name.
    required: true
  - name: 'nccGateway'
    type: String
    description: |
      NCC Gateway associated with the attachment. This can be input as an ID or a full resource name.
    required: true
  - name: 'country'
    type: String
    description: |
      Case-insensitive ISO-3166 alpha-2 country code used for localization. Only valid for Symantec attachments.
  - name: 'timeZone'
    type: String
    description: |
      Case-sensitive tzinfo identifier used for localization. Only valid for Symantec attachments.
  - name: 'symantecOptions'
    type: NestedObject
    description: Configuration required for Symantec attachments.
    properties:
      - name: 'symantecSite'
        type: String
        description: Symantec data center identifier that this attachment will connect to.
        immutable: true
      - name: 'symantecLocationName'
        type: String
        description: |
          Name to be used when creating a location on the customer's behalf in Symantec's Location API. Not to be confused with Google Cloud locations.
        immutable: true
  - name: 'state'
    type: Enum
    description: State of the attachment.
    output: true
    enum_values:
      - 'STATE_UNSPECIFIED'
      - 'PENDING_PARTNER_ATTACHMENT'
      - 'PARTNER_ATTACHED'
      - 'PARTNER_DETACHED'
