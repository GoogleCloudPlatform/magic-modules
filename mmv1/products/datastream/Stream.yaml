# Copyright 2023 Google Inc.
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

--- !ruby/object:Api::Resource
name: 'Stream'
base_url: 'projects/{{project}}/locations/{{location}}/streams'
create_url: 'projects/{{project}}/locations/{{location}}/streams?streamId={{stream_id}}&force={{create_without_validation}}'
self_link: 'projects/{{project}}/locations/{{location}}/streams/{{stream_id}}'
update_verb: :PATCH
update_mask: true
references: !ruby/object:Api::Resource::ReferenceLinks
  guides:
    'Official Documentation': 'https://cloud.google.com/datastream/docs/create-a-stream'
  api: 'https://cloud.google.com/datastream/docs/reference/rest/v1/projects.locations.streams'
description: |
  A resource representing streaming data from a source to a destination.
id_format: projects/{{project}}/locations/{{location}}/streams/{{stream_id}}
import_format:
  ['projects/{{project}}/locations/{{location}}/streams/{{stream_id}}']
virtual_fields:
  - !ruby/object:Api::Type::Enum
    name: 'desired_state'
    description: |
      Desired state of the Stream. Set this field to `RUNNING` to start the stream, and `PAUSED` to pause the stream.
    values:
      - :NOT_STARTED
      - :RUNNING
      - :PAUSED
    default_value: :NOT_STARTED
custom_code: !ruby/object:Provider::Terraform::CustomCode
  constants: 'templates/terraform/constants/datastream_stream.go.erb'
  post_create: 'templates/terraform/post_create/datastream_stream.go.erb'
  post_import: 'templates/terraform/post_import/datastream_stream.go.erb'
  pre_update: 'templates/terraform/pre_update/datastream_stream.go.erb'
  post_update: 'templates/terraform/post_update/datastream_stream.go.erb'
  encoder: 'templates/terraform/encoders/datastream_stream.go.erb'
custom_diff: [
  'resourceDatastreamStreamCustomDiff',
]
examples:
  - !ruby/object:Provider::Terraform::Examples
    name: 'datastream_stream_basic'
    external_providers: ["random", "time"]
    primary_resource_id: 'default'
    skip_docs:
      true
      # Random provider
    skip_vcr: true
    vars:
      stream_id: 'my-stream'
      private_connection_id: 'my-connection'
      network_name: 'my-network'
      source_connection_profile_id: 'source-profile'
      database_instance_name: 'my-instance'
      deletion_protection: 'true'
      bucket_name: 'my-bucket'
      destination_connection_profile_id: 'destination-profile'
    test_vars_overrides:
      deletion_protection: 'false'
    oics_vars_overrides:
      deletion_protection: 'false'
  - !ruby/object:Provider::Terraform::Examples
    name: 'datastream_stream_full'
    external_providers: ["random", "time"]
    primary_resource_id:
      'default'
      # Random provider
    skip_vcr: true
    vars:
      stream_id: 'my-stream'
      private_connection_id: 'my-connection'
      network_name: 'my-network'
      source_connection_profile_id: 'source-profile'
      database_instance_name: 'my-instance'
      deletion_protection: 'true'
      bucket_name: 'my-bucket'
      destination_connection_profile_id: 'destination-profile'
      stream_cmek: 'kms-name'
    test_vars_overrides:
      deletion_protection: 'false'
      stream_cmek: 'acctest.BootstrapKMSKeyInLocation(t, "us-central1").CryptoKey.Name'
    oics_vars_overrides:
      deletion_protection: 'false'
  - !ruby/object:Provider::Terraform::Examples
    name: 'datastream_stream_postgresql'
    primary_resource_id: 'default'
    skip_test: true
    vars:
      stream_id: 'my-stream'
      source_connection_profile_id: 'source-profile'
      destination_connection_profile_id: 'destination-profile'
  - !ruby/object:Provider::Terraform::Examples
    name: 'datastream_stream_oracle'
    primary_resource_id: 'default'
    skip_test: true
    vars:
      stream_id: 'my-stream'
      source_connection_profile_id: 'source-profile'
      destination_connection_profile_id: 'destination-profile'
  - !ruby/object:Provider::Terraform::Examples
    name: 'datastream_stream_sql_server'
    primary_resource_id: 'default'
    skip_test: true
    vars:
      database_name: 'db'
      database_password: 'password'
      database_user: 'user'
      deletion_protection: 'true'
      destination_connection_profile_id: 'destination-profile'
      source_connection_profile_id: 'source-profile'
      sql_server_name: 'sql-server'
      sql_server_root_password: 'root-password'
      stream_id: 'stream'
    test_vars_overrides:
      deletion_protection: 'false'
  - !ruby/object:Provider::Terraform::Examples
    name: 'datastream_stream_postgresql_bigquery_dataset_id'
    primary_resource_id: 'default'
    vars:
      dataset_id: 'postgres'
      stream_id: 'postgres-bigquery'
      dest_connection_profile_id: 'dest-profile'
      instance_name: 'instance-name'
      sql_user_name: 'my-user'
      source_connection_profile_id: 'source-profile'
    external_providers: ["random", "time"]
    # Random provider
    skip_vcr: true
  - !ruby/object:Provider::Terraform::Examples
    name: 'datastream_stream_bigquery'
    external_providers: ["random", "time"]
    primary_resource_id:
      'default'
      # Random provider
    skip_vcr: true
    vars:
      stream_id: 'my-stream'
      private_connection_id: 'my-connection'
      network_name: 'my-network'
      source_connection_profile_id: 'source-profile'
      database_instance_name: 'my-instance'
      deletion_protection: 'true'
      destination_connection_profile_id: 'destination-profile'
      bigquery_destination_table_kms_key_name: 'bigquery-kms-name'
    test_vars_overrides:
      deletion_protection: 'false'
      bigquery_destination_table_kms_key_name:
        'acctest.BootstrapKMSKeyInLocation(t, "us-central1").CryptoKey.Name'
    oics_vars_overrides:
      deletion_protection: 'false'
  - !ruby/object:Provider::Terraform::Examples
    name: 'datastream_stream_bigquery_append_only'
    external_providers: ["random", "time"]
    primary_resource_id:
      'default'
      # Random provider
    skip_vcr: true
    vars:
      stream_id: 'my-stream'
      private_connection_id: 'my-connection'
      network_name: 'my-network'
      source_connection_profile_id: 'source-profile'
      database_instance_name: 'my-instance'
      deletion_protection: 'true'
      destination_connection_profile_id: 'destination-profile'
    test_vars_overrides:
      deletion_protection: 'false'
    oics_vars_overrides:
      deletion_protection: 'false'
parameters:
  - !ruby/object:Api::Type::String
    name: streamId
    description: |-
      The stream identifier.
    required: true
    immutable: true
    url_param_only: true
  - !ruby/object:Api::Type::Boolean
    name: create_without_validation
    description: |-
      Create the stream without validating it.
    required: false
    default_value: false
    immutable: true
    url_param_only: true
  - !ruby/object:Api::Type::String
    name: 'location'
    description: |
      The name of the location this stream is located in.
    required: true
    immutable: true
    url_param_only: true
properties:
  - !ruby/object:Api::Type::String
    name: 'name'
    output: true
    description: The stream's name.
  - !ruby/object:Api::Type::KeyValueLabels
    name: 'labels'
    description: Labels.
  - !ruby/object:Api::Type::String
    name: 'displayName'
    required: true
    description: Display name.
  - !ruby/object:Api::Type::NestedObject
    name: 'sourceConfig'
    required: true
    description: |
      Source connection profile configuration.
    properties:
      - !ruby/object:Api::Type::String
        name: 'sourceConnectionProfile'
        immutable: true
        required: true
        description: |
          Source connection profile resource. Format: projects/{project}/locations/{location}/connectionProfiles/{name}
        diff_suppress_func: 'tpgresource.ProjectNumberDiffSuppress'
      - !ruby/object:Api::Type::NestedObject
        name: 'mysqlSourceConfig'
        allow_empty_object: true
        send_empty_value: true
        exactly_one_of:
          - source_config.0.mysql_source_config
          - source_config.0.oracle_source_config
          - source_config.0.postgresql_source_config
          - source_config.0.sql_server_source_config
        description: |
          MySQL data source configuration.
        properties:
          - !ruby/object:Api::Type::NestedObject
            name: 'includeObjects'
            description: |
              MySQL objects to retrieve from the source.
            properties:
              - !ruby/object:Api::Type::Array
                name: 'mysqlDatabases'
                required: true
                min_size: 1
                description: |
                  MySQL databases on the server
                item_type: !ruby/object:Api::Type::NestedObject
                  description: |
                    MySQL database.
                  properties:
                    - !ruby/object:Api::Type::String
                      name: 'database'
                      required: true
                      description: |
                        Database name.
                    - !ruby/object:Api::Type::Array
                      name: 'mysqlTables'
                      min_size: 1
                      description: |
                        Tables in the database.
                      item_type: !ruby/object:Api::Type::NestedObject
                        description: |
                          MySQL table.
                        properties:
                          - !ruby/object:Api::Type::String
                            name: 'table'
                            required: true
                            description: |
                              Table name.
                          - !ruby/object:Api::Type::Array
                            name: 'mysqlColumns'
                            min_size: 1
                            description: |
                              MySQL columns in the schema. When unspecified as part of include/exclude objects, includes/excludes everything.
                            item_type: !ruby/object:Api::Type::NestedObject
                              description: |
                                MySQL Column.
                              properties:
                                - !ruby/object:Api::Type::String
                                  name: 'column'
                                  description: |
                                    Column name.
                                - !ruby/object:Api::Type::String
                                  name: 'dataType'
                                  description: |
                                    The MySQL data type. Full data types list can be found here:
                                    https://dev.mysql.com/doc/refman/8.0/en/data-types.html
                                - !ruby/object:Api::Type::Integer
                                  name: 'length'
                                  output: true
                                  description: |
                                    Column length.
                                - !ruby/object:Api::Type::String
                                  name: 'collation'
                                  description: |
                                    Column collation.
                                - !ruby/object:Api::Type::Boolean
                                  name: 'primaryKey'
                                  description: |
                                    Whether or not the column represents a primary key.
                                - !ruby/object:Api::Type::Boolean
                                  name: 'nullable'
                                  description: |
                                    Whether or not the column can accept a null value.
                                - !ruby/object:Api::Type::Integer
                                  name: 'ordinalPosition'
                                  description: |
                                    The ordinal position of the column in the table.
          - !ruby/object:Api::Type::NestedObject
            name: 'excludeObjects'
            description: |
              MySQL objects to exclude from the stream.
            properties:
              - !ruby/object:Api::Type::Array
                name: 'mysqlDatabases'
                required: true
                min_size: 1
                description: |
                  MySQL databases on the server
                item_type: !ruby/object:Api::Type::NestedObject
                  description: |
                    MySQL database.
                  properties:
                    - !ruby/object:Api::Type::String
                      name: 'database'
                      required: true
                      description: |
                        Database name.
                    - !ruby/object:Api::Type::Array
                      name: 'mysqlTables'
                      min_size: 1
                      description: |
                        Tables in the database.
                      item_type: !ruby/object:Api::Type::NestedObject
                        description: |
                          MySQL table.
                        properties:
                          - !ruby/object:Api::Type::String
                            name: 'table'
                            required: true
                            description: |
                              Table name.
                          - !ruby/object:Api::Type::Array
                            name: 'mysqlColumns'
                            min_size: 1
                            description: |
                              MySQL columns in the schema. When unspecified as part of include/exclude objects, includes/excludes everything.
                            item_type: !ruby/object:Api::Type::NestedObject
                              description: |
                                MySQL Column.
                              properties:
                                - !ruby/object:Api::Type::String
                                  name: 'column'
                                  description: |
                                    Column name.
                                - !ruby/object:Api::Type::String
                                  name: 'dataType'
                                  description: |
                                    The MySQL data type. Full data types list can be found here:
                                    https://dev.mysql.com/doc/refman/8.0/en/data-types.html
                                - !ruby/object:Api::Type::Integer
                                  name: 'length'
                                  output: true
                                  description: |
                                    Column length.
                                - !ruby/object:Api::Type::String
                                  name: 'collation'
                                  description: |
                                    Column collation.
                                - !ruby/object:Api::Type::Boolean
                                  name: 'primaryKey'
                                  description: |
                                    Whether or not the column represents a primary key.
                                - !ruby/object:Api::Type::Boolean
                                  name: 'nullable'
                                  description: |
                                    Whether or not the column can accept a null value.
                                - !ruby/object:Api::Type::Integer
                                  name: 'ordinalPosition'
                                  description: |
                                    The ordinal position of the column in the table.
          - !ruby/object:Api::Type::Integer
            name: 'maxConcurrentCdcTasks'
            send_empty_value: true
            description: |
              Maximum number of concurrent CDC tasks. The number should be non negative.
              If not set (or set to 0), the system's default value will be used.
            default_from_api: true
            validation: !ruby/object:Provider::Terraform::Validation
              function: 'validation.IntAtLeast(0)'
          - !ruby/object:Api::Type::Integer
            name: 'maxConcurrentBackfillTasks'
            send_empty_value: true
            description: |
              Maximum number of concurrent backfill tasks. The number should be non negative.
              If not set (or set to 0), the system's default value will be used.
            default_from_api: true
            validation: !ruby/object:Provider::Terraform::Validation
              function: 'validation.IntAtLeast(0)'
      - !ruby/object:Api::Type::NestedObject
        name: 'oracleSourceConfig'
        allow_empty_object: true
        send_empty_value: true
        exactly_one_of:
          - source_config.0.mysql_source_config
          - source_config.0.oracle_source_config
          - source_config.0.postgresql_source_config
          - source_config.0.sql_server_source_config
        description: |
          MySQL data source configuration.
        properties:
          - !ruby/object:Api::Type::NestedObject
            name: 'includeObjects'
            description: |
              Oracle objects to retrieve from the source.
            properties:
              - !ruby/object:Api::Type::Array
                name: 'oracleSchemas'
                required: true
                min_size: 1
                description: |
                  Oracle schemas/databases in the database server
                item_type: !ruby/object:Api::Type::NestedObject
                  description: |
                    MySQL database.
                  properties:
                    - !ruby/object:Api::Type::String
                      name: 'schema'
                      required: true
                      description: |
                        Schema name.
                    - !ruby/object:Api::Type::Array
                      name: 'oracleTables'
                      min_size: 1
                      description: |
                        Tables in the database.
                      item_type: !ruby/object:Api::Type::NestedObject
                        description: |
                          Oracle table.
                        properties:
                          - !ruby/object:Api::Type::String
                            name: 'table'
                            required: true
                            description: |
                              Table name.
                          - !ruby/object:Api::Type::Array
                            name: 'oracleColumns'
                            min_size: 1
                            description: |
                              Oracle columns in the schema. When unspecified as part of include/exclude objects, includes/excludes everything.
                            item_type: !ruby/object:Api::Type::NestedObject
                              description: |
                                Oracle Column.
                              properties:
                                - !ruby/object:Api::Type::String
                                  name: 'column'
                                  description: |
                                    Column name.
                                - !ruby/object:Api::Type::String
                                  name: 'dataType'
                                  description: |
                                    The Oracle data type. Full data types list can be found here:
                                    https://docs.oracle.com/en/database/oracle/oracle-database/21/sqlrf/Data-Types.html
                                - !ruby/object:Api::Type::Integer
                                  name: 'length'
                                  output: true
                                  description: |
                                    Column length.
                                - !ruby/object:Api::Type::Integer
                                  name: 'precision'
                                  output: true
                                  description: |
                                    Column precision.
                                - !ruby/object:Api::Type::Integer
                                  name: 'scale'
                                  output: true
                                  description: |
                                    Column scale.
                                - !ruby/object:Api::Type::String
                                  name: 'encoding'
                                  output: true
                                  description: |
                                    Column encoding.
                                - !ruby/object:Api::Type::Boolean
                                  name: 'primaryKey'
                                  output: true
                                  description: |
                                    Whether or not the column represents a primary key.
                                - !ruby/object:Api::Type::Boolean
                                  name: 'nullable'
                                  output: true
                                  description: |
                                    Whether or not the column can accept a null value.
                                - !ruby/object:Api::Type::Integer
                                  name: 'ordinalPosition'
                                  output: true
                                  description: |
                                    The ordinal position of the column in the table.
          - !ruby/object:Api::Type::NestedObject
            name: 'excludeObjects'
            description: |
              Oracle objects to exclude from the stream.
            properties:
              - !ruby/object:Api::Type::Array
                name: 'oracleSchemas'
                required: true
                min_size: 1
                description: |
                  Oracle schemas/databases in the database server
                item_type: !ruby/object:Api::Type::NestedObject
                  description: |
                    MySQL database.
                  properties:
                    - !ruby/object:Api::Type::String
                      name: 'schema'
                      required: true
                      description: |
                        Schema name.
                    - !ruby/object:Api::Type::Array
                      name: 'oracleTables'
                      min_size: 1
                      description: |
                        Tables in the database.
                      item_type: !ruby/object:Api::Type::NestedObject
                        description: |
                          Oracle table.
                        properties:
                          - !ruby/object:Api::Type::String
                            name: 'table'
                            required: true
                            description: |
                              Table name.
                          - !ruby/object:Api::Type::Array
                            name: 'oracleColumns'
                            min_size: 1
                            description: |
                              Oracle columns in the schema. When unspecified as part of include/exclude objects, includes/excludes everything.
                            item_type: !ruby/object:Api::Type::NestedObject
                              description: |
                                Oracle Column.
                              properties:
                                - !ruby/object:Api::Type::String
                                  name: 'column'
                                  description: |
                                    Column name.
                                - !ruby/object:Api::Type::String
                                  name: 'dataType'
                                  description: |
                                    The Oracle data type. Full data types list can be found here:
                                    https://docs.oracle.com/en/database/oracle/oracle-database/21/sqlrf/Data-Types.html
                                - !ruby/object:Api::Type::Integer
                                  name: 'length'
                                  output: true
                                  description: |
                                    Column length.
                                - !ruby/object:Api::Type::Integer
                                  name: 'precision'
                                  output: true
                                  description: |
                                    Column precision.
                                - !ruby/object:Api::Type::Integer
                                  name: 'scale'
                                  output: true
                                  description: |
                                    Column scale.
                                - !ruby/object:Api::Type::String
                                  name: 'encoding'
                                  output: true
                                  description: |
                                    Column encoding.
                                - !ruby/object:Api::Type::Boolean
                                  name: 'primaryKey'
                                  output: true
                                  description: |
                                    Whether or not the column represents a primary key.
                                - !ruby/object:Api::Type::Boolean
                                  name: 'nullable'
                                  output: true
                                  description: |
                                    Whether or not the column can accept a null value.
                                - !ruby/object:Api::Type::Integer
                                  name: 'ordinalPosition'
                                  output: true
                                  description: |
                                    The ordinal position of the column in the table.
          - !ruby/object:Api::Type::Integer
            name: 'maxConcurrentCdcTasks'
            send_empty_value: true
            description: |
              Maximum number of concurrent CDC tasks. The number should be non negative.
              If not set (or set to 0), the system's default value will be used.
            default_from_api: true
            validation: !ruby/object:Provider::Terraform::Validation
              function: 'validation.IntAtLeast(0)'
          - !ruby/object:Api::Type::Integer
            name: 'maxConcurrentBackfillTasks'
            send_empty_value: true
            description: |
              Maximum number of concurrent backfill tasks. The number should be non negative.
              If not set (or set to 0), the system's default value will be used.
            default_from_api: true
            validation: !ruby/object:Provider::Terraform::Validation
              function: 'validation.IntAtLeast(0)'
          - !ruby/object:Api::Type::NestedObject
            name: 'dropLargeObjects'
            allow_empty_object: true
            send_empty_value: true
            description: |
              Configuration to drop large object values.
            properties: []
          - !ruby/object:Api::Type::NestedObject
            name: 'streamLargeObjects'
            allow_empty_object: true
            send_empty_value: true
            description: |
              Configuration to drop large object values.
            properties: []
      - !ruby/object:Api::Type::NestedObject
        name: 'postgresqlSourceConfig'
        allow_empty_object: true
        send_empty_value: true
        exactly_one_of:
          - source_config.0.mysql_source_config
          - source_config.0.oracle_source_config
          - source_config.0.postgresql_source_config
          - source_config.0.sql_server_source_config
        description: |
          PostgreSQL data source configuration.
        properties:
          - !ruby/object:Api::Type::NestedObject
            name: 'includeObjects'
            description: |
              PostgreSQL objects to retrieve from the source.
            properties:
              - !ruby/object:Api::Type::Array
                name: 'postgresqlSchemas'
                required: true
                min_size: 1
                description: |
                  PostgreSQL schemas on the server
                item_type: !ruby/object:Api::Type::NestedObject
                  description: |
                    PostgreSQL schema.
                  properties:
                    - !ruby/object:Api::Type::String
                      name: 'schema'
                      required: true
                      description: |
                        Database name.
                    - !ruby/object:Api::Type::Array
                      name: 'postgresqlTables'
                      min_size: 1
                      description: |
                        Tables in the schema.
                      item_type: !ruby/object:Api::Type::NestedObject
                        description: |
                          PostgreSQL table.
                        properties:
                          - !ruby/object:Api::Type::String
                            name: 'table'
                            required: true
                            description: |
                              Table name.
                          - !ruby/object:Api::Type::Array
                            name: 'postgresqlColumns'
                            min_size: 1
                            description: |
                              PostgreSQL columns in the schema. When unspecified as part of include/exclude objects, includes/excludes everything.
                            item_type: !ruby/object:Api::Type::NestedObject
                              description: |
                                PostgreSQL Column.
                              properties:
                                - !ruby/object:Api::Type::String
                                  name: 'column'
                                  description: |
                                    Column name.
                                - !ruby/object:Api::Type::String
                                  name: 'dataType'
                                  description: |
                                    The PostgreSQL data type. Full data types list can be found here:
                                    https://www.postgresql.org/docs/current/datatype.html
                                - !ruby/object:Api::Type::Integer
                                  name: 'length'
                                  output: true
                                  description: |
                                    Column length.
                                - !ruby/object:Api::Type::Integer
                                  name: 'precision'
                                  output: true
                                  description: |
                                    Column precision.
                                - !ruby/object:Api::Type::Integer
                                  name: 'scale'
                                  output: true
                                  description: |
                                    Column scale.
                                - !ruby/object:Api::Type::Boolean
                                  name: 'primaryKey'
                                  description: |
                                    Whether or not the column represents a primary key.
                                - !ruby/object:Api::Type::Boolean
                                  name: 'nullable'
                                  description: |
                                    Whether or not the column can accept a null value.
                                - !ruby/object:Api::Type::Integer
                                  name: 'ordinalPosition'
                                  description: |
                                    The ordinal position of the column in the table.
          - !ruby/object:Api::Type::NestedObject
            name: 'excludeObjects'
            description: |
              PostgreSQL objects to exclude from the stream.
            properties:
              - !ruby/object:Api::Type::Array
                name: 'postgresqlSchemas'
                required: true
                min_size: 1
                description: |
                  PostgreSQL schemas on the server
                item_type: !ruby/object:Api::Type::NestedObject
                  description: |
                    PostgreSQL schema.
                  properties:
                    - !ruby/object:Api::Type::String
                      name: 'schema'
                      required: true
                      description: |
                        Database name.
                    - !ruby/object:Api::Type::Array
                      name: 'postgresqlTables'
                      min_size: 1
                      description: |
                        Tables in the schema.
                      item_type: !ruby/object:Api::Type::NestedObject
                        description: |
                          PostgreSQL table.
                        properties:
                          - !ruby/object:Api::Type::String
                            name: 'table'
                            required: true
                            description: |
                              Table name.
                          - !ruby/object:Api::Type::Array
                            name: 'postgresqlColumns'
                            min_size: 1
                            description: |
                              PostgreSQL columns in the schema. When unspecified as part of include/exclude objects, includes/excludes everything.
                            item_type: !ruby/object:Api::Type::NestedObject
                              description: |
                                PostgreSQL Column.
                              properties:
                                - !ruby/object:Api::Type::String
                                  name: 'column'
                                  description: |
                                    Column name.
                                - !ruby/object:Api::Type::String
                                  name: 'dataType'
                                  description: |
                                    The PostgreSQL data type. Full data types list can be found here:
                                    https://www.postgresql.org/docs/current/datatype.html
                                - !ruby/object:Api::Type::Integer
                                  name: 'length'
                                  output: true
                                  description: |
                                    Column length.
                                - !ruby/object:Api::Type::Integer
                                  name: 'precision'
                                  output: true
                                  description: |
                                    Column precision.
                                - !ruby/object:Api::Type::Integer
                                  name: 'scale'
                                  output: true
                                  description: |
                                    Column scale.
                                - !ruby/object:Api::Type::Boolean
                                  name: 'primaryKey'
                                  description: |
                                    Whether or not the column represents a primary key.
                                - !ruby/object:Api::Type::Boolean
                                  name: 'nullable'
                                  description: |
                                    Whether or not the column can accept a null value.
                                - !ruby/object:Api::Type::Integer
                                  name: 'ordinalPosition'
                                  description: |
                                    The ordinal position of the column in the table.
          - !ruby/object:Api::Type::String
            name: 'replicationSlot'
            required: true
            description: |
              The name of the logical replication slot that's configured with
              the pgoutput plugin.
          - !ruby/object:Api::Type::String
            name: 'publication'
            required: true
            description: |
              The name of the publication that includes the set of all tables
              that are defined in the stream's include_objects.
          - !ruby/object:Api::Type::Integer
            name: 'maxConcurrentBackfillTasks'
            send_empty_value: true
            description: |
              Maximum number of concurrent backfill tasks. The number should be non
              negative. If not set (or set to 0), the system's default value will be used.
            default_from_api: true
            validation: !ruby/object:Provider::Terraform::Validation
              function: 'validation.IntAtLeast(0)'
      - !ruby/object:Api::Type::NestedObject
        name: 'sqlServerSourceConfig'
        allow_empty_object: true
        send_empty_value: true
        exactly_one_of:
          - source_config.0.mysql_source_config
          - source_config.0.oracle_source_config
          - source_config.0.postgresql_source_config
          - source_config.0.sql_server_source_config
        description: |
          SQL Server data source configuration.
        properties:
          - !ruby/object:Api::Type::NestedObject
            name: 'includeObjects'
            description: |
              SQL Server objects to retrieve from the source.
            properties:
              - !ruby/object:Api::Type::Array
                name: 'schemas'
                required: true
                min_size: 1
                description: |
                  SQL Server schemas/databases in the database server
                item_type: !ruby/object:Api::Type::NestedObject
                  description: |
                    SQL Server database.
                  properties:
                    - !ruby/object:Api::Type::String
                      name: 'schema'
                      required: true
                      description: |
                        Schema name.
                    - !ruby/object:Api::Type::Array
                      name: 'tables'
                      min_size: 1
                      description: |
                        Tables in the database.
                      item_type: !ruby/object:Api::Type::NestedObject
                        description: |
                          SQL Server table.
                        properties:
                          - !ruby/object:Api::Type::String
                            name: 'table'
                            required: true
                            description: |
                              Table name.
                          - !ruby/object:Api::Type::Array
                            name: 'columns'
                            min_size: 1
                            description: |
                              SQL Server columns in the schema. When unspecified as part of include/exclude objects, includes/excludes everything.
                            item_type: !ruby/object:Api::Type::NestedObject
                              description: |
                                SQL Server Column.
                              properties:
                                - !ruby/object:Api::Type::String
                                  name: 'column'
                                  description: |
                                    Column name.
                                - !ruby/object:Api::Type::String
                                  name: 'dataType'
                                  description: |
                                    The SQL Server data type. Full data types list can be found here:
                                    https://learn.microsoft.com/en-us/sql/t-sql/data-types/data-types-transact-sql?view=sql-server-ver16
                                - !ruby/object:Api::Type::Integer
                                  name: 'length'
                                  output: true
                                  description: |
                                    Column length.
                                - !ruby/object:Api::Type::Integer
                                  name: 'precision'
                                  output: true
                                  description: |
                                    Column precision.
                                - !ruby/object:Api::Type::Integer
                                  name: 'scale'
                                  output: true
                                  description: |
                                    Column scale.
                                - !ruby/object:Api::Type::Boolean
                                  name: 'primaryKey'
                                  output: true
                                  description: |
                                    Whether or not the column represents a primary key.
                                - !ruby/object:Api::Type::Boolean
                                  name: 'nullable'
                                  output: true
                                  description: |
                                    Whether or not the column can accept a null value.
                                - !ruby/object:Api::Type::Integer
                                  name: 'ordinalPosition'
                                  output: true
                                  description: |
                                    The ordinal position of the column in the table.
          - !ruby/object:Api::Type::NestedObject
            name: 'excludeObjects'
            description: |
              SQL Server objects to exclude from the stream.
            properties:
              - !ruby/object:Api::Type::Array
                name: 'schemas'
                required: true
                min_size: 1
                description: |
                  SQL Server schemas/databases in the database server
                item_type: !ruby/object:Api::Type::NestedObject
                  description: |
                    SQL Server database.
                  properties:
                    - !ruby/object:Api::Type::String
                      name: 'schema'
                      required: true
                      description: |
                        Schema name.
                    - !ruby/object:Api::Type::Array
                      name: 'tables'
                      min_size: 1
                      description: |
                        Tables in the database.
                      item_type: !ruby/object:Api::Type::NestedObject
                        description: |
                          SQL Server table.
                        properties:
                          - !ruby/object:Api::Type::String
                            name: 'table'
                            required: true
                            description: |
                              Table name.
                          - !ruby/object:Api::Type::Array
                            name: 'columns'
                            min_size: 1
                            description: |
                              SQL Server columns in the schema. When unspecified as part of include/exclude objects, includes/excludes everything.
                            item_type: !ruby/object:Api::Type::NestedObject
                              description: |
                                SQL Server Column.
                              properties:
                                - !ruby/object:Api::Type::String
                                  name: 'column'
                                  description: |
                                    Column name.
                                - !ruby/object:Api::Type::String
                                  name: 'dataType'
                                  description: |
                                    The SQL Server data type. Full data types list can be found here:
                                    https://learn.microsoft.com/en-us/sql/t-sql/data-types/data-types-transact-sql?view=sql-server-ver16
                                - !ruby/object:Api::Type::Integer
                                  name: 'length'
                                  output: true
                                  description: |
                                    Column length.
                                - !ruby/object:Api::Type::Integer
                                  name: 'precision'
                                  output: true
                                  description: |
                                    Column precision.
                                - !ruby/object:Api::Type::Integer
                                  name: 'scale'
                                  output: true
                                  description: |
                                    Column scale.
                                - !ruby/object:Api::Type::Boolean
                                  name: 'primaryKey'
                                  output: true
                                  description: |
                                    Whether or not the column represents a primary key.
                                - !ruby/object:Api::Type::Boolean
                                  name: 'nullable'
                                  output: true
                                  description: |
                                    Whether or not the column can accept a null value.
                                - !ruby/object:Api::Type::Integer
                                  name: 'ordinalPosition'
                                  output: true
                                  description: |
                                    The ordinal position of the column in the table.
          - !ruby/object:Api::Type::Integer
            name: 'maxConcurrentCdcTasks'
            send_empty_value: true
            description: |
              Max concurrent CDC tasks.
            default_from_api: true
            validation: !ruby/object:Provider::Terraform::Validation
              function: 'validation.IntAtLeast(0)'
          - !ruby/object:Api::Type::Integer
            name: 'maxConcurrentBackfillTasks'
            send_empty_value: true
            description: |
              Max concurrent backfill tasks.
            default_from_api: true
            validation: !ruby/object:Provider::Terraform::Validation
              function: 'validation.IntAtLeast(0)'
  - !ruby/object:Api::Type::NestedObject
    name: 'destinationConfig'
    required: true
    description: |
      Destination connection profile configuration.
    properties:
      - !ruby/object:Api::Type::String
        name: 'destinationConnectionProfile'
        immutable: true
        required: true
        description: |
          Destination connection profile resource. Format: projects/{project}/locations/{location}/connectionProfiles/{name}
        diff_suppress_func: 'tpgresource.ProjectNumberDiffSuppress'
      - !ruby/object:Api::Type::NestedObject
        name: 'gcsDestinationConfig'
        exactly_one_of:
          - destination_config.0.gcs_destination_config
          - destination_config.0.bigquery_destination_config
        description: |
          A configuration for how data should be loaded to Cloud Storage.
        properties:
          - !ruby/object:Api::Type::String
            name: 'path'
            description: |
              Path inside the Cloud Storage bucket to write data to.
          - !ruby/object:Api::Type::Integer
            name: 'fileRotationMb'
            description: |
              The maximum file size to be saved in the bucket.
            default_from_api: true
          - !ruby/object:Api::Type::String
            name: 'fileRotationInterval'
            description: |
              The maximum duration for which new events are added before a file is closed and a new file is created.
              A duration in seconds with up to nine fractional digits, terminated by 's'. Example: "3.5s". Defaults to 900s.
            default_from_api: true
          - !ruby/object:Api::Type::NestedObject
            name: 'avroFileFormat'
            exactly_one_of:
              - destination_config.0.gcs_destination_config.0.avro_file_format
              - destination_config.0.gcs_destination_config.0.json_file_format
            allow_empty_object: true
            send_empty_value: true
            description: |
              AVRO file format configuration.
            properties: []
          - !ruby/object:Api::Type::NestedObject
            name: 'jsonFileFormat'
            exactly_one_of:
              - destination_config.0.gcs_destination_config.0.avro_file_format
              - destination_config.0.gcs_destination_config.0.json_file_format
            description: |
              JSON file format configuration.
            properties:
              - !ruby/object:Api::Type::Enum
                name: 'schemaFileFormat'
                description: |
                  The schema file format along JSON data files.
                values:
                  - NO_SCHEMA_FILE
                  - AVRO_SCHEMA_FILE
              - !ruby/object:Api::Type::Enum
                name: 'compression'
                description: |
                  Compression of the loaded JSON file.
                values:
                  - NO_COMPRESSION
                  - GZIP
      - !ruby/object:Api::Type::NestedObject
        name: 'bigqueryDestinationConfig'
        exactly_one_of:
          - destination_config.0.gcs_destination_config
          - destination_config.0.bigquery_destination_config
        description: |
          A configuration for how data should be loaded to Google BigQuery.
        properties:
          - !ruby/object:Api::Type::String
            name: 'dataFreshness'
            description: |
              The guaranteed data freshness (in seconds) when querying tables created by the stream.
              Editing this field will only affect new tables created in the future, but existing tables
              will not be impacted. Lower values mean that queries will return fresher data, but may result in higher cost.
              A duration in seconds with up to nine fractional digits, terminated by 's'. Example: "3.5s". Defaults to 900s.
          - !ruby/object:Api::Type::NestedObject
            name: 'singleTargetDataset'
            exactly_one_of:
              - destination_config.0.bigquery_destination_config.0.single_target_dataset
              - destination_config.0.bigquery_destination_config.0.source_hierarchy_datasets
            description: |
              A single target dataset to which all data will be streamed.
            properties:
              - !ruby/object:Api::Type::String
                name: 'datasetId'
                required: true
                description: |
                  Dataset ID in the format projects/{project}/datasets/{dataset_id} or
                  {project}:{dataset_id}
                custom_expand: 'templates/terraform/custom_expand/datastream_stream_dataset_id.go.erb'
                diff_suppress_func: resourceDatastreamStreamDatabaseIdDiffSuppress
          - !ruby/object:Api::Type::NestedObject
            name: 'sourceHierarchyDatasets'
            exactly_one_of:
              - destination_config.0.bigquery_destination_config.0.single_target_dataset
              - destination_config.0.bigquery_destination_config.0.source_hierarchy_datasets
            description: |
              Destination datasets are created so that hierarchy of the destination data objects matches the source hierarchy.
            properties:
              - !ruby/object:Api::Type::NestedObject
                name: 'datasetTemplate'
                required: true
                description: |
                  Dataset template used for dynamic dataset creation.
                properties:
                  - !ruby/object:Api::Type::String
                    name: 'location'
                    required: true
                    description: |
                      The geographic location where the dataset should reside.
                      See https://cloud.google.com/bigquery/docs/locations for supported locations.
                  - !ruby/object:Api::Type::String
                    name: 'datasetIdPrefix'
                    description: |
                      If supplied, every created dataset will have its name prefixed by the provided value.
                      The prefix and name will be separated by an underscore. i.e. _.
                  - !ruby/object:Api::Type::String
                    name: 'kmsKeyName'
                    immutable: true
                    description: |
                      Describes the Cloud KMS encryption key that will be used to protect destination BigQuery
                      table. The BigQuery Service Account associated with your project requires access to this
                      encryption key. i.e. projects/{project}/locations/{location}/keyRings/{key_ring}/cryptoKeys/{cryptoKey}.
                      See https://cloud.google.com/bigquery/docs/customer-managed-encryption for more information.
          - !ruby/object:Api::Type::NestedObject
            name: 'merge'
            send_empty_value: true
            allow_empty_object: true
            immutable: true
            conflicts:
              - destination_config.0.bigquery_destination_config.0.append_only
            description: |
              Merge mode defines that all changes to a table will be merged at the destination Google BigQuery
              table. This is the default write mode. When selected, BigQuery reflects the way the data is stored
              in the source database. With Merge mode, no historical record of the change events is kept.
            properties: []
          - !ruby/object:Api::Type::NestedObject
            name: 'appendOnly'
            send_empty_value: true
            allow_empty_object: true
            immutable: true
            conflicts:
              - destination_config.0.bigquery_destination_config.0.merge
            description: |
              AppendOnly mode defines that the stream of changes (INSERT, UPDATE-INSERT, UPDATE-DELETE and DELETE
              events) to a source table will be written to the destination Google BigQuery table, retaining the
              historical state of the data.
            properties: []
  - !ruby/object:Api::Type::String
    name: 'state'
    description: The state of the stream.
    output: true
  - !ruby/object:Api::Type::NestedObject
    name: 'backfillAll'
    exactly_one_of:
      - backfill_all
      - backfill_none
    allow_empty_object: true
    send_empty_value: true
    description: |
      Backfill strategy to automatically backfill the Stream's objects. Specific objects can be excluded.
    properties:
      - !ruby/object:Api::Type::NestedObject
        name: 'mysqlExcludedObjects'
        description: |
          MySQL data source objects to avoid backfilling.
        properties:
          - !ruby/object:Api::Type::Array
            name: 'mysqlDatabases'
            required: true
            min_size: 1
            description: |
              MySQL databases on the server
            item_type: !ruby/object:Api::Type::NestedObject
              description: |
                MySQL database.
              properties:
                - !ruby/object:Api::Type::String
                  name: 'database'
                  required: true
                  description: |
                    Database name.
                - !ruby/object:Api::Type::Array
                  name: 'mysqlTables'
                  min_size: 1
                  description: |
                    Tables in the database.
                  item_type: !ruby/object:Api::Type::NestedObject
                    description: |
                      MySQL table.
                    properties:
                      - !ruby/object:Api::Type::String
                        name: 'table'
                        required: true
                        description: |
                          Table name.
                      - !ruby/object:Api::Type::Array
                        name: 'mysqlColumns'
                        min_size: 1
                        description: |
                          MySQL columns in the schema. When unspecified as part of include/exclude objects, includes/excludes everything.
                        item_type: !ruby/object:Api::Type::NestedObject
                          description: |
                            MySQL Column.
                          properties:
                            - !ruby/object:Api::Type::String
                              name: 'column'
                              description: |
                                Column name.
                            - !ruby/object:Api::Type::String
                              name: 'dataType'
                              description: |
                                The MySQL data type. Full data types list can be found here:
                                https://dev.mysql.com/doc/refman/8.0/en/data-types.html
                            - !ruby/object:Api::Type::Integer
                              name: 'length'
                              output: true
                              description: |
                                Column length.
                            - !ruby/object:Api::Type::String
                              name: 'collation'
                              description: |
                                Column collation.
                            - !ruby/object:Api::Type::Boolean
                              name: 'primaryKey'
                              description: |
                                Whether or not the column represents a primary key.
                            - !ruby/object:Api::Type::Boolean
                              name: 'nullable'
                              description: |
                                Whether or not the column can accept a null value.
                            - !ruby/object:Api::Type::Integer
                              name: 'ordinalPosition'
                              description: |
                                The ordinal position of the column in the table.
      - !ruby/object:Api::Type::NestedObject
        name: 'postgresqlExcludedObjects'
        description: |
          PostgreSQL data source objects to avoid backfilling.
        properties:
          - !ruby/object:Api::Type::Array
            name: 'postgresqlSchemas'
            required: true
            min_size: 1
            description: |
              PostgreSQL schemas on the server
            item_type: !ruby/object:Api::Type::NestedObject
              description: |
                PostgreSQL schema.
              properties:
                - !ruby/object:Api::Type::String
                  name: 'schema'
                  required: true
                  description: |
                    Database name.
                - !ruby/object:Api::Type::Array
                  name: 'postgresqlTables'
                  min_size: 1
                  description: |
                    Tables in the schema.
                  item_type: !ruby/object:Api::Type::NestedObject
                    description: |
                      PostgreSQL table.
                    properties:
                      - !ruby/object:Api::Type::String
                        name: 'table'
                        required: true
                        description: |
                          Table name.
                      - !ruby/object:Api::Type::Array
                        name: 'postgresqlColumns'
                        min_size: 1
                        description: |
                          PostgreSQL columns in the schema. When unspecified as part of include/exclude objects, includes/excludes everything.
                        item_type: !ruby/object:Api::Type::NestedObject
                          description: |
                            PostgreSQL Column.
                          properties:
                            - !ruby/object:Api::Type::String
                              name: 'column'
                              description: |
                                Column name.
                            - !ruby/object:Api::Type::String
                              name: 'dataType'
                              description: |
                                The PostgreSQL data type. Full data types list can be found here:
                                https://www.postgresql.org/docs/current/datatype.html
                            - !ruby/object:Api::Type::Integer
                              name: 'length'
                              output: true
                              description: |
                                Column length.
                            - !ruby/object:Api::Type::Integer
                              name: 'precision'
                              output: true
                              description: |
                                Column precision.
                            - !ruby/object:Api::Type::Integer
                              name: 'scale'
                              output: true
                              description: |
                                Column scale.
                            - !ruby/object:Api::Type::Boolean
                              name: 'primaryKey'
                              description: |
                                Whether or not the column represents a primary key.
                            - !ruby/object:Api::Type::Boolean
                              name: 'nullable'
                              description: |
                                Whether or not the column can accept a null value.
                            - !ruby/object:Api::Type::Integer
                              name: 'ordinalPosition'
                              description: |
                                The ordinal position of the column in the table.
      - !ruby/object:Api::Type::NestedObject
        name: 'oracleExcludedObjects'
        description: |
          PostgreSQL data source objects to avoid backfilling.
        properties:
          - !ruby/object:Api::Type::Array
            name: 'oracleSchemas'
            required: true
            min_size: 1
            description: |
              Oracle schemas/databases in the database server
            item_type: !ruby/object:Api::Type::NestedObject
              description: |
                MySQL database.
              properties:
                - !ruby/object:Api::Type::String
                  name: 'schema'
                  required: true
                  description: |
                    Schema name.
                - !ruby/object:Api::Type::Array
                  name: 'oracleTables'
                  min_size: 1
                  description: |
                    Tables in the database.
                  item_type: !ruby/object:Api::Type::NestedObject
                    description: |
                      Oracle table.
                    properties:
                      - !ruby/object:Api::Type::String
                        name: 'table'
                        required: true
                        description: |
                          Table name.
                      - !ruby/object:Api::Type::Array
                        name: 'oracleColumns'
                        min_size: 1
                        description: |
                          Oracle columns in the schema. When unspecified as part of include/exclude objects, includes/excludes everything.
                        item_type: !ruby/object:Api::Type::NestedObject
                          description: |
                            Oracle Column.
                          properties:
                            - !ruby/object:Api::Type::String
                              name: 'column'
                              description: |
                                Column name.
                            - !ruby/object:Api::Type::String
                              name: 'dataType'
                              description: |
                                The Oracle data type. Full data types list can be found here:
                                https://docs.oracle.com/en/database/oracle/oracle-database/21/sqlrf/Data-Types.html
                            - !ruby/object:Api::Type::Integer
                              name: 'length'
                              output: true
                              description: |
                                Column length.
                            - !ruby/object:Api::Type::Integer
                              name: 'precision'
                              output: true
                              description: |
                                Column precision.
                            - !ruby/object:Api::Type::Integer
                              name: 'scale'
                              output: true
                              description: |
                                Column scale.
                            - !ruby/object:Api::Type::String
                              name: 'encoding'
                              output: true
                              description: |
                                Column encoding.
                            - !ruby/object:Api::Type::Boolean
                              name: 'primaryKey'
                              output: true
                              description: |
                                Whether or not the column represents a primary key.
                            - !ruby/object:Api::Type::Boolean
                              name: 'nullable'
                              output: true
                              description: |
                                Whether or not the column can accept a null value.
                            - !ruby/object:Api::Type::Integer
                              name: 'ordinalPosition'
                              output: true
                              description: |
                                The ordinal position of the column in the table.
      - !ruby/object:Api::Type::NestedObject
        name: 'sqlServerExcludedObjects'
        description: |
          SQL Server data source objects to avoid backfilling.
        properties:
          - !ruby/object:Api::Type::Array
            name: 'schemas'
            required: true
            min_size: 1
            description: |
              SQL Server schemas/databases in the database server
            item_type: !ruby/object:Api::Type::NestedObject
              description: |
                SQL Server database.
              properties:
                - !ruby/object:Api::Type::String
                  name: 'schema'
                  required: true
                  description: |
                    Schema name.
                - !ruby/object:Api::Type::Array
                  name: 'tables'
                  min_size: 1
                  description: |
                    Tables in the database.
                  item_type: !ruby/object:Api::Type::NestedObject
                    description: |
                      SQL Server table.
                    properties:
                      - !ruby/object:Api::Type::String
                        name: 'table'
                        required: true
                        description: |
                          Table name.
                      - !ruby/object:Api::Type::Array
                        name: 'columns'
                        min_size: 1
                        description: |
                          SQL Server columns in the schema. When unspecified as part of include/exclude objects, includes/excludes everything.
                        item_type: !ruby/object:Api::Type::NestedObject
                          description: |
                            SQL Server Column.
                          properties:
                            - !ruby/object:Api::Type::String
                              name: 'column'
                              description: |
                                Column name.
                            - !ruby/object:Api::Type::String
                              name: 'dataType'
                              description: |
                                The SQL Server data type. Full data types list can be found here:
                                https://learn.microsoft.com/en-us/sql/t-sql/data-types/data-types-transact-sql?view=sql-server-ver16
                            - !ruby/object:Api::Type::Integer
                              name: 'length'
                              output: true
                              description: |
                                Column length.
                            - !ruby/object:Api::Type::Integer
                              name: 'precision'
                              output: true
                              description: |
                                Column precision.
                            - !ruby/object:Api::Type::Integer
                              name: 'scale'
                              output: true
                              description: |
                                Column scale.
                            - !ruby/object:Api::Type::Boolean
                              name: 'primaryKey'
                              output: true
                              description: |
                                Whether or not the column represents a primary key.
                            - !ruby/object:Api::Type::Boolean
                              name: 'nullable'
                              output: true
                              description: |
                                Whether or not the column can accept a null value.
                            - !ruby/object:Api::Type::Integer
                              name: 'ordinalPosition'
                              output: true
                              description: |
                                The ordinal position of the column in the table.
  - !ruby/object:Api::Type::NestedObject
    name: 'backfillNone'
    exactly_one_of:
      - backfill_all
      - backfill_none
    allow_empty_object: true
    send_empty_value: true
    description: |
      Backfill strategy to disable automatic backfill for the Stream's objects.
    properties: []
  - !ruby/object:Api::Type::String
    name: 'customerManagedEncryptionKey'
    immutable: true
    description: |
      A reference to a KMS encryption key. If provided, it will be used to encrypt the data. If left blank, data
      will be encrypted using an internal Stream-specific encryption key provisioned through KMS.
