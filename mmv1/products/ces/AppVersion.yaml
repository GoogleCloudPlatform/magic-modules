# Copyright 2025 Google Inc.
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
---
name: AppVersion
description: Description
base_url: projects/{{project}}/locations/{{location}}/apps/{{app}}/versions
immutable: true
self_link: projects/{{project}}/locations/{{location}}/apps/{{app}}/versions/{{name}}
create_url: projects/{{project}}/locations/{{location}}/apps/{{app}}/versions?appVersionId={{app_version_id}}
id_format: projects/{{project}}/locations/{{location}}/apps/{{app}}/versions/{{name}}
import_format:
- projects/{{project}}/locations/{{location}}/apps/{{app}}/versions/{{name}}
examples:
- name: "ces_app_version_basic"
  config_path: '{{override_path}}/examples/ces_app_version_basic.tf.tmpl'
  primary_resource_id: "my-app-version"
  vars:
    app_version_display_name: 'my-app-version'
    app_display_name: 'my-app'
    app_version_id: 'app-version-id'
    app_id: 'app-id'
autogen_status: QXBwVmVyc2lvbg==
parameters:
- name: location
  type: String
  description: Resource ID segment making up resource `name`. It identifies the resource within its parent collection as described in https://google.aip.dev/122.
  immutable: true
  url_param_only: true
  required: true
- name: app
  type: String
  description: Resource ID segment making up resource `name`. It identifies the resource within its parent collection as described in https://google.aip.dev/122.
  immutable: true
  url_param_only: true
  required: true
- name: appVersionId
  type: String
  description: |-
    The ID to use for the app version, which will become the final component
    of the app version's resource name. If not provided, a unique ID will be
    automatically assigned for the app version.
  immutable: true
  url_param_only: true
  required: true
properties:
- name: createTime
  type: String
  description: Timestamp when the app version was created.
  output: true
- name: creator
  type: String
  description: Email of the user who created the app version.
  output: true
- name: description
  type: String
  description: The description of the app version.
- name: displayName
  type: String
  description: The display name of the app version.
- name: etag
  type: String
  description: |-
    Etag used to ensure the object hasn't changed during a read-modify-write
    operation. If the etag is empty, the update will overwrite any concurrent
    changes.
  output: true
- name: name
  type: String
  description: |-
    Identifier. The unique identifier of the app version.
    Format:
    `projects/{project}/locations/{location}/apps/{app}/versions/{version}`
  output: true
  custom_flatten: 'templates/terraform/custom_flatten/name_from_self_link.tmpl'
- name: snapshot
  type: NestedObject
  description: A snapshot of the app.
  ignore_read: true
  properties:
  - name: agents
    type: Array
    description: List of agents in the app.
    item_type:
      type: NestedObject
      properties:
      - name: afterAgentCallbacks
        type: Array
        description: |-
          The callbacks to execute after the agent is called.
          The provided callbacks are executed sequentially in the exact order they
          are given in the list. If a callback returns an overridden response,
          execution stops and any remaining callbacks are skipped.
        item_type:
          type: NestedObject
          properties:
          - name: description
            type: String
            description: Human-readable description of the callback.
          - name: disabled
            type: Boolean
            description: |-
              Whether the callback is disabled. Disabled callbacks are ignored by the
              agent.
          - name: pythonCode
            type: String
            description: The python code to execute for the callback.
            required: true
      - name: afterModelCallbacks
        type: Array
        description: |-
          The callbacks to execute after the model is called. If there are multiple
          calls to the model, the callback will be executed multiple times.
          The provided callbacks are executed sequentially in the exact order they
          are given in the list. If a callback returns an overridden response,
          execution stops and any remaining callbacks are skipped.
        item_type:
          type: NestedObject
          properties:
          - name: description
            type: String
            description: Human-readable description of the callback.
          - name: disabled
            type: Boolean
            description: |-
              Whether the callback is disabled. Disabled callbacks are ignored by the
              agent.
          - name: pythonCode
            type: String
            description: The python code to execute for the callback.
            required: true
      - name: afterToolCallbacks
        type: Array
        description: |-
          The callbacks to execute after the tool is invoked. If there are multiple
          tool invocations, the callback will be executed multiple times.
          The provided callbacks are executed sequentially in the exact order they
          are given in the list. If a callback returns an overridden response,
          execution stops and any remaining callbacks are skipped.
        item_type:
          type: NestedObject
          properties:
          - name: description
            type: String
            description: Human-readable description of the callback.
          - name: disabled
            type: Boolean
            description: |-
              Whether the callback is disabled. Disabled callbacks are ignored by the
              agent.
          - name: pythonCode
            type: String
            description: The python code to execute for the callback.
            required: true
      - name: beforeAgentCallbacks
        type: Array
        description: |-
          The callbacks to execute before the agent is called.
          The provided callbacks are executed sequentially in the exact order they
          are given in the list. If a callback returns an overridden response,
          execution stops and any remaining callbacks are skipped.
        item_type:
          type: NestedObject
          properties:
          - name: description
            type: String
            description: Human-readable description of the callback.
          - name: disabled
            type: Boolean
            description: |-
              Whether the callback is disabled. Disabled callbacks are ignored by the
              agent.
          - name: pythonCode
            type: String
            description: The python code to execute for the callback.
            required: true
      - name: beforeModelCallbacks
        type: Array
        description: |-
          The callbacks to execute before the model is called. If there are multiple
          calls to the model, the callback will be executed multiple times.
          The provided callbacks are executed sequentially in the exact order they
          are given in the list. If a callback returns an overridden response,
          execution stops and any remaining callbacks are skipped.
        item_type:
          type: NestedObject
          properties:
          - name: description
            type: String
            description: Human-readable description of the callback.
          - name: disabled
            type: Boolean
            description: |-
              Whether the callback is disabled. Disabled callbacks are ignored by the
              agent.
          - name: pythonCode
            type: String
            description: The python code to execute for the callback.
            required: true
      - name: beforeToolCallbacks
        type: Array
        description: |-
          The callbacks to execute before the tool is invoked. If there are multiple
          tool invocations, the callback will be executed multiple times.
          The provided callbacks are executed sequentially in the exact order they
          are given in the list. If a callback returns an overridden response,
          execution stops and any remaining callbacks are skipped.
        item_type:
          type: NestedObject
          properties:
          - name: description
            type: String
            description: Human-readable description of the callback.
          - name: disabled
            type: Boolean
            description: |-
              Whether the callback is disabled. Disabled callbacks are ignored by the
              agent.
          - name: pythonCode
            type: String
            description: The python code to execute for the callback.
            required: true
      - name: childAgents
        type: Array
        description: |-
          List of child agents in the agent tree.
          Format: `projects/{project}/locations/{location}/apps/{app}/agents/{agent}`
        item_type:
          type: String
      - name: createTime
        type: String
        description: Timestamp when the agent was created.
        output: true
      - name: description
        type: String
        description: Human-readable description of the agent.
      - name: displayName
        type: String
        description: Display name of the agent.
        required: true
      - name: etag
        type: String
        description: |-
          Etag used to ensure the object hasn't changed during a read-modify-write
          operation. If the etag is empty, the update will overwrite any concurrent
          changes.
      - name: generatedSummary
        type: String
        description: |-
          If the agent is generated by the LLM assistant, this field contains a
          descriptive summary of the generation.
        output: true
      - name: guardrails
        type: Array
        description: |-
          List of guardrails for the agent.
          Format:
          `projects/{project}/locations/{location}/apps/{app}/guardrails/{guardrail}`
        item_type:
          type: String
      - name: instruction
        type: String
        description: Instructions for the LLM model to guide the agent's behavior.
      - name: modelSettings
        type: NestedObject
        description: Model settings contains various configurations for the LLM model.
        properties:
        - name: model
          type: String
          description: |-
            The LLM model that the agent should use.
            If not set, the agent will inherit the model from its parent agent.
        - name: temperature
          type: Double
          description: |-
            If set, this temperature will be used for the LLM model. Temperature
            controls the randomness of the model's responses. Lower temperatures
            produce responses that are more predictable. Higher temperatures produce
            responses that are more creative.
      - name: name
        type: String
        description: |-
          Identifier. The unique identifier of the agent.
          Format: `projects/{project}/locations/{location}/apps/{app}/agents/{agent}`
        output: true
      - name: remoteDialogflowAgent
        type: NestedObject
        description: |-
          The agent which will transfer execution to an existing remote
          [Dialogflow](https://cloud.google.com/dialogflow/cx/docs/concept/console-conversational-agents)
          agent flow. The corresponding Dialogflow agent will process subsequent user
          queries until the session ends or flow ends and the control is transferred
          back to the parent CES agent.
        properties:
        - name: agent
          type: String
          description: |-
            The
            [Dialogflow](https://cloud.google.com/dialogflow/cx/docs/concept/console-conversational-agents
            agent resource name.
            Format: `projects/{project}/locations/{location}/agents/{agent}`
          required: true
        - name: environmentId
          type: String
          description: |-
            The environment ID of the Dialogflow agent be used for the agent
            execution. If not specified, the draft environment will be used.
        - name: flowId
          type: String
          description: The flow ID of the flow in the Dialogflow agent.
          required: true
        - name: inputVariableMapping
          type: KeyValuePairs
          description: |-
            The mapping of the app variables names to the Dialogflow session
            parameters names to be sent to the Dialogflow agent as input.
        - name: outputVariableMapping
          type: KeyValuePairs
          description: |-
            The mapping of the Dialogflow session parameters names to the app
            variables names to be sent back to the CES agent after the Dialogflow
            agent execution ends.
      - name: tools
        type: Array
        description: |-
          List of available tools for the agent.
          Format: `projects/{project}/locations/{location}/apps/{app}/tools/{tool}`
        item_type:
          type: String
      - name: toolsets
        type: Array
        description: List of toolsets for the agent.
        item_type:
          type: NestedObject
          properties:
          - name: toolPredicates
            type: Array
            description: The predicates to filter the toolset.
            item_type:
              type: NestedObject
              properties:
              - name: connectorToolPredicate
                type: NestedObject
                description: A tool predicate that is used to match a Connector tool.
                properties:
                - name: action
                  type: NestedObject
                  description: |-
                    Configuration of an Action for the tool to use.
                    Note: This can be either an Action or an Operation. See
                    https://cloud.google.com/integration-connectors/docs/entities-operation-action
                    for details.
                  properties:
                  - name: connectionActionId
                    type: String
                    description: ID of a Connection action for the tool to use.
                  - name: entityOperation
                    type: NestedObject
                    description: Entity CRUD operation specification.
                    properties:
                    - name: entityId
                      type: String
                      description: ID of the entity.
                      required: true
                    - name: operation
                      type: String
                      description: |-
                        Operation to perform on the entity.
                        Possible values:
                        LIST
                        GET
                        CREATE
                        UPDATE
                        DELETE
                      required: true
                  - name: inputFields
                    type: Array
                    description: |-
                      Entity fields to use as inputs for the operation.
                      If no fields are specified, all fields of the Entity will be used.
                    item_type:
                      type: String
                  - name: outputFields
                    type: Array
                    description: |-
                      Entity fields to return from the operation.
                      If no fields are specified, all fields of the Entity will be returned.
                    item_type:
                      type: String
              - name: displayName
                type: String
                description: |-
                  The display name of the tool predicate and matches the tool predicate
                  set.
                output: true
              - name: mcpToolPredicate
                type: NestedObject
                description: A tool predicate that is used to match a MCP tool.
                properties:
                - name: toolName
                  type: String
                  description: The name of the individual tool in the MCP toolset.
                  required: true
              - name: openApiToolPredicate
                type: NestedObject
                description: |-
                  A tool predicate that is used to match an OpenAPI tool.
                  If `operation_id` is specified, OpenAPI tools with the matching operation
                  ID would be selected. Otherwise, OpenAPI tools with the matching `path` and
                  `method` would be returned.
                properties:
                - name: method
                  type: String
                  description: The HTTP method of the given path.
                - name: operationId
                  type: String
                  description: The operationId field of the OpenAPI endpoint.
                - name: path
                  type: String
                  description: The path of the OpenAPI endpoint.
          - name: toolset
            type: String
            description: |-
              The resource name of the toolset.
              Format:
              `projects/{project}/locations/{location}/apps/{app}/toolsets/{toolset}`
            required: true
      - name: updateTime
        type: String
        description: Timestamp when the agent was last updated.
        output: true
  - name: app
    type: NestedObject
    description: |-
      In Customer Engagement Suite (CES), an app serves as a top-level container
      for a group of agents, including the root agent and its sub-agents, along
      with their associated configurations. These agents work together to achieve
      specific goals within the app's context.
    properties:
    - name: audioProcessingConfig
      type: NestedObject
      description: |-
        Configuration for how the input and output audio should be processed and
        delivered.
      properties:
      - name: ambientSoundConfig
        type: NestedObject
        description: |-
          Configuration for the ambient sound to be played with the synthesized agent
          response, to enhance the naturalness of the conversation.
        properties:
        - name: gcsUri
          type: String
          description: |-
            Ambient noise as a mono-channel, 16kHz WAV file stored in [Cloud
            Storage](https://cloud.google.com/storage).
            Note: Please make sure the CES service agent
            `service-@gcp-sa-ces.iam.gserviceaccount.com` has
            `storage.objects.get` permission to the Cloud Storage object.
        - name: prebuiltAmbientNoise
          type: String
          description: |-
            Prebuilt ambient noise.
            Possible values:
            RETAIL_STORE
            CONVENTION_HALL
            OUTDOOR
        - name: volumeGainDb
          type: Double
          description: |-
            Volume gain (in dB) of the normal native volume supported by
            ambient noise, in the range [-96.0, 16.0]. If unset, or set to a value of
            0.0 (dB), will play at normal native signal amplitude. A value of -6.0 (dB)
            will play at approximately half the amplitude of the normal native signal
            amplitude. A value of +6.0 (dB) will play at approximately twice the
            amplitude of the normal native signal amplitude. We strongly recommend not
            to exceed +10 (dB) as there's usually no effective increase in loudness for
            any value greater than that.
      - name: bargeInConfig
        type: NestedObject
        description: Configuration for how the user barge-in activities should be handled.
        properties:
        - name: bargeInAwareness
          type: Boolean
          description: |-
            If enabled, the agent will adapt its next response based on the assumption
            that the user hasn't heard the full preceding agent message.
            This should not be used in scenarios where agent responses are displayed
            visually.
        - name: disableBargeIn
          type: Boolean
          description: |-
            Disables user barge-in while the agent is speaking. If true, user input
            during agent response playback will be ignored.
      - name: inactivityTimeout
        type: String
        description: |-
          The duration of user inactivity (no speech or interaction) before the agent
          prompts the user for reengagement. If not set, the agent will not prompt
          the user for reengagement.
    - name: createTime
      type: String
      description: Timestamp when the app was created.
      output: true
    - name: dataStoreSettings
      type: NestedObject
      description: Data store related settings for the app.
      properties:
      - name: engines
        type: Array
        description: The engines for the app.
        output: true
        item_type:
          type: NestedObject
          properties:
          - name: name
            type: String
            description: |-
              The resource name of the engine.
              Format:
              `projects/{project}/locations/{location}/collections/{collection}/engines/{engine}`
            output: true
          - name: type
            type: String
            description: |-
              The type of the engine.
              Possible values:
              ENGINE_TYPE_SEARCH
              ENGINE_TYPE_CHAT
            output: true
    - name: defaultChannelProfile
      type: NestedObject
      description: |-
        A ChannelProfile configures the agent's behavior for a specific communication
        channel, such as web UI or telephony.
      properties:
      - name: channelType
        type: String
        description: |-
          The type of the channel profile.
          Possible values:
          UNKNOWN
          WEB_UI
          API
          TWILIO
          GOOGLE_TELEPHONY_PLATFORM
          CONTACT_CENTER_AS_A_SERVICE
      - name: disableBargeInControl
        type: Boolean
        description: Whether to disable user barge-in in the conversation.
      - name: disableDtmf
        type: Boolean
        description: Whether to disable DTMF (dual-tone multi-frequency).
      - name: personaProperty
        type: NestedObject
        description: Represents the persona property of a channel.
        properties:
        - name: persona
          type: String
          description: |-
            The persona of the channel.
            Possible values:
            UNKNOWN
            CONCISE
            CHATTY
      - name: profileId
        type: String
        description: The unique identifier of the channel profile.
      - name: webWidgetConfig
        type: NestedObject
        description: Message for configuration for the web widget.
        properties:
        - name: modality
          type: String
          description: |-
            The modality of the web widget.
            Possible values:
            UNKNOWN_MODALITY
            CHAT_AND_VOICE
            VOICE_ONLY
            CHAT_ONLY
        - name: theme
          type: String
          description: |-
            The theme of the web widget.
            Possible values:
            UNKNOWN_THEME
            LIGHT
            DARK
        - name: webWidgetTitle
          type: String
          description: The title of the web widget.
    - name: deploymentCount
      type: Integer
      description: Number of deployments in the app.
      output: true
    - name: description
      type: String
      description: Human-readable description of the app.
    - name: displayName
      type: String
      description: Display name of the app.
      required: true
    - name: etag
      type: String
      description: |-
        Etag used to ensure the object hasn't changed during a read-modify-write
        operation. If the etag is empty, the update will overwrite any concurrent
        changes.
      output: true
    - name: evaluationMetricsThresholds
      type: NestedObject
      description: Threshold settings for metrics in an Evaluation.
      properties:
      - name: goldenEvaluationMetricsThresholds
        type: NestedObject
        description: Settings for golden evaluations.
        properties:
        - name: expectationLevelMetricsThresholds
          type: NestedObject
          description: Expectation level metrics thresholds.
          properties:
          - name: toolInvocationParameterCorrectnessThreshold
            type: Double
            description: |-
              The success threshold for individual tool invocation parameter
              correctness. Must be a float between 0 and 1. Default is 1.0.
        - name: turnLevelMetricsThresholds
          type: NestedObject
          description: Turn level metrics thresholds.
          properties:
          - name: overallToolInvocationCorrectnessThreshold
            type: Double
            description: |-
              The success threshold for overall tool invocation correctness. Must be
              a float between 0 and 1. Default is 1.0.
          - name: semanticSimilaritySuccessThreshold
            type: Integer
            description: |-
              The success threshold for semantic similarity. Must be an integer
              between 0 and 4. Default is >= 3.
    - name: globalInstruction
      type: String
      description: |-
        Instructions for all the agents in the app.
        You can use this instruction to set up a stable identity or personality
        across all the agents.
    - name: guardrails
      type: Array
      description: |-
        List of guardrails for the app.
        Format:
        `projects/{project}/locations/{location}/apps/{app}/guardrails/{guardrail}`
      item_type:
        type: String
    - name: languageSettings
      type: NestedObject
      description: Language settings of the app.
      properties:
      - name: defaultLanguageCode
        type: String
        description: The default language code of the app.
      - name: enableMultilingualSupport
        type: Boolean
        description: |-
          Enables multilingual support. If true, agents in the app will use pre-built
          instructions to improve handling of multilingual input.
      - name: fallbackAction
        type: String
        description: |-
          The action to perform when an agent receives input in an unsupported
          language.
          This can be a predefined action or a custom tool call.
          Valid values are:
          - A tool's full resource name, which triggers a specific tool execution.
          - A predefined system action, such as "escalate" or "exit", which triggers
          an EndSession signal with corresponding metadata
          to terminate the conversation.
      - name: supportedLanguageCodes
        type: Array
        description: |-
          List of languages codes supported by the app, in addition to the
          `default_language_code`.
        item_type:
          type: String
    - name: loggingSettings
      type: NestedObject
      description: Settings to describe the logging behaviors for the app.
      properties:
      - name: audioRecordingConfig
        type: NestedObject
        description: Configuration for how the audio interactions should be recorded.
        properties:
        - name: gcsBucket
          type: String
          description: |-
            The [Cloud Storage](https://cloud.google.com/storage) bucket to store the
            session audio recordings. The URI must start with "gs://".
            Note: If the Cloud Storage bucket is in a different project from the app,
            you should grant `storage.objects.create` permission to the CES service
            agent `service-@gcp-sa-ces.iam.gserviceaccount.com`.
        - name: gcsPathPrefix
          type: String
          description: |-
            The Cloud Storage path prefix for audio recordings.
            This prefix can include the following placeholders, which will be
            dynamically substituted at serving time:
            - $project:   project ID
            - $location:  app location
            - $app:       app ID
            - $date:      session date in YYYY-MM-DD format
            - $session:   session ID
            If the path prefix is not specified, the default prefix
            `$project/$location/$app/$date/$session/` will be used.
      - name: bigqueryExportSettings
        type: NestedObject
        description: Settings to describe the BigQuery export behaviors for the app.
        properties:
        - name: dataset
          type: String
          description: The BigQuery dataset to export the data to.
        - name: enabled
          type: Boolean
          description: Indicates whether the BigQuery export is enabled.
      - name: cloudLoggingSettings
        type: NestedObject
        description: Settings to describe the Cloud Logging behaviors for the app.
        properties:
        - name: enableCloudLogging
          type: Boolean
          description: Whether to enable Cloud Logging for the sessions.
      - name: conversationLoggingSettings
        type: NestedObject
        description: Settings to describe the conversation logging behaviors for the app.
        properties:
        - name: disableConversationLogging
          type: Boolean
          description: Whether to disable conversation logging for the sessions.
      - name: redactionConfig
        type: NestedObject
        description: Configuration to instruct how sensitive data should be handled.
        properties:
        - name: deidentifyTemplate
          type: String
          description: |-
            [DLP](https://cloud.google.com/dlp/docs) deidentify template name to
            instruct on how to de-identify content.
            Format:
            `projects/{project}/locations/{location}/deidentifyTemplates/{deidentify_template}`
        - name: enableRedaction
          type: Boolean
          description: |-
            If true, redaction will be applied in various logging scenarios, including
            conversation history, Cloud Logging and audio recording.
        - name: inspectTemplate
          type: String
          description: |-
            [DLP](https://cloud.google.com/dlp/docs) inspect template name to configure
            detection of sensitive data types.
            Format:
            `projects/{project}/locations/{location}/inspectTemplates/{inspect_template}`
    - name: metadata
      type: KeyValuePairs
      description: |-
        Metadata about the app. This field can be used to store additional
        information relevant to the app's details or intended usages.
    - name: modelSettings
      type: NestedObject
      description: Model settings contains various configurations for the LLM model.
      properties:
      - name: model
        type: String
        description: |-
          The LLM model that the agent should use.
          If not set, the agent will inherit the model from its parent agent.
      - name: temperature
        type: Double
        description: |-
          If set, this temperature will be used for the LLM model. Temperature
          controls the randomness of the model's responses. Lower temperatures
          produce responses that are more predictable. Higher temperatures produce
          responses that are more creative.
    - name: name
      type: String
      description: |-
        Identifier. The unique identifier of the app.
        Format: `projects/{project}/locations/{location}/apps/{app}`
      output: true
    - name: rootAgent
      type: String
      description: |-
        The root agent is the entry point of the app.
        Format: `projects/{project}/locations/{location}/apps/{app}/agents/{agent}`
    - name: updateTime
      type: String
      description: Timestamp when the app was last updated.
      output: true
    - name: variableDeclarations
      type: Array
      description: The declarations of the variables.
      item_type:
        type: NestedObject
        properties:
        - name: description
          type: String
          description: The description of the variable.
          required: true
        - name: name
          type: String
          description: |-
            The name of the variable. The name must start with a letter or underscore
            and contain only letters, numbers, or underscores.
          required: true
        - name: schema
          type: NestedObject
          description: Represents a select subset of an OpenAPI 3.0 schema object.
          required: true
          properties:
          - name: description
            type: String
            description: The description of the data.
          - name: enum
            type: Array
            description: |-
              Possible values of the element of primitive type with enum format.
              Examples:
              1. We can define direction as :
              {type:STRING, format:enum, enum:["EAST", NORTH", "SOUTH", "WEST"]}
              2. We can define apartment number as :
              {type:INTEGER, format:enum, enum:["101", "201", "301"]}
            item_type:
              type: String
          - name: nullable
            type: Boolean
            description: Indicates if the value may be null.
          - name: ref
            type: String
            description: |-
              Allows indirect references between schema nodes. The value should be a
              valid reference to a child of the root `defs`.
              For example, the following schema defines a reference to a schema node
              named "Pet":
              type: object
              properties:
              pet:
              ref: #/defs/Pet
              defs:
              Pet:
              type: object
              properties:
              name:
              type: string
              The value of the "pet" property is a reference to the schema node
              named "Pet".
              See details in
              https://json-schema.org/understanding-json-schema/structuring.
          - name: required
            type: Array
            description: Required properties of Type.OBJECT.
            item_type:
              type: String
          - name: type
            type: String
            description: |-
              The type of the data.
              Possible values:
              STRING
              INTEGER
              NUMBER
              BOOLEAN
              OBJECT
              ARRAY
            required: true
          - name: uniqueItems
            type: Boolean
            description: Indicate the items in the array must be unique. Only applies to TYPE.ARRAY.
  - name: examples
    type: Array
    description: List of examples in the app.
    item_type:
      type: NestedObject
      properties:
      - name: createTime
        type: String
        description: Timestamp when the example was created.
        output: true
      - name: description
        type: String
        description: Human-readable description of the example.
      - name: displayName
        type: String
        description: Display name of the example.
        required: true
      - name: entryAgent
        type: String
        description: |-
          The agent that initially handles the conversation. If not specified, the
          example represents a conversation that is handled by the root agent.
          Format: `projects/{project}/locations/{location}/apps/{app}/agents/{agent}`
      - name: etag
        type: String
        description: |-
          Etag used to ensure the object hasn't changed during a read-modify-write
          operation. If the etag is empty, the update will overwrite any concurrent
          changes.
      - name: invalid
        type: Boolean
        description: |-
          The example may become invalid if referencing resources are deleted.
          Invalid examples will not be used as few-shot examples.
        output: true
      - name: messages
        type: Array
        description: The collection of messages that make up the conversation.
        item_type:
          type: NestedObject
          properties:
          - name: chunks
            type: Array
            description: Content of the message as a series of chunks.
            item_type:
              type: NestedObject
              properties:
              - name: agentTransfer
                type: NestedObject
                description: |-
                  Represents an event indicating the transfer of a conversation to a different
                  agent.
                properties:
                - name: displayName
                  type: String
                  description: Display name of the agent.
                  output: true
                - name: targetAgent
                  type: String
                  description: |-
                    The agent to which the conversation is being transferred. The agent will
                    handle the conversation from this point forward.
                    Format: `projects/{project}/locations/{location}/apps/{app}/agents/{agent}`
                  required: true
              - name: image
                type: NestedObject
                description: Represents an image input or output in the conversation.
                properties:
                - name: data
                  type: String
                  description: Raw bytes of the image.
                  required: true
                - name: mimeType
                  type: String
                  description: |-
                    The IANA standard MIME type of the source data.
                    Supported image types includes:
                    * image/png
                    * image/jpeg
                    * image/webp
                    * image/heic
                    * image/heif
                  required: true
              - name: text
                type: String
                description: Text data.
              - name: toolCall
                type: NestedObject
                description: Request for the client or the agent to execute the specified tool.
                properties:
                - name: args
                  type: String
                  description: The input parameters and values for the tool in JSON object format.
                - name: displayName
                  type: String
                  description: Display name of the tool.
                  output: true
                - name: id
                  type: String
                  description: |-
                    The unique identifier of the tool call. If populated, the client should
                    return the execution result with the matching ID in
                    ToolResponse.
                - name: tool
                  type: String
                  description: |-
                    The name of the tool to execute.
                    Format: `projects/{project}/locations/{location}/apps/{app}/tools/{tool}`
                - name: toolset
                  type: NestedObject
                  description: A tool that is created from a toolset.
                  properties:
                  - name: toolPredicate
                    type: NestedObject
                    description: A predicate to match a tool created by a toolset.
                    properties:
                    - name: connectorToolPredicate
                      type: NestedObject
                      description: A tool predicate that is used to match a Connector tool.
                      properties:
                      - name: action
                        type: NestedObject
                        description: |-
                          Configuration of an Action for the tool to use.
                          Note: This can be either an Action or an Operation. See
                          https://cloud.google.com/integration-connectors/docs/entities-operation-action
                          for details.
                        properties:
                        - name: connectionActionId
                          type: String
                          description: ID of a Connection action for the tool to use.
                        - name: entityOperation
                          type: NestedObject
                          description: Entity CRUD operation specification.
                          properties:
                          - name: entityId
                            type: String
                            description: ID of the entity.
                            required: true
                          - name: operation
                            type: String
                            description: |-
                              Operation to perform on the entity.
                              Possible values:
                              LIST
                              GET
                              CREATE
                              UPDATE
                              DELETE
                            required: true
                        - name: inputFields
                          type: Array
                          description: |-
                            Entity fields to use as inputs for the operation.
                            If no fields are specified, all fields of the Entity will be used.
                          item_type:
                            type: String
                        - name: outputFields
                          type: Array
                          description: |-
                            Entity fields to return from the operation.
                            If no fields are specified, all fields of the Entity will be returned.
                          item_type:
                            type: String
                    - name: displayName
                      type: String
                      description: |-
                        The display name of the tool predicate and matches the tool predicate
                        set.
                      output: true
                    - name: mcpToolPredicate
                      type: NestedObject
                      description: A tool predicate that is used to match a MCP tool.
                      properties:
                      - name: toolName
                        type: String
                        description: The name of the individual tool in the MCP toolset.
                        required: true
                    - name: openApiToolPredicate
                      type: NestedObject
                      description: |-
                        A tool predicate that is used to match an OpenAPI tool.
                        If `operation_id` is specified, OpenAPI tools with the matching operation
                        ID would be selected. Otherwise, OpenAPI tools with the matching `path` and
                        `method` would be returned.
                      properties:
                      - name: method
                        type: String
                        description: The HTTP method of the given path.
                      - name: operationId
                        type: String
                        description: The operationId field of the OpenAPI endpoint.
                      - name: path
                        type: String
                        description: The path of the OpenAPI endpoint.
                  - name: toolset
                    type: String
                    description: |-
                      The resource name of the Toolset from which this tool is derived.
                      Format:
                      `projects/{project}/locations/{location}/apps/{app}/toolsets/{toolset}`
                    required: true
              - name: toolResponse
                type: NestedObject
                description: The execution result of a specific tool from the client or the agent.
                properties:
                - name: displayName
                  type: String
                  description: Display name of the tool.
                  output: true
                - name: id
                  type: String
                  description: The matching ID of the tool call the response is for.
                - name: response
                  type: String
                  description: |-
                    The tool execution result in JSON object format.
                    Use "output" key to specify tool response and "error" key to specify
                    error details (if any). If "output" and "error" keys are not specified,
                    then whole "response" is treated as tool execution result.
                  required: true
                - name: tool
                  type: String
                  description: |-
                    The name of the tool to execute.
                    Format: `projects/{project}/locations/{location}/apps/{app}/tools/{tool}`
                - name: toolset
                  type: NestedObject
                  description: A tool that is created from a toolset.
                  properties:
                  - name: toolPredicate
                    type: NestedObject
                    description: A predicate to match a tool created by a toolset.
                    properties:
                    - name: connectorToolPredicate
                      type: NestedObject
                      description: A tool predicate that is used to match a Connector tool.
                      properties:
                      - name: action
                        type: NestedObject
                        description: |-
                          Configuration of an Action for the tool to use.
                          Note: This can be either an Action or an Operation. See
                          https://cloud.google.com/integration-connectors/docs/entities-operation-action
                          for details.
                        properties:
                        - name: connectionActionId
                          type: String
                          description: ID of a Connection action for the tool to use.
                        - name: entityOperation
                          type: NestedObject
                          description: Entity CRUD operation specification.
                          properties:
                          - name: entityId
                            type: String
                            description: ID of the entity.
                            required: true
                          - name: operation
                            type: String
                            description: |-
                              Operation to perform on the entity.
                              Possible values:
                              LIST
                              GET
                              CREATE
                              UPDATE
                              DELETE
                            required: true
                        - name: inputFields
                          type: Array
                          description: |-
                            Entity fields to use as inputs for the operation.
                            If no fields are specified, all fields of the Entity will be used.
                          item_type:
                            type: String
                        - name: outputFields
                          type: Array
                          description: |-
                            Entity fields to return from the operation.
                            If no fields are specified, all fields of the Entity will be returned.
                          item_type:
                            type: String
                    - name: displayName
                      type: String
                      description: |-
                        The display name of the tool predicate and matches the tool predicate
                        set.
                      output: true
                    - name: mcpToolPredicate
                      type: NestedObject
                      description: A tool predicate that is used to match a MCP tool.
                      properties:
                      - name: toolName
                        type: String
                        description: The name of the individual tool in the MCP toolset.
                        required: true
                    - name: openApiToolPredicate
                      type: NestedObject
                      description: |-
                        A tool predicate that is used to match an OpenAPI tool.
                        If `operation_id` is specified, OpenAPI tools with the matching operation
                        ID would be selected. Otherwise, OpenAPI tools with the matching `path` and
                        `method` would be returned.
                      properties:
                      - name: method
                        type: String
                        description: The HTTP method of the given path.
                      - name: operationId
                        type: String
                        description: The operationId field of the OpenAPI endpoint.
                      - name: path
                        type: String
                        description: The path of the OpenAPI endpoint.
                  - name: toolset
                    type: String
                    description: |-
                      The resource name of the Toolset from which this tool is derived.
                      Format:
                      `projects/{project}/locations/{location}/apps/{app}/toolsets/{toolset}`
                    required: true
          - name: eventTime
            type: String
            description: |-
              Timestamp when the message was sent or received. Should not be used if the
              message is part of an example.
          - name: role
            type: String
            description: The role within the conversation, e.g., user, agent.
      - name: name
        type: String
        description: |-
          Identifier. The unique identifier of the example.
          Format:
          `projects/{project}/locations/{location}/apps/{app}/examples/{example}`
        output: true
      - name: updateTime
        type: String
        description: Timestamp when the example was last updated.
        output: true
  - name: guardrails
    type: Array
    description: List of guardrails in the app.
    item_type:
      type: NestedObject
      properties:
      - name: action
        type: NestedObject
        description: Action that is taken when a certain precondition is met.
        properties:
        - name: generativeAnswer
          type: NestedObject
          description: The agent will immediately respond with a generative answer.
          properties:
          - name: prompt
            type: String
            description: The prompt to use for the generative answer.
            required: true
        - name: respondImmediately
          type: NestedObject
          description: The agent will immediately respond with a preconfigured response.
          properties:
          - name: responses
            type: Array
            description: |-
              The canned responses for the agent to choose from. The response is chosen
              randomly.
            required: true
            item_type:
              type: NestedObject
              properties:
              - name: disabled
                type: Boolean
                description: |-
                  Whether the response is disabled. Disabled responses are not used by the
                  agent.
              - name: text
                type: String
                description: Text for the agent to respond with.
                required: true
        - name: transferAgent
          type: NestedObject
          description: The agent will transfer the conversation to a different agent.
          properties:
          - name: agent
            type: String
            description: |-
              The name of the agent to transfer the conversation to. The agent must be
              in the same app as the current agent.
              Format:
              `projects/{project}/locations/{location}/apps/{app}/agents/{agent}`
            required: true
      - name: codeCallback
        type: NestedObject
        description: |-
          Guardrail that blocks the conversation based on the code callbacks
          provided.
        properties:
        - name: afterAgentCallback
          type: NestedObject
          description: |-
            A callback defines the custom logic to be executed at various stages of
            agent interaction.
          properties:
          - name: description
            type: String
            description: Human-readable description of the callback.
          - name: disabled
            type: Boolean
            description: |-
              Whether the callback is disabled. Disabled callbacks are ignored by the
              agent.
          - name: pythonCode
            type: String
            description: The python code to execute for the callback.
            required: true
        - name: afterModelCallback
          type: NestedObject
          description: |-
            A callback defines the custom logic to be executed at various stages of
            agent interaction.
          properties:
          - name: description
            type: String
            description: Human-readable description of the callback.
          - name: disabled
            type: Boolean
            description: |-
              Whether the callback is disabled. Disabled callbacks are ignored by the
              agent.
          - name: pythonCode
            type: String
            description: The python code to execute for the callback.
            required: true
        - name: beforeAgentCallback
          type: NestedObject
          description: |-
            A callback defines the custom logic to be executed at various stages of
            agent interaction.
          properties:
          - name: description
            type: String
            description: Human-readable description of the callback.
          - name: disabled
            type: Boolean
            description: |-
              Whether the callback is disabled. Disabled callbacks are ignored by the
              agent.
          - name: pythonCode
            type: String
            description: The python code to execute for the callback.
            required: true
        - name: beforeModelCallback
          type: NestedObject
          description: |-
            A callback defines the custom logic to be executed at various stages of
            agent interaction.
          properties:
          - name: description
            type: String
            description: Human-readable description of the callback.
          - name: disabled
            type: Boolean
            description: |-
              Whether the callback is disabled. Disabled callbacks are ignored by the
              agent.
          - name: pythonCode
            type: String
            description: The python code to execute for the callback.
            required: true
      - name: contentFilter
        type: NestedObject
        description: Guardrail that bans certain content from being used in the conversation.
        properties:
        - name: bannedContents
          type: Array
          description: List of banned phrases. Applies to both user inputs and agent responses.
          item_type:
            type: String
        - name: bannedContentsInAgentResponse
          type: Array
          description: List of banned phrases. Applies only to agent responses.
          item_type:
            type: String
        - name: bannedContentsInUserInput
          type: Array
          description: List of banned phrases. Applies only to user inputs.
          item_type:
            type: String
        - name: disregardDiacritics
          type: Boolean
          description: If true, diacritics are ignored during matching.
        - name: matchType
          type: String
          description: |-
            Match type for the content filter.
            Possible values:
            SIMPLE_STRING_MATCH
            WORD_BOUNDARY_STRING_MATCH
            REGEXP_MATCH
          required: true
      - name: createTime
        type: String
        description: Timestamp when the guardrail was created.
        output: true
      - name: description
        type: String
        description: Description of the guardrail.
      - name: displayName
        type: String
        description: Display name of the guardrail.
        required: true
      - name: enabled
        type: Boolean
        description: Whether the guardrail is enabled.
      - name: etag
        type: String
        description: |-
          Etag used to ensure the object hasn't changed during a read-modify-write
          operation. If the etag is empty, the update will overwrite any concurrent
          changes.
      - name: llmPolicy
        type: NestedObject
        description: |-
          Guardrail that blocks the conversation if the LLM response is considered
          violating the policy based on the LLM classification.
        properties:
        - name: failOpen
          type: Boolean
          description: |-
            If an error occurs during the policy check, fail open and do not trigger
            the guardrail.
        - name: maxConversationMessages
          type: Integer
          description: |-
            When checking this policy, consider the last 'n' messages in the
            conversation.
            When not set a default value of 10 will be used.
        - name: modelSettings
          type: NestedObject
          description: Model settings contains various configurations for the LLM model.
          properties:
          - name: model
            type: String
            description: |-
              The LLM model that the agent should use.
              If not set, the agent will inherit the model from its parent agent.
          - name: temperature
            type: Double
            description: |-
              If set, this temperature will be used for the LLM model. Temperature
              controls the randomness of the model's responses. Lower temperatures
              produce responses that are more predictable. Higher temperatures produce
              responses that are more creative.
        - name: policyScope
          type: String
          description: |-
            Defines when to apply the policy check during the conversation. If set to
            `POLICY_SCOPE_UNSPECIFIED`, the policy will be applied to the user input.
            When applying the policy to the agent response, additional latency will
            be introduced before the agent can respond.
            Possible values:
            USER_QUERY
            AGENT_RESPONSE
            USER_QUERY_AND_AGENT_RESPONSE
          required: true
        - name: prompt
          type: String
          description: Policy prompt.
          required: true
      - name: llmPromptSecurity
        type: NestedObject
        description: |-
          Guardrail that blocks the conversation if the input is considered unsafe
          based on the LLM classification.
        properties:
        - name: customPolicy
          type: NestedObject
          description: |-
            Guardrail that blocks the conversation if the LLM response is considered
            violating the policy based on the LLM classification.
          properties:
          - name: failOpen
            type: Boolean
            description: |-
              If an error occurs during the policy check, fail open and do not trigger
              the guardrail.
          - name: maxConversationMessages
            type: Integer
            description: |-
              When checking this policy, consider the last 'n' messages in the
              conversation.
              When not set a default value of 10 will be used.
          - name: modelSettings
            type: NestedObject
            description: Model settings contains various configurations for the LLM model.
            properties:
            - name: model
              type: String
              description: |-
                The LLM model that the agent should use.
                If not set, the agent will inherit the model from its parent agent.
            - name: temperature
              type: Double
              description: |-
                If set, this temperature will be used for the LLM model. Temperature
                controls the randomness of the model's responses. Lower temperatures
                produce responses that are more predictable. Higher temperatures produce
                responses that are more creative.
          - name: policyScope
            type: String
            description: |-
              Defines when to apply the policy check during the conversation. If set to
              `POLICY_SCOPE_UNSPECIFIED`, the policy will be applied to the user input.
              When applying the policy to the agent response, additional latency will
              be introduced before the agent can respond.
              Possible values:
              USER_QUERY
              AGENT_RESPONSE
              USER_QUERY_AND_AGENT_RESPONSE
            required: true
          - name: prompt
            type: String
            description: Policy prompt.
            required: true
        - name: defaultSettings
          type: NestedObject
          description: Configuration for default system security settings.
          properties:
          - name: defaultPromptTemplate
            type: String
            description: |-
              The default prompt template used by the system.
              This field is for display purposes to show the user what prompt
              the system uses by default. It is OUTPUT_ONLY.
            output: true
      - name: modelArmor
        type: NestedObject
        description: |-
          Guardrail that uses Cloud Model Armor to sanitize the prompt or
          response. If the prompt or response is sanitized, the guardrail is
          triggered.
        properties:
        - name: failOpen
          type: Boolean
          description: |-
            If true, the guardrail will not trigger if it receives any errors from
            the model armor service. By default, the guardrail will trigger if it
            receives any errors from the model armor service.
        - name: modelArmorTemplate
          type: String
          description: |-
            Model armor template resource name.
            Format:
            `projects/{project_id}/locations/{location}/templates/{template_id}`
          required: true
        - name: sanitizationScope
          type: String
          description: |-
            When to run the sanitization check with model armor.
            Possible values:
            PROMPT
            RESPONSE
            PROMPT_AND_RESPONSE
          required: true
      - name: modelSafety
        type: NestedObject
        description: |-
          Model safety settings overrides. When this is set, it will override the
          default settings and trigger the guardrail if the response is considered
          unsafe.
        properties:
        - name: safetySettings
          type: Array
          description: List of safety settings.
          required: true
          item_type:
            type: NestedObject
            properties:
            - name: category
              type: String
              description: |-
                The harm category.
                Possible values:
                HARM_CATEGORY_HATE_SPEECH
                HARM_CATEGORY_DANGEROUS_CONTENT
                HARM_CATEGORY_HARASSMENT
                HARM_CATEGORY_SEXUALLY_EXPLICIT
              required: true
            - name: threshold
              type: String
              description: |-
                The harm block threshold.
                Possible values:
                BLOCK_LOW_AND_ABOVE
                BLOCK_MEDIUM_AND_ABOVE
                BLOCK_ONLY_HIGH
                BLOCK_NONE
                OFF
              required: true
      - name: name
        type: String
        description: |-
          Identifier. The unique identifier of the guardrail.
          Format:
          `projects/{project}/locations/{location}/apps/{app}/guardrails/{guardrail}`
        output: true
      - name: updateTime
        type: String
        description: Timestamp when the guardrail was last updated.
        output: true
  - name: tools
    type: Array
    description: List of tools in the app.
    item_type:
      type: NestedObject
      properties:
      - name: applicationIntegrationTool
        type: NestedObject
        description: |-
          A tool to support Application Integration calls.
          See https://cloud.google.com/application-integration/docs/overview for
          more details.
        properties:
        - name: description
          type: String
          description: The tool description.
        - name: integrationVersion
          type: String
          description: |-
            The full name of the referenced Application Integration version.
            Format:
            `projects/{project}/locations/{location}/integrations/{integration}/versions/{version}`
          required: true
        - name: name
          type: String
          description: The application integration tool name.
        - name: triggerId
          type: String
          description: |-
            ID of integration's trigger to invoke.
            Format: `api_trigger/{trigger_name}`
            Reference:
            https://cloud.google.com/application-integration/docs/configure-api-trigger#configure-an-api-trigger
          required: true
      - name: clientFunction
        type: NestedObject
        description: |-
          Represents a client-side function that the agent can invoke. When the
          tool is chosen by the agent, control is handed off to the client.
          The client is responsible for executing the function and returning the result
          as a ToolResponse to continue the interaction with the agent.
        properties:
        - name: description
          type: String
          description: The function description.
        - name: name
          type: String
          description: The function name.
          required: true
        - name: parameters
          type: NestedObject
          description: Represents a select subset of an OpenAPI 3.0 schema object.
          properties:
          - name: description
            type: String
            description: The description of the data.
          - name: enum
            type: Array
            description: |-
              Possible values of the element of primitive type with enum format.
              Examples:
              1. We can define direction as :
              {type:STRING, format:enum, enum:["EAST", NORTH", "SOUTH", "WEST"]}
              2. We can define apartment number as :
              {type:INTEGER, format:enum, enum:["101", "201", "301"]}
            item_type:
              type: String
          - name: nullable
            type: Boolean
            description: Indicates if the value may be null.
          - name: ref
            type: String
            description: |-
              Allows indirect references between schema nodes. The value should be a
              valid reference to a child of the root `defs`.
              For example, the following schema defines a reference to a schema node
              named "Pet":
              type: object
              properties:
              pet:
              ref: #/defs/Pet
              defs:
              Pet:
              type: object
              properties:
              name:
              type: string
              The value of the "pet" property is a reference to the schema node
              named "Pet".
              See details in
              https://json-schema.org/understanding-json-schema/structuring.
          - name: required
            type: Array
            description: Required properties of Type.OBJECT.
            item_type:
              type: String
          - name: type
            type: String
            description: |-
              The type of the data.
              Possible values:
              STRING
              INTEGER
              NUMBER
              BOOLEAN
              OBJECT
              ARRAY
            required: true
          - name: uniqueItems
            type: Boolean
            description: Indicate the items in the array must be unique. Only applies to TYPE.ARRAY.
        - name: response
          type: NestedObject
          description: Represents a select subset of an OpenAPI 3.0 schema object.
          properties:
          - name: description
            type: String
            description: The description of the data.
          - name: enum
            type: Array
            description: |-
              Possible values of the element of primitive type with enum format.
              Examples:
              1. We can define direction as :
              {type:STRING, format:enum, enum:["EAST", NORTH", "SOUTH", "WEST"]}
              2. We can define apartment number as :
              {type:INTEGER, format:enum, enum:["101", "201", "301"]}
            item_type:
              type: String
          - name: nullable
            type: Boolean
            description: Indicates if the value may be null.
          - name: ref
            type: String
            description: |-
              Allows indirect references between schema nodes. The value should be a
              valid reference to a child of the root `defs`.
              For example, the following schema defines a reference to a schema node
              named "Pet":
              type: object
              properties:
              pet:
              ref: #/defs/Pet
              defs:
              Pet:
              type: object
              properties:
              name:
              type: string
              The value of the "pet" property is a reference to the schema node
              named "Pet".
              See details in
              https://json-schema.org/understanding-json-schema/structuring.
          - name: required
            type: Array
            description: Required properties of Type.OBJECT.
            item_type:
              type: String
          - name: type
            type: String
            description: |-
              The type of the data.
              Possible values:
              STRING
              INTEGER
              NUMBER
              BOOLEAN
              OBJECT
              ARRAY
            required: true
          - name: uniqueItems
            type: Boolean
            description: Indicate the items in the array must be unique. Only applies to TYPE.ARRAY.
      - name: connectorTool
        type: NestedObject
        description: |-
          A ConnectorTool allows connections to different integrations.
          See: https://cloud.google.com/integration-connectors/docs/overview.
        properties:
        - name: action
          type: NestedObject
          description: |-
            Configuration of an Action for the tool to use.
            Note: This can be either an Action or an Operation. See
            https://cloud.google.com/integration-connectors/docs/entities-operation-action
            for details.
          required: true
          properties:
          - name: connectionActionId
            type: String
            description: ID of a Connection action for the tool to use.
          - name: entityOperation
            type: NestedObject
            description: Entity CRUD operation specification.
            properties:
            - name: entityId
              type: String
              description: ID of the entity.
              required: true
            - name: operation
              type: String
              description: |-
                Operation to perform on the entity.
                Possible values:
                LIST
                GET
                CREATE
                UPDATE
                DELETE
              required: true
          - name: inputFields
            type: Array
            description: |-
              Entity fields to use as inputs for the operation.
              If no fields are specified, all fields of the Entity will be used.
            item_type:
              type: String
          - name: outputFields
            type: Array
            description: |-
              Entity fields to return from the operation.
              If no fields are specified, all fields of the Entity will be returned.
            item_type:
              type: String
        - name: authConfig
          type: NestedObject
          description: |-
            End-user authentication configuration used for Connection calls.
            The field values must be the names of context variables in the format
            `$context.variables.`.
          properties:
          - name: oauth2AuthCodeConfig
            type: NestedObject
            description: Oauth 2.0 Authorization Code authentication configuration.
            properties:
            - name: oauthToken
              type: String
              description: |-
                Oauth token parameter name to pass through.
                Must be in the format `$context.variables.`.
              required: true
          - name: oauth2JwtBearerConfig
            type: NestedObject
            description: JWT Profile Oauth 2.0 Authorization Grant authentication configuration.
            properties:
            - name: clientKey
              type: String
              description: |-
                Client parameter name to pass through.
                Must be in the format `$context.variables.`.
              required: true
            - name: issuer
              type: String
              description: |-
                Issuer parameter name to pass through.
                Must be in the format `$context.variables.`.
              required: true
            - name: subject
              type: String
              description: |-
                Subject parameter name to pass through.
                Must be in the format `$context.variables.`.
              required: true
        - name: connection
          type: String
          description: |-
            The full resource name of the referenced Integration Connectors
            Connection.
            Format:
            `projects/{project}/locations/{location}/connections/{connection}`
          required: true
        - name: description
          type: String
          description: |-
            The description of the tool that can be used by the Agent to decide
            whether to call this ConnectorTool.
        - name: name
          type: String
          description: |-
            The name of the tool that can be used by the Agent to decide whether to
            call this ConnectorTool.
      - name: createTime
        type: String
        description: Timestamp when the tool was created.
        output: true
      - name: dataStoreTool
        type: NestedObject
        description: |-
          Tool to retrieve from Vertex AI Search datastore or engine for grounding.
          Accepts either a datastore or an engine, but not both.
          See Vertex AI Search:
          https://cloud.google.com/generative-ai-app-builder/docs/enterprise-search-introduction.
        properties:
        - name: boostSpecs
          type: Array
          description: Boost specification to boost certain documents.
          item_type:
            type: NestedObject
            properties:
            - name: dataStores
              type: Array
              description: |-
                The Data Store where the boosting configuration is applied. Full resource
                name of DataStore, such as
                projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}.
              required: true
              item_type:
                type: String
            - name: spec
              type: Array
              description: A list of boosting specifications.
              required: true
              item_type:
                type: NestedObject
                properties:
                - name: conditionBoostSpecs
                  type: Array
                  description: A list of boosting specifications.
                  required: true
                  item_type:
                    type: NestedObject
                    properties:
                    - name: boost
                      type: Double
                      description: |-
                        Strength of the boost, which should be in [-1, 1]. Negative boost means
                        demotion. Default is 0.0.
                        Setting to 1.0 gives the suggestions a big promotion. However, it does
                        not necessarily mean that the top result will be a boosted suggestion.
                        Setting to -1.0 gives the suggestions a big demotion. However, other
                        suggestions that are relevant might still be shown.
                        Setting to 0.0 means no boost applied. The boosting condition is
                        ignored.
                    - name: boostControlSpec
                      type: NestedObject
                      description: |-
                        Specification for custom ranking based on customer specified attribute
                        value. It provides more controls for customized ranking than the simple
                        (condition, boost) combination above.
                      properties:
                      - name: attributeType
                        type: String
                        description: |-
                          The attribute type to be used to determine the boost amount. The
                          attribute value can be derived from the field value of the specified
                          field_name. In the case of numerical it is straightforward i.e.
                          attribute_value = numerical_field_value. In the case of freshness
                          however, attribute_value = (time.now() - datetime_field_value).
                          Possible values:
                          NUMERICAL
                          FRESHNESS
                      - name: controlPoints
                        type: Array
                        description: |-
                          The control points used to define the curve. The monotonic function
                          (defined through the interpolation_type above) passes through the
                          control points listed here.
                        item_type:
                          type: NestedObject
                          properties:
                          - name: attributeValue
                            type: String
                            description: |-
                              Can be one of:
                              1. The numerical field value.
                              2. The duration spec for freshness:
                              The value must be formatted as an XSD `dayTimeDuration` value (a
                              restricted subset of an ISO 8601 duration value). The pattern for
                              this is: `nDnM]`.
                          - name: boostAmount
                            type: Double
                            description: |-
                              The value between -1 to 1 by which to boost the score if the
                              attribute_value evaluates to the value specified above.
                      - name: fieldName
                        type: String
                        description: |-
                          The name of the field whose value will be used to determine the
                          boost amount.
                      - name: interpolationType
                        type: String
                        description: |-
                          The interpolation type to be applied to connect the control points
                          listed below.
                          Possible values:
                          LINEAR
                    - name: condition
                      type: String
                      description: |-
                        An expression which specifies a boost condition. The syntax is the same
                        as filter expression syntax. Currently, the only supported condition is
                        a list of BCP-47 lang codes.
                        Example: To boost suggestions in languages en or fr:
                        (lang_code: ANY("en", "fr"))
                      required: true
        - name: dataStoreSource
          type: NestedObject
          description: Configuration for searching within a specific DataStore.
          properties:
          - name: dataStore
            type: NestedObject
            description: A DataStore resource in Vertex AI Search.
            properties:
            - name: connectorConfig
              type: NestedObject
              description: The connector config for the data store connection.
              properties:
              - name: collection
                type: String
                description: Resource name of the collection the data store belongs to.
              - name: collectionDisplayName
                type: String
                description: Display name of the collection the data store belongs to.
              - name: dataSource
                type: String
                description: |-
                  The name of the data source.
                  Example: `salesforce`, `jira`, `confluence`, `bigquery`.
            - name: createTime
              type: String
              description: Timestamp when the data store was created.
              output: true
            - name: displayName
              type: String
              description: The display name of the data store.
              output: true
            - name: documentProcessingMode
              type: String
              description: |-
                The document processing mode for the data store connection.
                Only set for PUBLIC_WEB and UNSTRUCTURED data stores.
                Possible values:
                DOCUMENTS
                CHUNKS
              output: true
            - name: name
              type: String
              description: |-
                Full resource name of the DataStore.
                Format:
                `projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}`
              required: true
            - name: type
              type: String
              description: |-
                The type of the data store. This field is readonly and populated by the
                server.
                Possible values:
                PUBLIC_WEB
                UNSTRUCTURED
                FAQ
                CONNECTOR
              output: true
          - name: filter
            type: String
            description: |-
              Filter specification for the DataStore.
              See:
              https://cloud.google.com/generative-ai-app-builder/docs/filter-search-metadata
        - name: description
          type: String
          description: The tool description.
        - name: engineSource
          type: NestedObject
          description: |-
            Configuration for searching within an Engine, potentially targeting
            specific DataStores.
          properties:
          - name: dataStoreSources
            type: Array
            description: |-
              Use to target specific DataStores within the Engine.
              If empty, the search applies to all DataStores associated with the
              Engine.
            item_type:
              type: NestedObject
              properties:
              - name: dataStore
                type: NestedObject
                description: A DataStore resource in Vertex AI Search.
                properties:
                - name: connectorConfig
                  type: NestedObject
                  description: The connector config for the data store connection.
                  properties:
                  - name: collection
                    type: String
                    description: Resource name of the collection the data store belongs to.
                  - name: collectionDisplayName
                    type: String
                    description: Display name of the collection the data store belongs to.
                  - name: dataSource
                    type: String
                    description: |-
                      The name of the data source.
                      Example: `salesforce`, `jira`, `confluence`, `bigquery`.
                - name: createTime
                  type: String
                  description: Timestamp when the data store was created.
                  output: true
                - name: displayName
                  type: String
                  description: The display name of the data store.
                  output: true
                - name: documentProcessingMode
                  type: String
                  description: |-
                    The document processing mode for the data store connection.
                    Only set for PUBLIC_WEB and UNSTRUCTURED data stores.
                    Possible values:
                    DOCUMENTS
                    CHUNKS
                  output: true
                - name: name
                  type: String
                  description: |-
                    Full resource name of the DataStore.
                    Format:
                    `projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}`
                  required: true
                - name: type
                  type: String
                  description: |-
                    The type of the data store. This field is readonly and populated by the
                    server.
                    Possible values:
                    PUBLIC_WEB
                    UNSTRUCTURED
                    FAQ
                    CONNECTOR
                  output: true
              - name: filter
                type: String
                description: |-
                  Filter specification for the DataStore.
                  See:
                  https://cloud.google.com/generative-ai-app-builder/docs/filter-search-metadata
          - name: engine
            type: String
            description: |-
              Full resource name of the Engine.
              Format:
              `projects/{project}/locations/{location}/collections/{collection}/engines/{engine}`
            required: true
          - name: filter
            type: String
            description: |-
              A filter applied to the search across the Engine. Not relevant and not
              used if 'data_store_sources' is provided.
              See:
              https://cloud.google.com/generative-ai-app-builder/docs/filter-search-metadata
        - name: maxResults
          type: Integer
          description: |-
            Number of search results to return per query.
            The default value is 10. The maximum allowed value is 10.
        - name: modalityConfigs
          type: Array
          description: The modality configs for the data store.
          item_type:
            type: NestedObject
            properties:
            - name: groundingConfig
              type: NestedObject
              description: Grounding configuration.
              properties:
              - name: disabled
                type: Boolean
                description: Whether grounding is disabled.
              - name: groundingLevel
                type: Double
                description: |-
                  The groundedness threshold of the answer based on the retrieved sources.
                  The value has a configurable range of [1, 5]. The level is used to
                  threshold the groundedness of the answer, meaning that all responses with
                  a groundedness score below the threshold will fall back to returning
                  relevant snippets only.
                  For example, a level of 3 means that the groundedness score must be
                  3 or higher for the response to be returned.
            - name: modalityType
              type: String
              description: |-
                The modality type.
                Possible values:
                TEXT
                AUDIO
              required: true
            - name: rewriterConfig
              type: NestedObject
              description: Rewriter configuration.
              properties:
              - name: disabled
                type: Boolean
                description: Whether the rewriter is disabled.
              - name: modelSettings
                type: NestedObject
                description: Model settings contains various configurations for the LLM model.
                required: true
                properties:
                - name: model
                  type: String
                  description: |-
                    The LLM model that the agent should use.
                    If not set, the agent will inherit the model from its parent agent.
                - name: temperature
                  type: Double
                  description: |-
                    If set, this temperature will be used for the LLM model. Temperature
                    controls the randomness of the model's responses. Lower temperatures
                    produce responses that are more predictable. Higher temperatures produce
                    responses that are more creative.
              - name: prompt
                type: String
                description: The prompt definition. If not set, default prompt will be used.
            - name: summarizationConfig
              type: NestedObject
              description: Summarization configuration.
              properties:
              - name: disabled
                type: Boolean
                description: Whether summarization is disabled.
              - name: modelSettings
                type: NestedObject
                description: Model settings contains various configurations for the LLM model.
                properties:
                - name: model
                  type: String
                  description: |-
                    The LLM model that the agent should use.
                    If not set, the agent will inherit the model from its parent agent.
                - name: temperature
                  type: Double
                  description: |-
                    If set, this temperature will be used for the LLM model. Temperature
                    controls the randomness of the model's responses. Lower temperatures
                    produce responses that are more predictable. Higher temperatures produce
                    responses that are more creative.
              - name: prompt
                type: String
                description: The prompt definition. If not set, default prompt will be used.
        - name: name
          type: String
          description: The data store tool name.
          required: true
      - name: displayName
        type: String
        description: |-
          The display name of the tool, derived based on the tool's type. For
          example, display name of a ClientFunction is derived
          from its `name` property.
        output: true
      - name: etag
        type: String
        description: |-
          Etag used to ensure the object hasn't changed during a read-modify-write
          operation. If the etag is empty, the update will overwrite any concurrent
          changes.
      - name: executionType
        type: String
        description: |2-
          Possible values:
          SYNCHRONOUS
          ASYNCHRONOUS
      - name: fileSearchTool
        type: NestedObject
        description: |-
          The file search tool allows the agent to search across the files uploaded by
          the app/agent developer. It has presets to give relatively good quality
          search over the uploaded files and summarization of the retrieved results.
        properties:
        - name: summarizationPrompt
          type: String
          description: |-
            The prompt to use for summarizing the search results. If not set, a default
            prompt will be used. End user queries are used to search the uploaded
            files. The search results are then summarized using this prompt.
      - name: generatedSummary
        type: String
        description: |-
          If the tool is generated by the LLM assistant, this field contains a
          descriptive summary of the generation.
        output: true
      - name: googleSearchTool
        type: NestedObject
        description: |-
          Represents a tool to perform Google web searches for grounding.
          See https://ai.google.dev/gemini-api/docs/google-search.
        properties:
        - name: contextUrls
          type: Array
          description: |-
            Specifies sources to guide the search and grounding. Entries can be
            full URLs or domain names.
            - Full URLs (e.g., "https://example.com/path.html"):
            Content will be fetched directly from these URLs for context.
            More details: https://ai.google.dev/gemini-api/docs/url-context.
            - Domain names (e.g., "example.com", "another.site"):
            The model will be instructed to prioritize these domains when
            formulating search queries. These domains may or may not be
            exclusively reflected in the final search results.
          item_type:
            type: String
        - name: description
          type: String
          description: Description of the tool's purpose.
        - name: excludeDomains
          type: Array
          description: |-
            List of domains to be excluded from the search results.
            Example: "example.com".
            A maximum of 2000 domains can be excluded.
          item_type:
            type: String
        - name: name
          type: String
          description: The name of the tool.
          required: true
        - name: promptConfig
          type: NestedObject
          description: |-
            Prompt settings used by the model when performing and summarizing the
            google search.
          properties:
          - name: textPrompt
            type: String
            description: |-
              Defines the prompt used for the system instructions when interacting with
              the agent in chat conversations. If not set, default prompt will be used.
          - name: voicePrompt
            type: String
            description: |-
              Defines the prompt used for the system instructions when interacting with
              the agent in voice conversations. If not set, default prompt will be
              used.
      - name: mcpTool
        type: NestedObject
        description: |-
          An MCP tool.
          See https://modelcontextprotocol.io/specification/2025-06-18/server/tools for
          more details.
        properties:
        - name: apiAuthentication
          type: NestedObject
          description: Authentication information required for API calls.
          properties:
          - name: apiKeyConfig
            type: NestedObject
            description: Configurations for authentication with API key.
            properties:
            - name: apiKeySecretVersion
              type: String
              description: |-
                The name of the SecretManager secret version resource storing the API key.
                Format: `projects/{project}/secrets/{secret}/versions/{version}`
                Note: You should grant `roles/secretmanager.secretAccessor` role to the CES
                service agent
                `service-@gcp-sa-ces.iam.gserviceaccount.com`.
              required: true
            - name: keyName
              type: String
              description: |-
                The parameter name or the header name of the API key.
                E.g., If the API request is "https://example.com/act?X-Api-Key=", "X-Api-Key" would be the parameter name.
              required: true
            - name: requestLocation
              type: String
              description: |-
                Key location in the request.
                Possible values:
                HEADER
                QUERY_STRING
              required: true
          - name: oauthConfig
            type: NestedObject
            description: Configurations for authentication with OAuth.
            properties:
            - name: clientId
              type: String
              description: The client ID from the OAuth provider.
              required: true
            - name: clientSecretVersion
              type: String
              description: |-
                The name of the SecretManager secret version resource storing the
                client secret.
                Format: `projects/{project}/secrets/{secret}/versions/{version}`
                Note: You should grant `roles/secretmanager.secretAccessor` role to the CES
                service agent
                `service-@gcp-sa-ces.iam.gserviceaccount.com`.
              required: true
            - name: oauthGrantType
              type: String
              description: |-
                OAuth grant types.
                Possible values:
                CLIENT_CREDENTIAL
              required: true
            - name: scopes
              type: Array
              description: The OAuth scopes to grant.
              item_type:
                type: String
            - name: tokenEndpoint
              type: String
              description: The token endpoint in the OAuth provider to exchange for an access token.
              required: true
          - name: serviceAccountAuthConfig
            type: NestedObject
            description: Configurations for authentication using a custom service account.
            properties:
            - name: serviceAccount
              type: String
              description: |-
                The email address of the service account used for authenticatation. CES
                uses this service account to exchange an access token and the access token
                is then sent in the `Authorization` header of the request.
                The service account must have the
                `roles/iam.serviceAccountTokenCreator` role granted to the
                CES service agent
                `service-@gcp-sa-ces.iam.gserviceaccount.com`.
              required: true
        - name: description
          type: String
          description: The description of the MCP tool.
        - name: inputSchema
          type: NestedObject
          description: Represents a select subset of an OpenAPI 3.0 schema object.
          properties:
          - name: description
            type: String
            description: The description of the data.
          - name: enum
            type: Array
            description: |-
              Possible values of the element of primitive type with enum format.
              Examples:
              1. We can define direction as :
              {type:STRING, format:enum, enum:["EAST", NORTH", "SOUTH", "WEST"]}
              2. We can define apartment number as :
              {type:INTEGER, format:enum, enum:["101", "201", "301"]}
            item_type:
              type: String
          - name: nullable
            type: Boolean
            description: Indicates if the value may be null.
          - name: ref
            type: String
            description: |-
              Allows indirect references between schema nodes. The value should be a
              valid reference to a child of the root `defs`.
              For example, the following schema defines a reference to a schema node
              named "Pet":
              type: object
              properties:
              pet:
              ref: #/defs/Pet
              defs:
              Pet:
              type: object
              properties:
              name:
              type: string
              The value of the "pet" property is a reference to the schema node
              named "Pet".
              See details in
              https://json-schema.org/understanding-json-schema/structuring.
          - name: required
            type: Array
            description: Required properties of Type.OBJECT.
            item_type:
              type: String
          - name: type
            type: String
            description: |-
              The type of the data.
              Possible values:
              STRING
              INTEGER
              NUMBER
              BOOLEAN
              OBJECT
              ARRAY
            required: true
          - name: uniqueItems
            type: Boolean
            description: Indicate the items in the array must be unique. Only applies to TYPE.ARRAY.
        - name: name
          type: String
          description: The name of the MCP tool.
          required: true
        - name: outputSchema
          type: NestedObject
          description: Represents a select subset of an OpenAPI 3.0 schema object.
          properties:
          - name: description
            type: String
            description: The description of the data.
          - name: enum
            type: Array
            description: |-
              Possible values of the element of primitive type with enum format.
              Examples:
              1. We can define direction as :
              {type:STRING, format:enum, enum:["EAST", NORTH", "SOUTH", "WEST"]}
              2. We can define apartment number as :
              {type:INTEGER, format:enum, enum:["101", "201", "301"]}
            item_type:
              type: String
          - name: nullable
            type: Boolean
            description: Indicates if the value may be null.
          - name: ref
            type: String
            description: |-
              Allows indirect references between schema nodes. The value should be a
              valid reference to a child of the root `defs`.
              For example, the following schema defines a reference to a schema node
              named "Pet":
              type: object
              properties:
              pet:
              ref: #/defs/Pet
              defs:
              Pet:
              type: object
              properties:
              name:
              type: string
              The value of the "pet" property is a reference to the schema node
              named "Pet".
              See details in
              https://json-schema.org/understanding-json-schema/structuring.
          - name: required
            type: Array
            description: Required properties of Type.OBJECT.
            item_type:
              type: String
          - name: type
            type: String
            description: |-
              The type of the data.
              Possible values:
              STRING
              INTEGER
              NUMBER
              BOOLEAN
              OBJECT
              ARRAY
            required: true
          - name: uniqueItems
            type: Boolean
            description: Indicate the items in the array must be unique. Only applies to TYPE.ARRAY.
        - name: serverAddress
          type: String
          description: |-
            The server address of the MCP server, e.g., "https://example.com/mcp/".
            If the server is built with the MCP SDK, the url should be suffixed with
            "/mcp/". Only Streamable HTTP transport based servers are supported. This
            is the same as the server_address in the McpToolset. See
            https://modelcontextprotocol.io/specification/2025-03-26/basic/transports#streamable-http
            for more details.
          required: true
      - name: name
        type: String
        description: |-
          Identifier. The unique identifier of the tool.
          Format:
          `projects/{project}/locations/{location}/apps/{app}/tools/{tool}`
        output: true
      - name: openApiTool
        type: NestedObject
        description: A remote API tool defined by an OpenAPI schema.
        properties:
        - name: apiAuthentication
          type: NestedObject
          description: Authentication information required for API calls.
          properties:
          - name: apiKeyConfig
            type: NestedObject
            description: Configurations for authentication with API key.
            properties:
            - name: apiKeySecretVersion
              type: String
              description: |-
                The name of the SecretManager secret version resource storing the API key.
                Format: `projects/{project}/secrets/{secret}/versions/{version}`
                Note: You should grant `roles/secretmanager.secretAccessor` role to the CES
                service agent
                `service-@gcp-sa-ces.iam.gserviceaccount.com`.
              required: true
            - name: keyName
              type: String
              description: |-
                The parameter name or the header name of the API key.
                E.g., If the API request is "https://example.com/act?X-Api-Key=", "X-Api-Key" would be the parameter name.
              required: true
            - name: requestLocation
              type: String
              description: |-
                Key location in the request.
                Possible values:
                HEADER
                QUERY_STRING
              required: true
          - name: oauthConfig
            type: NestedObject
            description: Configurations for authentication with OAuth.
            properties:
            - name: clientId
              type: String
              description: The client ID from the OAuth provider.
              required: true
            - name: clientSecretVersion
              type: String
              description: |-
                The name of the SecretManager secret version resource storing the
                client secret.
                Format: `projects/{project}/secrets/{secret}/versions/{version}`
                Note: You should grant `roles/secretmanager.secretAccessor` role to the CES
                service agent
                `service-@gcp-sa-ces.iam.gserviceaccount.com`.
              required: true
            - name: oauthGrantType
              type: String
              description: |-
                OAuth grant types.
                Possible values:
                CLIENT_CREDENTIAL
              required: true
            - name: scopes
              type: Array
              description: The OAuth scopes to grant.
              item_type:
                type: String
            - name: tokenEndpoint
              type: String
              description: The token endpoint in the OAuth provider to exchange for an access token.
              required: true
          - name: serviceAccountAuthConfig
            type: NestedObject
            description: Configurations for authentication using a custom service account.
            properties:
            - name: serviceAccount
              type: String
              description: |-
                The email address of the service account used for authenticatation. CES
                uses this service account to exchange an access token and the access token
                is then sent in the `Authorization` header of the request.
                The service account must have the
                `roles/iam.serviceAccountTokenCreator` role granted to the
                CES service agent
                `service-@gcp-sa-ces.iam.gserviceaccount.com`.
              required: true
        - name: description
          type: String
          description: |-
            The description of the tool. If not provided, the description of the tool
            will be derived from the OpenAPI schema, from `operation.description` or
            `operation.summary`.
        - name: ignoreUnknownFields
          type: Boolean
          description: If true, the agent will ignore unknown fields in the API response.
        - name: name
          type: String
          description: |-
            The name of the tool. If not provided, the name of the tool will be
            derived from the OpenAPI schema, from `operation.operationId`.
        - name: openApiSchema
          type: String
          description: The OpenAPI schema in JSON or YAML format.
          required: true
        - name: serviceDirectoryConfig
          type: NestedObject
          description: Configuration for tools using Service Directory.
          properties:
          - name: service
            type: String
            description: |-
              The name of [Service
              Directory](https://cloud.google.com/service-directory) service.
              Format:
              `projects/{project}/locations/{location}/namespaces/{namespace}/services/{service}`.
              Location of the service directory must be the same as the location of the
              app.
            required: true
        - name: tlsConfig
          type: NestedObject
          description: The TLS configuration.
          properties:
          - name: caCerts
            type: Array
            description: |-
              Specifies a list of allowed custom CA certificates for HTTPS
              verification.
            required: true
            item_type:
              type: NestedObject
              properties:
              - name: cert
                type: String
                description: |-
                  The allowed custom CA certificates (in DER format) for
                  HTTPS verification. This overrides the default SSL trust store. If this
                  is empty or unspecified, CES will use Google's default trust
                  store to verify certificates. N.B. Make sure the HTTPS server
                  certificates are signed with "subject alt name". For instance a
                  certificate can be self-signed using the following command,
                  openssl x509 -req -days 200 -in example.com.csr \
                  -signkey example.com.key \
                  -out example.com.crt \
                  -extfile <(printf "\nsubjectAltName='DNS:www.example.com'")
                required: true
              - name: displayName
                type: String
                description: |-
                  The name of the allowed custom CA certificates. This
                  can be used to disambiguate the custom CA certificates.
                required: true
      - name: pythonFunction
        type: NestedObject
        description: A Python function tool.
        properties:
        - name: description
          type: String
          description: |-
            The description of the Python function, parsed from the python code's
            docstring.
          output: true
        - name: name
          type: String
          description: |-
            The name of the Python function to execute. Must match a Python function
            name defined in the python code. Case sensitive. If the name is not
            provided, the first function defined in the python code will be used.
        - name: pythonCode
          type: String
          description: The Python code to execute for the tool.
      - name: updateTime
        type: String
        description: Timestamp when the tool was last updated.
        output: true
      - name: vertexAiRagRetrievalTool
        type: NestedObject
        description: |-
          A retrieval tool that uses Vertex AI RAG (Retrieval-Augmented Generation)
          to retrieve data.
          See http://cloud.google.com/vertex-ai/generative-ai/docs/rag-overview for
          more details.
        properties:
        - name: description
          type: String
          description: The tool description.
          required: true
        - name: name
          type: String
          description: Identifier. The vertex AI RAG retrieval tool name.
          output: true
        - name: ragResources
          type: Array
          description: The list of rag resources to retrieve from.
          item_type:
            type: NestedObject
            properties:
            - name: ragCorpus
              type: String
              description: |-
                RagCorpora resource name.
                Format:
                `projects/{project}/locations/{location}/ragCorpora/{rag_corpus}`
              required: true
            - name: ragFileIds
              type: Array
              description: List of RAG file IDs. The files should be in the same `rag_corpus`.
              item_type:
                type: String
        - name: similarityTopK
          type: Integer
          description: The similarity top k.
        - name: vectorDistanceThreshold
          type: Double
          description: The vector distance threshold.
  - name: toolsets
    type: Array
    description: List of toolsets in the app.
    item_type:
      type: NestedObject
      properties:
      - name: connectorToolset
        type: NestedObject
        description: A toolset that generates tools from an Integration Connectors Connection.
        properties:
        - name: authConfig
          type: NestedObject
          description: |-
            End-user authentication configuration used for Connection calls.
            The field values must be the names of context variables in the format
            `$context.variables.`.
          properties:
          - name: oauth2AuthCodeConfig
            type: NestedObject
            description: Oauth 2.0 Authorization Code authentication configuration.
            properties:
            - name: oauthToken
              type: String
              description: |-
                Oauth token parameter name to pass through.
                Must be in the format `$context.variables.`.
              required: true
          - name: oauth2JwtBearerConfig
            type: NestedObject
            description: JWT Profile Oauth 2.0 Authorization Grant authentication configuration.
            properties:
            - name: clientKey
              type: String
              description: |-
                Client parameter name to pass through.
                Must be in the format `$context.variables.`.
              required: true
            - name: issuer
              type: String
              description: |-
                Issuer parameter name to pass through.
                Must be in the format `$context.variables.`.
              required: true
            - name: subject
              type: String
              description: |-
                Subject parameter name to pass through.
                Must be in the format `$context.variables.`.
              required: true
        - name: connection
          type: String
          description: |-
            The full resource name of the referenced Integration Connectors
            Connection.
            Format:
            `projects/{project}/locations/{location}/connections/{connection}`
          required: true
      - name: createTime
        type: String
        description: Timestamp when the toolset was created.
        output: true
      - name: description
        type: String
        description: The description of the toolset.
      - name: displayName
        type: String
        description: The display name of the toolset. Must be unique within the same app.
      - name: etag
        type: String
        description: |-
          ETag used to ensure the object hasn't changed during a read-modify-write
          operation. If the etag is empty, the update will overwrite any concurrent
          changes.
      - name: executionType
        type: String
        description: |2-
          Possible values:
          SYNCHRONOUS
          ASYNCHRONOUS
      - name: mcpToolset
        type: NestedObject
        description: |-
          A toolset that contains a list of tools that are offered by the MCP
          server.
        properties:
        - name: apiAuthentication
          type: NestedObject
          description: Authentication information required for API calls.
          properties:
          - name: apiKeyConfig
            type: NestedObject
            description: Configurations for authentication with API key.
            properties:
            - name: apiKeySecretVersion
              type: String
              description: |-
                The name of the SecretManager secret version resource storing the API key.
                Format: `projects/{project}/secrets/{secret}/versions/{version}`
                Note: You should grant `roles/secretmanager.secretAccessor` role to the CES
                service agent
                `service-@gcp-sa-ces.iam.gserviceaccount.com`.
              required: true
            - name: keyName
              type: String
              description: |-
                The parameter name or the header name of the API key.
                E.g., If the API request is "https://example.com/act?X-Api-Key=", "X-Api-Key" would be the parameter name.
              required: true
            - name: requestLocation
              type: String
              description: |-
                Key location in the request.
                Possible values:
                HEADER
                QUERY_STRING
              required: true
          - name: oauthConfig
            type: NestedObject
            description: Configurations for authentication with OAuth.
            properties:
            - name: clientId
              type: String
              description: The client ID from the OAuth provider.
              required: true
            - name: clientSecretVersion
              type: String
              description: |-
                The name of the SecretManager secret version resource storing the
                client secret.
                Format: `projects/{project}/secrets/{secret}/versions/{version}`
                Note: You should grant `roles/secretmanager.secretAccessor` role to the CES
                service agent
                `service-@gcp-sa-ces.iam.gserviceaccount.com`.
              required: true
            - name: oauthGrantType
              type: String
              description: |-
                OAuth grant types.
                Possible values:
                CLIENT_CREDENTIAL
              required: true
            - name: scopes
              type: Array
              description: The OAuth scopes to grant.
              item_type:
                type: String
            - name: tokenEndpoint
              type: String
              description: The token endpoint in the OAuth provider to exchange for an access token.
              required: true
          - name: serviceAccountAuthConfig
            type: NestedObject
            description: Configurations for authentication using a custom service account.
            properties:
            - name: serviceAccount
              type: String
              description: |-
                The email address of the service account used for authenticatation. CES
                uses this service account to exchange an access token and the access token
                is then sent in the `Authorization` header of the request.
                The service account must have the
                `roles/iam.serviceAccountTokenCreator` role granted to the
                CES service agent
                `service-@gcp-sa-ces.iam.gserviceaccount.com`.
              required: true
        - name: serverAddress
          type: String
          description: |-
            The server address of the MCP server, example,
            "https://example.com/mcp/". If the server is built with the MCP SDK,
            the url should be suffixed with "/mcp/". Only Streamable HTTP transport
            based servers are supported. See
            https://modelcontextprotocol.io/specification/2025-03-26/basic/transports#streamable-http
            for more details.
          required: true
      - name: name
        type: String
        description: |-
          Identifier. The unique identifier of the toolset.
          Format:
          `projects/{project}/locations/{location}/apps/{app}/toolsets/{toolset}`
        output: true
      - name: openApiToolset
        type: NestedObject
        description: |-
          A toolset that contains a list of tools that are defined by an OpenAPI
          schema.
        properties:
        - name: apiAuthentication
          type: NestedObject
          description: Authentication information required for API calls.
          properties:
          - name: apiKeyConfig
            type: NestedObject
            description: Configurations for authentication with API key.
            properties:
            - name: apiKeySecretVersion
              type: String
              description: |-
                The name of the SecretManager secret version resource storing the API key.
                Format: `projects/{project}/secrets/{secret}/versions/{version}`
                Note: You should grant `roles/secretmanager.secretAccessor` role to the CES
                service agent
                `service-@gcp-sa-ces.iam.gserviceaccount.com`.
              required: true
            - name: keyName
              type: String
              description: |-
                The parameter name or the header name of the API key.
                E.g., If the API request is "https://example.com/act?X-Api-Key=", "X-Api-Key" would be the parameter name.
              required: true
            - name: requestLocation
              type: String
              description: |-
                Key location in the request.
                Possible values:
                HEADER
                QUERY_STRING
              required: true
          - name: oauthConfig
            type: NestedObject
            description: Configurations for authentication with OAuth.
            properties:
            - name: clientId
              type: String
              description: The client ID from the OAuth provider.
              required: true
            - name: clientSecretVersion
              type: String
              description: |-
                The name of the SecretManager secret version resource storing the
                client secret.
                Format: `projects/{project}/secrets/{secret}/versions/{version}`
                Note: You should grant `roles/secretmanager.secretAccessor` role to the CES
                service agent
                `service-@gcp-sa-ces.iam.gserviceaccount.com`.
              required: true
            - name: oauthGrantType
              type: String
              description: |-
                OAuth grant types.
                Possible values:
                CLIENT_CREDENTIAL
              required: true
            - name: scopes
              type: Array
              description: The OAuth scopes to grant.
              item_type:
                type: String
            - name: tokenEndpoint
              type: String
              description: The token endpoint in the OAuth provider to exchange for an access token.
              required: true
          - name: serviceAccountAuthConfig
            type: NestedObject
            description: Configurations for authentication using a custom service account.
            properties:
            - name: serviceAccount
              type: String
              description: |-
                The email address of the service account used for authenticatation. CES
                uses this service account to exchange an access token and the access token
                is then sent in the `Authorization` header of the request.
                The service account must have the
                `roles/iam.serviceAccountTokenCreator` role granted to the
                CES service agent
                `service-@gcp-sa-ces.iam.gserviceaccount.com`.
              required: true
        - name: ignoreUnknownFields
          type: Boolean
          description: |-
            If true, the agent will ignore unknown fields in the API response for all
            operations defined in the OpenAPI schema.
        - name: openApiSchema
          type: String
          description: The OpenAPI schema of the toolset.
          required: true
        - name: serviceDirectoryConfig
          type: NestedObject
          description: Configuration for tools using Service Directory.
          properties:
          - name: service
            type: String
            description: |-
              The name of [Service
              Directory](https://cloud.google.com/service-directory) service.
              Format:
              `projects/{project}/locations/{location}/namespaces/{namespace}/services/{service}`.
              Location of the service directory must be the same as the location of the
              app.
            required: true
        - name: tlsConfig
          type: NestedObject
          description: The TLS configuration.
          properties:
          - name: caCerts
            type: Array
            description: |-
              Specifies a list of allowed custom CA certificates for HTTPS
              verification.
            required: true
            item_type:
              type: NestedObject
              properties:
              - name: cert
                type: String
                description: |-
                  The allowed custom CA certificates (in DER format) for
                  HTTPS verification. This overrides the default SSL trust store. If this
                  is empty or unspecified, CES will use Google's default trust
                  store to verify certificates. N.B. Make sure the HTTPS server
                  certificates are signed with "subject alt name". For instance a
                  certificate can be self-signed using the following command,
                  openssl x509 -req -days 200 -in example.com.csr \
                  -signkey example.com.key \
                  -out example.com.crt \
                  -extfile <(printf "\nsubjectAltName='DNS:www.example.com'")
                required: true
              - name: displayName
                type: String
                description: |-
                  The name of the allowed custom CA certificates. This
                  can be used to disambiguate the custom CA certificates.
                required: true
      - name: updateTime
        type: String
        description: Timestamp when the toolset was last updated.
        output: true