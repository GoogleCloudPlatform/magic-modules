--- !ruby/object:Api::Resource
  name: 'BackendBucketSignedUrlKey'
  kind: 'compute#BackendBucketSignedUrlKey'
  input: true
  base_url: projects/{{project}}/global/backendBuckets/{{backend_bucket}}
  create_url: projects/{{project}}/global/backendBuckets/{{backend_bucket}}/addSignedUrlKey
  create_verb: :POST
  delete_url: projects/{{project}}/global/backendBuckets/{{backend_bucket}}/deleteSignedUrlKey?keyName={{name}}
  delete_verb: :POST
  self_link: projects/{{project}}/global/backendBuckets/{{backend_bucket}}
  identity:
    - name
  nested_query: !ruby/object:Api::Resource::NestedQuery
    keys:
      - cdnPolicy
      - signedUrlKeyNames
    is_list_of_ids: true
  description: |
    A key for signing Cloud CDN signed URLs for BackendBuckets.
  references: !ruby/object:Api::Resource::ReferenceLinks
    guides:
      'Using Signed URLs': 'https://cloud.google.com/cdn/docs/using-signed-urls/'
    api: 'https://cloud.google.com/compute/docs/reference/rest/v1/backendBuckets'
  async: !ruby/object:Api::OpAsync
    operation: !ruby/object:Api::OpAsync::Operation
      kind: 'compute#operation'
      path: 'name'
      base_url: 'projects/{{project}}/global/operations/{{op_id}}'
      wait_ms: 1000
    result: !ruby/object:Api::OpAsync::Result
      path: 'targetLink'
    status: !ruby/object:Api::OpAsync::Status
      path: 'status'
      complete: 'DONE'
      allowed:
        - 'PENDING'
        - 'RUNNING'
        - 'DONE'
    error: !ruby/object:Api::OpAsync::Error
      path: 'error/errors'
      message: 'message'
  parameters:
    - !ruby/object:Api::Type::ResourceRef
      name: 'backendBucket'
      resource: 'BackendBucket'
      imports: 'name'
      description: |
        The backend bucket this signed URL key belongs.
      required: true
      input: true
  properties:
    - !ruby/object:Api::Type::String
      name: 'name'
      api_name: 'keyName'
      description: |
        Name of the signed URL key.
      required: true
      input: true
    - !ruby/object:Api::Type::String
      name: 'keyValue'
      description: |
        128-bit key value used for signing the URL. The key value must be a
        valid RFC 4648 Section 5 base64url encoded string.
      required: true
      input: true

