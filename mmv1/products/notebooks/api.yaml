# Copyright 2020 Google Inc.
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

--- !ruby/object:Api::Product
name: Notebooks
display_name: Cloud AI Notebooks
versions:
  - !ruby/object:Api::Product::Version
    name: ga
    base_url: https://notebooks.googleapis.com/v1/
  # Notebooks has an old beta API but since Beatrix, features
  # features are only in V1 with some changes to Spanner which
  # makes backporting to v1beta1 challenging. In case, users
  # decided to use beta, we use v1 as the API reference.
  - !ruby/object:Api::Product::Version
    name: beta
    base_url: https://notebooks.googleapis.com/v1/
scopes:
  - https://www.googleapis.com/auth/cloud-platform
apis_required:
  - !ruby/object:Api::Product::ApiReference
    name: Cloud Notebooks API
    url: https://console.cloud.google.com/apis/api/notebooks.googleapis.com
async: !ruby/object:Api::OpAsync
    operation: !ruby/object:Api::OpAsync::Operation
      base_url: '{{op_id}}'
      path: 'name'
      wait_ms: 1000
    result: !ruby/object:Api::OpAsync::Result
      path: 'response'
      resource_inside_response: true
    status: !ruby/object:Api::OpAsync::Status
      path: 'done'
      complete: True
      allowed:
        - True
        - False
    error: !ruby/object:Api::OpAsync::Error
      path: 'error'
      message: 'message'
objects:
  # Notebooks Environment
  - !ruby/object:Api::Resource
    name: 'Environment'
    description: |
        A Cloud AI Platform Notebook environment.
    base_url: projects/{{project}}/locations/{{location}}/environments
    create_url: projects/{{project}}/locations/{{location}}/environments?environmentId={{name}}
    self_link: projects/{{project}}/locations/{{location}}/environments/{{name}}
    create_verb: :POST
    references: !ruby/object:Api::Resource::ReferenceLinks
      guides:
        'Official Documentation':
          'https://cloud.google.com/ai-platform-notebooks'
      api: 'https://cloud.google.com/ai-platform/notebooks/docs/reference/rest'
    properties:
      - !ruby/object:Api::Type::String
        name: 'name'
        description: |
            The name specified for the Environment instance.
            Format: projects/{project_id}/locations/{location}/environments/{environmentId}
        required: true
        input: true
        url_param_only: true
        pattern: projects/{{project}}/locations/{{location}}/environments/{{name}}
      - !ruby/object:Api::Type::ResourceRef
        name: 'location'
        description: 'A reference to the zone where the machine resides.'
        resource: 'Location'
        imports: 'name'
        required: true
        url_param_only: true
      - !ruby/object:Api::Type::String
        name: 'displayName'
        description: |
            Display name of this environment for the UI.
      - !ruby/object:Api::Type::String
        name: 'description'
        description: |
            A brief description of this environment.
      - !ruby/object:Api::Type::String
        name: 'postStartupScript'
        description: |
            Path to a Bash script that automatically runs after a notebook instance fully boots up.
            The path must be a URL or Cloud Storage path. Example: "gs://path-to-file/file-name"
      - !ruby/object:Api::Type::Time
        name: 'createTime'
        description: 'Instance creation time'
        output: true
      - !ruby/object:Api::Type::NestedObject
        name: 'vmImage'
        exactly_one_of:
            - vm_image
            - container_image
        description: |
            Use a Compute Engine VM image to start the notebook instance.
        properties:
          - !ruby/object:Api::Type::String
            name: 'project'
            description: |
                The name of the Google Cloud project that this VM image belongs to.
                Format: projects/{project_id}
            required: true
          - !ruby/object:Api::Type::String
            name: 'imageName'
            description: |
                Use VM image name to find the image.
          - !ruby/object:Api::Type::String
            name: 'imageFamily'
            description: |
                Use this VM image family to find the image; the newest image in this family will be used.
      - !ruby/object:Api::Type::NestedObject
        name: 'containerImage'
        exactly_one_of:
            - vm_image
            - container_image
        description: |
            Use a container image to start the notebook instance.
        properties:
          - !ruby/object:Api::Type::String
            name: 'repository'
            description: |
               The path to the container image repository.
               For example: gcr.io/{project_id}/{imageName}
            required: true
          - !ruby/object:Api::Type::String
            name: 'tag'
            description: |
                The tag of the container image. If not specified, this defaults to the latest tag.
  # Notebooks Instance
  - !ruby/object:Api::Resource
    name: 'Instance'
    description: |
        A Cloud AI Platform Notebook instance.
    base_url: projects/{{project}}/locations/{{location}}/instances
    create_url: projects/{{project}}/locations/{{location}}/instances?instanceId={{name}}
    self_link: projects/{{project}}/locations/{{location}}/instances/{{name}}
    create_verb: :POST
    input: true
    references: !ruby/object:Api::Resource::ReferenceLinks
      guides:
        'Official Documentation':
          'https://cloud.google.com/ai-platform-notebooks'
      api: 'https://cloud.google.com/ai-platform/notebooks/docs/reference/rest'
    iam_policy: !ruby/object:Api::Resource::IamPolicy
      method_name_separator: ':'
      fetch_iam_policy_verb: :GET
      parent_resource_attribute: 'instance_name'
      import_format: ["projects/{{project}}/locations/{{location}}/instances/{{instance_name}}", "{{instance_name}}"]
      base_url: projects/{{project}}/locations/{{location}}/instances/{{instance_name}}
    parameters:
      - !ruby/object:Api::Type::ResourceRef
        name: 'location'
        description: 'A reference to the zone where the machine resides.'
        resource: 'Location'
        imports: 'selfLink'
        required: true
        input: true
        url_param_only: true
    properties:
      - !ruby/object:Api::Type::String
        name: 'name'
        description: |
            The name specified for the Notebook instance.
        required: true
        input: true
        url_param_only: true
        pattern: projects/{{project}}/locations/{{location}}/instances/{{name}}
      - !ruby/object:Api::Type::String
        name: 'machineType'
        description: |
            A reference to a machine type which defines VM kind.
        required: true
        # Machine Type is updatable, but requires the instance to be stopped, just like
        # for compute instances.
        # TODO: Implement allow_stopping_for_update here and for acceleratorConfig
        # update_verb: :PATCH
        # update_url: 'projects/{{project}}/locations/{{location}}/instances/{{name}}:setMachineType'
        pattern: projects/{{project}}/zones/{{location}}/machineTypes/{{name}}
      - !ruby/object:Api::Type::String
        name: 'postStartupScript'
        description: |
            Path to a Bash script that automatically runs after a
            notebook instance fully boots up. The path must be a URL
            or Cloud Storage path (gs://path-to-file/file-name).
      - !ruby/object:Api::Type::String
        name: 'proxyUri'
        description: |
            The proxy endpoint that is used to access the Jupyter notebook.
        output: true
      - !ruby/object:Api::Type::Array
        name: 'instanceOwners'
        description: |
            The list of owners of this instance after creation.
            Format: alias@example.com.
            Currently supports one owner only.
            If not specified, all of the service account users of
            your VM instance's service account can use the instance.
        item_type: Api::Type::String
      - !ruby/object:Api::Type::String
        name: 'serviceAccount'
        description: |
            The service account on this instance, giving access to other
            Google Cloud services. You can use any service account within
            the same project, but you must have the service account user
            permission to use the instance. If not specified,
            the Compute Engine default service account is used.
      - !ruby/object:Api::Type::Array
        name: 'serviceAccountScopes'
        description: |
            Optional. The URIs of service account scopes to be included in Compute Engine instances.
            If not specified, the following scopes are defined:
            - https://www.googleapis.com/auth/cloud-platform
            - https://www.googleapis.com/auth/userinfo.email
        item_type: Api::Type::String
      - !ruby/object:Api::Type::NestedObject
        name: 'acceleratorConfig'
        description: |
            The hardware accelerator used on this instance. If you use accelerators,
            make sure that your configuration has enough vCPUs and memory to support the
            machineType you have selected.
        # AcceleratorConfig is updatable, but requires the instance to be stopped, just like
        # for compute instances.
        # TODO: Implement allow_stopping_for_update here and for machineType.
        # update_verb: :PATCH
        # update_url: 'projects/{{project}}/locations/{{location}}/instances/{{name}}:setAccelerator'
        properties:
          - !ruby/object:Api::Type::Enum
            name: 'type'
            values:
              - ACCELERATOR_TYPE_UNSPECIFIED
              - NVIDIA_TESLA_K80
              - NVIDIA_TESLA_P100
              - NVIDIA_TESLA_V100
              - NVIDIA_TESLA_P4
              - NVIDIA_TESLA_T4
              - NVIDIA_TESLA_T4_VWS
              - NVIDIA_TESLA_P100_VWS
              - NVIDIA_TESLA_P4_VWS
              - NVIDIA_TESLA_A100
              - TPU_V2
              - TPU_V3
            required: true
            description: |
              Type of this accelerator.
          - !ruby/object:Api::Type::Integer
            name: 'coreCount'
            required: true
            description: |
              Count of cores of this accelerator.
      - !ruby/object:Api::Type::NestedObject
        name: 'shieldedInstanceConfig'
        description: |
            A set of Shielded Instance options. Check [Images using supported Shielded VM features]
            Not all combinations are valid
        properties:
          - !ruby/object:Api::Type::Boolean
            name: 'enableIntegrityMonitoring'
            description: |
              Defines whether the instance has integrity monitoring enabled. Enables monitoring and attestation of the
              boot integrity of the instance. The attestation is performed against the integrity policy baseline.
              This baseline is initially derived from the implicitly trusted boot image when the instance is created.
              Enabled by default.
            default_value: true
          - !ruby/object:Api::Type::Boolean
            name: 'enableSecureBoot'
            description: |
              Defines whether the instance has Secure Boot enabled. Secure Boot helps ensure that the system only runs
              authentic software by verifying the digital signature of all boot components, and halting the boot process
              if signature verification fails.
              Disabled by default.
          - !ruby/object:Api::Type::Boolean
            name: 'enableVtpm'
            description: |
              Defines whether the instance has the vTPM enabled.
              Enabled by default.
            default_value: true
      - !ruby/object:Api::Type::Enum
        name: 'nicType'
        description: |
          The type of vNIC driver.
        values:
          - UNSPECIFIED_NIC_TYPE
          - VIRTIO_NET
          - GVNIC
      - !ruby/object:Api::Type::NestedObject
        name: 'reservationAffinity'
        description: |
          Reservation Affinity for consuming Zonal reservation.
        properties:
          - !ruby/object:Api::Type::Enum
            name: 'consumeReservationType'
            required: true
            description: |
              The type of Compute Reservation.
            values:
              - NO_RESERVATION
              - ANY_RESERVATION
              - SPECIFIC_RESERVATION
          - !ruby/object:Api::Type::String
            name: 'key'
            description: |
              Corresponds to the label key of reservation resource.
          - !ruby/object:Api::Type::Array
            name: 'values'
            description: |
              Corresponds to the label values of reservation resource.
            item_type: Api::Type::String
      - !ruby/object:Api::Type::String
        name: 'state'
        description: |
            The state of this instance.
        output: true
      - !ruby/object:Api::Type::Boolean
        name: 'installGpuDriver'
        description: |
            Whether the end user authorizes Google Cloud to install GPU driver
            on this instance. If this field is empty or set to false, the GPU driver
            won't be installed. Only applicable to instances with GPUs.
        input: true
      - !ruby/object:Api::Type::String
        name: 'customGpuDriverPath'
        description: |
            Specify a custom Cloud Storage path where the GPU driver is stored.
            If not specified, we'll automatically choose from official GPU drivers.
      - !ruby/object:Api::Type::Enum
        name: 'bootDiskType'
        values:
          - DISK_TYPE_UNSPECIFIED
          - PD_STANDARD
          - PD_SSD
          - PD_BALANCED
          - PD_EXTREME
        description: |
            Possible disk types for notebook instances.
      - !ruby/object:Api::Type::Integer
        name: 'bootDiskSizeGb'
        description: |
            The size of the boot disk in GB attached to this instance,
            up to a maximum of 64000 GB (64 TB). The minimum recommended value is 100 GB.
            If not specified, this defaults to 100.
      - !ruby/object:Api::Type::Enum
        name: 'dataDiskType'
        values:
          - DISK_TYPE_UNSPECIFIED
          - PD_STANDARD
          - PD_SSD
          - PD_BALANCED
          - PD_EXTREME
        description: |
            Possible disk types for notebook instances.
      - !ruby/object:Api::Type::Integer
        name: 'dataDiskSizeGb'
        description: |
            The size of the data disk in GB attached to this instance,
            up to a maximum of 64000 GB (64 TB).
            You can choose the size of the data disk based on how big your notebooks and data are.
            If not specified, this defaults to 100.
      - !ruby/object:Api::Type::Boolean
        name: 'noRemoveDataDisk'
        description: |
            If true, the data disk will not be auto deleted when deleting the instance.
      - !ruby/object:Api::Type::Enum
        name: 'diskEncryption'
        values:
          - DISK_ENCRYPTION_UNSPECIFIED
          - GMEK
          - CMEK
        description: |
            Disk encryption method used on the boot and data disks, defaults to GMEK.
      - !ruby/object:Api::Type::String
        name: 'kmsKey'
        description: |
            The KMS key used to encrypt the disks, only applicable if diskEncryption is CMEK.
            Format: projects/{project_id}/locations/{location}/keyRings/{key_ring_id}/cryptoKeys/{key_id}
      - !ruby/object:Api::Type::Boolean
        name: 'noPublicIp'
        description: |
            No public IP will be assigned to this instance.
      - !ruby/object:Api::Type::Boolean
        name: 'noProxyAccess'
        description: |
            The notebook instance will not register with the proxy..
      - !ruby/object:Api::Type::String
        name: 'network'
        description: |
            The name of the VPC that this instance is in.
            Format: projects/{project_id}/global/networks/{network_id}
      - !ruby/object:Api::Type::String
        name: 'subnet'
        description: |
            The name of the subnet that this instance is in.
            Format: projects/{project_id}/regions/{region}/subnetworks/{subnetwork_id}
      - !ruby/object:Api::Type::KeyValuePairs
        name: 'labels'
        description: |
            Labels to apply to this instance. These can be later modified by the setLabels method.
            An object containing a list of "key": value pairs. Example: { "name": "wrench", "mass": "1.3kg", "count": "3" }.
        update_verb: :PATCH
        update_url: 'projects/{{project}}/locations/{{location}}/instances/{{name}}:setLabels'
      - !ruby/object:Api::Type::Array
        name: 'tags'
        description: |
            The Compute Engine tags to add to instance.
        item_type: Api::Type::String
      - !ruby/object:Api::Type::KeyValuePairs
        name: 'metadata'
        description: |
            Custom metadata to apply to this instance.
            An object containing a list of "key": value pairs. Example: { "name": "wrench", "mass": "1.3kg", "count": "3" }.
      - !ruby/object:Api::Type::Time
        name: 'createTime'
        description: 'Instance creation time'
        output: true
      - !ruby/object:Api::Type::Time
        name: 'updateTime'
        description: 'Instance update time.'
        output: true
      - !ruby/object:Api::Type::NestedObject
        name: 'vmImage'
        exactly_one_of:
            - vm_image
            - container_image
        description: |
            Use a Compute Engine VM image to start the notebook instance.
        properties:
          - !ruby/object:Api::Type::String
            name: 'project'
            description: |
                The name of the Google Cloud project that this VM image belongs to.
                Format: projects/{project_id}
            required: true
          - !ruby/object:Api::Type::String
            name: 'imageFamily'
            description: |
              Use this VM image family to find the image; the newest image in this family will be used.
          - !ruby/object:Api::Type::String
            name: 'imageName'
            description: |
                Use VM image name to find the image.
      - !ruby/object:Api::Type::NestedObject
        name: 'containerImage'
        exactly_one_of:
            - vm_image
            - container_image
        description: |
            Use a container image to start the notebook instance.
        properties:
          - !ruby/object:Api::Type::String
            name: 'repository'
            description: |
               The path to the container image repository.
               For example: gcr.io/{project_id}/{imageName}
            required: true
          - !ruby/object:Api::Type::String
            name: 'tag'
            description: |
                The tag of the container image. If not specified, this defaults to the latest tag.
  # Notebooks Runtime
  - !ruby/object:Api::Resource
    name: 'Runtime'
    description: |
        A Cloud AI Platform Notebook runtime.
    base_url: projects/{{project}}/locations/{{location}}/runtimes
    create_url: projects/{{project}}/locations/{{location}}/runtimes?runtimeId={{name}}
    self_link: projects/{{project}}/locations/{{location}}/runtimes/{{name}}
    create_verb: :POST
    update_verb: :PATCH
    update_mask: true
    # When set, if any parameter change, they will get recreated.
    # Use wisely because any `update_url:` in the hierarchy below this will get ignored.
    # input: true
    references: !ruby/object:Api::Resource::ReferenceLinks
      guides:
        'Official Documentation':
          'https://cloud.google.com/ai-platform-notebooks'
      api: 'https://cloud.google.com/ai-platform/notebooks/docs/reference/rest'
    iam_policy: !ruby/object:Api::Resource::IamPolicy
      method_name_separator: ':'
      fetch_iam_policy_verb: :GET
      parent_resource_attribute: 'runtime_name'
      import_format: ["projects/{{project}}/locations/{{location}}/runtimes/{{runtime_name}}", "{{runtime_name}}"]
      # Sets the base url for base_url:GetIamPolicy and base_url:SetIamPolicy in function `qualifyRuntimeUrl`
      base_url: projects/{{project}}/locations/{{location}}/runtimes/{{runtime_name}}
    parameters:
      - !ruby/object:Api::Type::ResourceRef
        name: 'location'
        description: 'A reference to the zone where the machine resides.'
        resource: 'Location'
        imports: 'selfLink'
        required: true
        input: true
        url_param_only: true
    properties:
      - !ruby/object:Api::Type::String
        name: 'name'
        description: |
            The name specified for the Notebook runtime.
        required: true
        input: true
        url_param_only: true
        pattern: projects/{{project}}/locations/{{location}}/runtimes/{{name}}
      - !ruby/object:Api::Type::NestedObject
        name: "virtualMachine"
        exactly_one_of:
          - virtual_machine
        description: |
          Use a Compute Engine VM image to start the managed notebook instance.
        properties:
          - !ruby/object:Api::Type::String
            name: "instanceName"
            description: |
              The user-friendly name of the Managed Compute Engine instance.
            output: true
          - !ruby/object:Api::Type::String
            name: "instanceId"
            description: |
              The unique identifier of the Managed Compute Engine instance.
            output: true
          - !ruby/object:Api::Type::NestedObject
            name: "virtualMachineConfig"
            description: |
              Virtual Machine configuration settings.
            properties:
              - !ruby/object:Api::Type::String
                name: "zone"
                description: |
                  The zone where the virtual machine is located.
                output: true
              - !ruby/object:Api::Type::String
                name: "machineType"
                description: |
                  The Compute Engine machine type used for runtimes.
                required: true
              - !ruby/object:Api::Type::NestedObject
                name: "dataDisk"
                description: |
                  Data disk option configuration settings.
                required: true
                properties:
                  - !ruby/object:Api::Type::Boolean
                    name: "autoDelete"
                    description: |
                      Optional. Specifies whether the disk will be auto-deleted
                      when the instance is deleted (but not when the disk is
                      detached from the instance).
                    output: true
                  - !ruby/object:Api::Type::Boolean
                    name: "boot"
                    description: |
                      Optional. Indicates that this is a boot disk. The virtual
                      machine will use the first partition of the disk for its
                      root filesystem.
                    output: true
                  - !ruby/object:Api::Type::String
                    name: "deviceName"
                    description: |
                      Optional. Specifies a unique device name of your choice
                      that is reflected into the /dev/disk/by-id/google-* tree
                      of a Linux operating system running within the instance.
                      This name can be used to reference the device for mounting,
                      resizing, and so on, from within the instance.
                      If not specified, the server chooses a default device name
                      to apply to this disk, in the form persistent-disk-x, where
                      x is a number assigned by Google Compute Engine. This field
                      is only applicable for persistent disks.
                    output: true
                  - !ruby/object:Api::Type::Array
                    name: "guestOsFeatures"
                    description: |
                      Indicates a list of features to enable on the guest operating
                      system. Applicable only for bootable images. To see a list of
                      available features, read `https://cloud.google.com/compute/docs/
                      images/create-delete-deprecate-private-images#guest-os-features`
                      options. ``
                    output: true
                    item_type: Api::Type::String
                  - !ruby/object:Api::Type::Integer
                    name: "index"
                    description: |
                      Output only. A zero-based index to this disk, where 0 is
                      reserved for the boot disk. If you have many disks attached
                      to an instance, each disk would have a unique index number.
                    output: true
                  - !ruby/object:Api::Type::NestedObject
                    name: "initializeParams"
                    description: |
                      Input only. Specifies the parameters for a new disk that will
                      be created alongside the new instance. Use initialization
                      parameters to create boot disks or local SSDs attached to the
                      new instance. This property is mutually exclusive with the
                      source property; you can only define one or the other, but not
                      both.
                    properties:
                      - !ruby/object:Api::Type::String
                        name: "description"
                        description: |
                          Provide this property when creating the disk.
                      - !ruby/object:Api::Type::String
                        name: "diskName"
                        description: |
                          Specifies the disk name. If not specified, the default is
                          to use the name of the instance. If the disk with the
                          instance name exists already in the given zone/region, a
                          new name will be automatically generated.
                      - !ruby/object:Api::Type::Integer
                        name: "diskSizeGb"
                        description: |
                          Specifies the size of the disk in base-2 GB. If not
                          specified, the disk will be the same size as the image
                          (usually 10GB). If specified, the size must be equal to
                          or larger than 10GB. Default 100 GB.
                      - !ruby/object:Api::Type::String
                        name: "diskType"
                        description: |
                          The type of the boot disk attached to this runtime,
                          defaults to standard persistent disk. For valid values,
                          see `https://cloud.google.com/vertex-ai/docs/workbench/
                          reference/rest/v1/projects.locations.runtimes#disktype`
                      - !ruby/object:Api::Type::KeyValuePairs
                        name: "labels"
                        description: |
                          Labels to apply to this disk. These can be later modified
                          by the disks.setLabels method. This field is only
                          applicable for persistent disks.
                    input: true
                  - !ruby/object:Api::Type::String
                    name: "interface"
                    description: |
                      "Specifies the disk interface to use for attaching this disk,
                      which is either SCSI or NVME. The default is SCSI. Persistent
                      disks must always use SCSI and the request will fail if you attempt
                      to attach a persistent disk in any other format than SCSI. Local SSDs
                      can use either NVME or SCSI. For performance characteristics of SCSI
                      over NVMe, see Local SSD performance. Valid values: * NVME * SCSI".
                  - !ruby/object:Api::Type::String
                    name: "kind"
                    description: |
                      Type of the resource. Always compute#attachedDisk for attached
                      disks.
                    output: true
                  - !ruby/object:Api::Type::Array
                    name: "licenses"
                    description: |
                      Output only. Any valid publicly visible licenses.
                    item_type: Api::Type::String
                    output: true
                  - !ruby/object:Api::Type::String
                    name: "mode"
                    description: |
                      The mode in which to attach this disk, either READ_WRITE
                      or READ_ONLY. If not specified, the default is to attach
                      the disk in READ_WRITE mode.
                  - !ruby/object:Api::Type::String
                    name: "source"
                    description: |
                      Specifies a valid partial or full URL to an existing
                      Persistent Disk resource.
                  - !ruby/object:Api::Type::String
                    name: "type"
                    description: |
                      Specifies the type of the disk, either SCRATCH or PERSISTENT.
                      If not specified, the default is PERSISTENT.
              - !ruby/object:Api::Type::Array
                name: "containerImages"
                description: |
                  Use a list of container images to start the notebook instance.
                input: true
                item_type: !ruby/object:Api::Type::NestedObject
                  properties:
                    - !ruby/object:Api::Type::String
                      name: 'repository'
                      description: |
                        The path to the container image repository.
                        For example: gcr.io/{project_id}/{imageName}
                      required: true
                    - !ruby/object:Api::Type::String
                      name: 'tag'
                      description: |
                          The tag of the container image. If not specified, this defaults to the latest tag.
              - !ruby/object:Api::Type::NestedObject
                name: "encryptionConfig"
                description: |
                  Encryption settings for virtual machine data disk.
                input: true
                properties:
                  - !ruby/object:Api::Type::String
                    name: "kmsKey"
                    description: |
                      The Cloud KMS resource identifier of the customer-managed
                      encryption key used to protect a resource, such as a disks.
                      It has the following format:
                      `projects/{PROJECT_ID}/locations/{REGION}/keyRings/
                      {KEY_RING_NAME}/cryptoKeys/{KEY_NAME}`
              - !ruby/object:Api::Type::NestedObject
                name: "shieldedInstanceConfig"
                description: |
                  Shielded VM Instance configuration settings.
                input: true
                properties:
                  - !ruby/object:Api::Type::Boolean
                    name: "enableSecureBoot"
                    description: |
                      Defines whether the instance has Secure Boot enabled.Secure
                      Boot helps ensure that the system only runs authentic software
                      by verifying the digital signature of all boot components, and
                      halting the boot process if signature verification fails.
                      Disabled by default.
                  - !ruby/object:Api::Type::Boolean
                    name: "enableVtpm"
                    description: |
                      Defines whether the instance has the vTPM enabled. Enabled by
                      default.
                  - !ruby/object:Api::Type::Boolean
                    name: "enableIntegrityMonitoring"
                    description: |
                      Defines whether the instance has integrity monitoring enabled.
                      Enables monitoring and attestation of the boot integrity of
                      the instance. The attestation is performed against the
                      integrity policy baseline. This baseline is initially derived
                      from the implicitly trusted boot image when the instance is
                      created. Enabled by default.
              - !ruby/object:Api::Type::NestedObject
                name: "acceleratorConfig"
                description: |
                  The Compute Engine accelerator configuration for this runtime.
                properties:
                  - !ruby/object:Api::Type::String
                    name: "type"
                    description: |
                      Accelerator model. For valid values, see
                      `https://cloud.google.com/vertex-ai/docs/workbench/reference/
                      rest/v1/projects.locations.runtimes#AcceleratorType`
                  - !ruby/object:Api::Type::Integer
                    name: "coreCount"
                    description: |
                      Count of cores of this accelerator.
              - !ruby/object:Api::Type::String
                name: "network"
                description: |
                  The Compute Engine network to be used for machine communications.
                  Cannot be specified with subnetwork. If neither `network` nor
                  `subnet` is specified, the "default" network of the project is
                  used, if it exists. A full URL or partial URI. Examples:
                    * `https://www.googleapis.com/compute/v1/projects/[project_id]/
                    regions/global/default`
                    * `projects/[project_id]/regions/global/default`
                  Runtimes are managed resources inside Google Infrastructure.
                  Runtimes support the following network configurations:
                    * Google Managed Network (Network & subnet are empty)
                    * Consumer Project VPC (network & subnet are required). Requires
                    configuring Private Service Access.
                    * Shared VPC (network & subnet are required). Requires
                    configuring Private Service Access.
                input: true
              - !ruby/object:Api::Type::String
                name: "subnet"
                description: |
                  The Compute Engine subnetwork to be used for machine
                  communications. Cannot be specified with network. A full URL or
                  partial URI are valid. Examples:
                    * `https://www.googleapis.com/compute/v1/projects/[project_id]/
                    regions/us-east1/subnetworks/sub0`
                    * `projects/[project_id]/regions/us-east1/subnetworks/sub0`
                input: true
              - !ruby/object:Api::Type::Boolean
                name: "internalIpOnly"
                description: |
                  If true, runtime will only have internal IP addresses. By default,
                  runtimes are not restricted to internal IP addresses, and will
                  have ephemeral external IP addresses assigned to each vm. This
                  `internal_ip_only` restriction can only be enabled for subnetwork
                  enabled networks, and all dependencies must be configured to be
                  accessible without external IP addresses.
                input: true
              - !ruby/object:Api::Type::Array
                name: "tags"
                description: |
                  The Compute Engine tags to add to runtime (see [Tagging instances]
                  (https://cloud.google.com/compute/docs/
                  label-or-tag-resources#tags)).
                item_type: Api::Type::String
              - !ruby/object:Api::Type::KeyValuePairs
                name: "guestAttributes"
                description: |
                  The Compute Engine guest attributes. (see [Project and instance
                  guest attributes](https://cloud.google.com/compute/docs/
                  storing-retrieving-metadata#guest_attributes)).
                output: true
              - !ruby/object:Api::Type::KeyValuePairs
                name: "metadata"
                description: |
                  The Compute Engine metadata entries to add to virtual machine.
                  (see [Project and instance metadata](https://cloud.google.com
                  /compute/docs/storing-retrieving-metadata#project_and_instance
                  _metadata)).
              - !ruby/object:Api::Type::KeyValuePairs
                name: "labels"
                description: |
                  The labels to associate with this runtime. Label **keys** must
                  contain 1 to 63 characters, and must conform to [RFC 1035]
                  (https://www.ietf.org/rfc/rfc1035.txt). Label **values** may be
                  empty, but, if present, must contain 1 to 63 characters, and must
                  conform to [RFC 1035](https://www.ietf.org/rfc/rfc1035.txt). No
                  more than 32 labels can be associated with a cluster.
              - !ruby/object:Api::Type::Enum
                name: "nicType"
                description: |
                  The type of vNIC to be used on this interface. This may be gVNIC
                  or VirtioNet.
                input: true
                values:
                  - UNSPECIFIED_NIC_TYPE
                  - VIRTIO_NET
                  - GVNIC
              - !ruby/object:Api::Type::String
                name: "reservedIpRange"
                description: |
                  Reserved IP Range name is used for VPC Peering. The
                  subnetwork allocation will use the range *name* if it's assigned.
                input: true
      - !ruby/object:Api::Type::Enum
        name: 'state'
        values:
          - STATE_UNSPECIFIED
          - STARTING
          - PROVISIONING
          - ACTIVE
          - STOPPING
          - STOPPED
          - DELETING
          - UPGRADING
          - INITIALIZING
        description: |
            The state of this runtime.
        output: true
      - !ruby/object:Api::Type::String
        name: 'healthState'
        description: |
            The health state of this runtime. For a list of possible output
            values, see `https://cloud.google.com/vertex-ai/docs/workbench/
            reference/rest/v1/projects.locations.runtimes#healthstate`.
        output: true
      - !ruby/object:Api::Type::NestedObject
        name: 'accessConfig'
        description: |
          The config settings for accessing runtime.
        properties:
          - !ruby/object:Api::Type::String
            name: 'accessType'
            description: |
              The type of access mode this instance. For valid values, see
              `https://cloud.google.com/vertex-ai/docs/workbench/reference/
              rest/v1/projects.locations.runtimes#RuntimeAccessType`.
          - !ruby/object:Api::Type::String
            name: 'runtimeOwner'
            description: |
              The owner of this runtime after creation. Format: `alias@example.com`.
              Currently supports one owner only.
          - !ruby/object:Api::Type::String
            name: 'proxyUri'
            description: |
              The proxy endpoint that is used to access the runtime.
            output: true
      - !ruby/object:Api::Type::NestedObject
        name: "softwareConfig"
        description: |
          The config settings for software inside the runtime.
        properties:
          - !ruby/object:Api::Type::String
            name: "notebookUpgradeSchedule"
            description: |
              Cron expression in UTC timezone for schedule instance auto upgrade.
              Please follow the [cron format](https://en.wikipedia.org/wiki/Cron).
          - !ruby/object:Api::Type::Boolean
            name: "enableHealthMonitoring"
            description: |
              Verifies core internal services are running. Default: True.
            default_value: true
          - !ruby/object:Api::Type::Boolean
            name: "idleShutdown"
            description: |
              Runtime will automatically shutdown after idle_shutdown_time.
              Default: True
            default_value: true
          - !ruby/object:Api::Type::Integer
            name: "idleShutdownTimeout"
            description: |
              Time in minutes to wait before shuting down runtime.
              Default: 180 minutes
          - !ruby/object:Api::Type::Boolean
            name: "installGpuDriver"
            description: |
              Install Nvidia Driver automatically.
          - !ruby/object:Api::Type::Boolean
            name: "upgradeable"
            output: true
            description: |
              Bool indicating whether an newer image is available in an image family.
          - !ruby/object:Api::Type::String
            name: "customGpuDriverPath"
            description: |
              Specify a custom Cloud Storage path where the GPU driver is stored.
              If not specified, we'll automatically choose from official GPU drivers.
          - !ruby/object:Api::Type::String
            name: "postStartupScript"
            description: |
              Path to a Bash script that automatically runs after a notebook instance
              fully boots up. The path must be a URL or
              Cloud Storage path (gs://path-to-file/file-name).
          - !ruby/object:Api::Type::Enum
            name: 'postStartupScriptBehavior'
            values:
              - POST_STARTUP_SCRIPT_BEHAVIOR_UNSPECIFIED
              - RUN_EVERY_START
              - DOWNLOAD_AND_RUN_EVERY_START
            description: |
                Behavior for the post startup script.
          - !ruby/object:Api::Type::Array
            name: 'kernels'
            description: |
                Use a list of container images to use as Kernels in the notebook instance.
            item_type: !ruby/object:Api::Type::NestedObject
              properties:
                - !ruby/object:Api::Type::String
                  name: 'repository'
                  description: |
                     The path to the container image repository.
                     For example: gcr.io/{project_id}/{imageName}
                  required: true
                - !ruby/object:Api::Type::String
                  name: 'tag'
                  description: |
                      The tag of the container image. If not specified, this defaults to the latest tag.                
      - !ruby/object:Api::Type::NestedObject
        name: "metrics"
        description: |
          Contains Runtime daemon metrics such as Service status and JupyterLab
          status
        properties:
          - !ruby/object:Api::Type::KeyValuePairs
            name: "systemMetrics"
            description: |
              Contains runtime daemon metrics, such as OS and kernels and
              sessions stats.
            output: true
        output: true
  # Compute Zone (Location)
  - !ruby/object:Api::Resource
    name: 'Location'
    kind: 'compute#zone'
    base_url: projects/{{project}}/locations
    collection_url_key: 'items'
    has_self_link: true
    readonly: true
    description: 'Represents a Location resource.'
    properties:
      - !ruby/object:Api::Type::String
        name: 'name'
        description: 'Name of the Location resource.'
