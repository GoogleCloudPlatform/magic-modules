# Copyright 2020 Google Inc.
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

--- !ruby/object:Api::Product
name: Privateca
display_name: Certificate Authority Service
versions:
  - !ruby/object:Api::Product::Version
    name: ga
    base_url: https://privateca.googleapis.com/v1/
scopes:
  - https://www.googleapis.com/auth/cloud-platform
apis_required:
  - !ruby/object:Api::Product::ApiReference
    name: Certificate Authority API
    url: https://console.cloud.google.com/apis/api/privateca.googleapis.com
objects:
  # CertificateAuthority
  - !ruby/object:Api::Resource
    name: 'CertificateAuthority'
    description: |
        A CertificateAuthority represents an individual Certificate Authority. A
        CertificateAuthority can be used to create Certificates.
    base_url: projects/{{project}}/locations/{{location}}/caPools/{{pool}}/certificateAuthorities
    create_url: projects/{{project}}/locations/{{location}}/caPools/{{pool}}/certificateAuthorities?certificateAuthorityId={{certificate_authority_id}}
    self_link: projects/{{project}}/locations/{{location}}/caPools/{{pool}}/certificateAuthorities/{{certificate_authority_id}}
    delete_url: projects/{{project}}/locations/{{location}}/caPools/{{pool}}/certificateAuthorities/{{certificate_authority_id}}?ignoreActiveCertificates={{ignore_active_certificates_on_deletion}}
    input: true
    async: !ruby/object:Api::OpAsync
        operation: !ruby/object:Api::OpAsync::Operation
          base_url: '{{op_id}}'
          path: 'name'
          wait_ms: 1000
        result: !ruby/object:Api::OpAsync::Result
          path: 'response'
          resource_inside_response: true
        status: !ruby/object:Api::OpAsync::Status
          path: 'done'
          complete: True
          allowed:
            - True
            - False
        error: !ruby/object:Api::OpAsync::Error
          path: 'error'
          message: 'message'
    references: !ruby/object:Api::Resource::ReferenceLinks
      guides:
        'Official Documentation':
          'https://cloud.google.com/certificate-authority-service'
      api: 'https://cloud.google.com/certificate-authority-service/docs/reference/rest'
    properties:
      - !ruby/object:Api::Type::Boolean
        name: 'ignore_active_certificates_on_deletion'
        default_value: false
        url_param_only: true
        description: |
          This field allows the CA to be deleted even if the CA has active certs. Active certs include both unrevoked and unexpired certs.
          Use with care. Defaults to `false`.
      - !ruby/object:Api::Type::String
        name: location
        description:  |
          Location of the CertificateAuthority. A full list of valid locations can be found by
          running `gcloud privateca locations list`.
        required: true
        input: true
        url_param_only: true
      - !ruby/object:Api::Type::String
        name: certificateAuthorityId
        description: The user provided Resource ID for this Certificate Authority.
        required: true
        input: true
        url_param_only: true
      - !ruby/object:Api::Type::String
        name: pool
        description: The name of the CaPool this Certificate Authority belongs to.
        required: true
        input: true
        url_param_only: true
      - !ruby/object:Api::Type::String
        name: 'name'
        description: |
            The resource name for this CertificateAuthority in the format
            projects/*/locations/*/certificateAuthorities/*.
        output: true
      - !ruby/object:Api::Type::Enum
        name: 'type'
        description: The Type of this CertificateAuthority.
        input: true
        values:
          - :SELF_SIGNED
          - :SUBORDINATE
        default_value: :SELF_SIGNED
      - !ruby/object:Api::Type::NestedObject
        name: 'config'
        description: The config used to create a self-signed X.509 certificate or CSR.
        required: true
        input: true
        properties:
          - !ruby/object:Api::Type::NestedObject
            name: 'x509Config'
            required: true
            description: |
               Describes how some of the technical X.509 fields in a certificate should be populated.
            properties:
              - !ruby/object:Api::Type::Array
                name: 'additionalExtensions'
                description: |
                  Specifies an X.509 extension, which may be used in different parts of X.509 objects like certificates, CSRs, and CRLs.
                item_type: !ruby/object:Api::Type::NestedObject
                  properties:
                    - !ruby/object:Api::Type::Boolean
                      name: 'critical'
                      required: true
                      description: |
                        Indicates whether or not this extension is critical (i.e., if the client does not know how to
                        handle this extension, the client should consider this to be an error).
                    - !ruby/object:Api::Type::String
                      name: 'value'
                      required: true
                      description: |
                        The value of this X.509 extension. A base64-encoded string.
                    - !ruby/object:Api::Type::NestedObject
                      name: 'objectId'
                      required: true
                      description: |
                        Describes values that are relevant in a CA certificate.
                      properties:
                        - !ruby/object:Api::Type::Array
                          name: 'objectIdPath'
                          required: true
                          item_type: Api::Type::Integer
                          description: |
                            An ObjectId specifies an object identifier (OID). These provide context and describe types in ASN.1 messages.
              - !ruby/object:Api::Type::Array
                name: 'policyIds'
                description: |
                  Describes the X.509 certificate policy object identifiers, per https://tools.ietf.org/html/rfc5280#section-4.2.1.4.
                item_type: !ruby/object:Api::Type::NestedObject
                  properties:
                    - !ruby/object:Api::Type::Array
                      name: 'objectIdPath'
                      required: true
                      item_type: Api::Type::Integer
                      description: |
                        An ObjectId specifies an object identifier (OID). These provide context and describe types in ASN.1 messages.
              - !ruby/object:Api::Type::Array
                name: 'aiaOcspServers'
                item_type: Api::Type::String
                description: |
                  Describes Online Certificate Status Protocol (OCSP) endpoint addresses that appear in the
                  "Authority Information Access" extension in the certificate.
              - !ruby/object:Api::Type::NestedObject
                name: 'caOptions'
                required: true
                description: |
                  Describes values that are relevant in a CA certificate.
                properties:
                  - !ruby/object:Api::Type::Boolean
                    name: 'includeIsCa'
                    url_param_only: true
                    description: |
                      Must be set to true to use is_ca.
                  - !ruby/object:Api::Type::Boolean
                    name: 'isCa'
                    required: true
                    description: |
                      Refers to the "CA" X.509 extension, which is a boolean value. When this value is missing,
                      the extension will be omitted from the CA certificate.
                  - !ruby/object:Api::Type::Boolean
                    name: 'includeMaxIssuerPathLength'
                    url_param_only: true
                    description: |
                      Must be set to true to use max_issuer_path_length.
                  - !ruby/object:Api::Type::Integer
                    name: 'maxIssuerPathLength'
                    description: |
                      Refers to the path length restriction X.509 extension. For a CA certificate, this value describes the depth of
                      subordinate CA certificates that are allowed. If this value is less than 0, the request will fail. If this
                      value is missing, the max path length will be omitted from the CA certificate.
              - !ruby/object:Api::Type::NestedObject
                name: 'keyUsage'
                required: true
                description: |
                  Indicates the intended use for keys that correspond to a certificate.
                properties:
                  - !ruby/object:Api::Type::NestedObject
                    name: 'baseKeyUsage'
                    required: true
                    description: |
                      Describes high-level ways in which a key may be used.
                    properties:
                      - !ruby/object:Api::Type::Boolean
                        name: 'digitalSignature'
                        description: |
                          The key may be used for digital signatures.
                      - !ruby/object:Api::Type::Boolean
                        name: 'contentCommitment'
                        description: |
                          The key may be used for cryptographic commitments. Note that this may also be referred to as "non-repudiation".
                      - !ruby/object:Api::Type::Boolean
                        name: 'keyEncipherment'
                        description: |
                          The key may be used to encipher other keys.
                      - !ruby/object:Api::Type::Boolean
                        name: 'dataEncipherment'
                        description: |
                          The key may be used to encipher data.
                      - !ruby/object:Api::Type::Boolean
                        name: 'keyAgreement'
                        description: |
                          The key may be used in a key agreement protocol.
                      - !ruby/object:Api::Type::Boolean
                        name: 'certSign'
                        description: |
                          The key may be used to sign certificates.
                      - !ruby/object:Api::Type::Boolean
                        name: 'crlSign'
                        description: |
                          The key may be used sign certificate revocation lists.
                      - !ruby/object:Api::Type::Boolean
                        name: 'encipherOnly'
                        description: |
                          The key may be used to encipher only.
                      - !ruby/object:Api::Type::Boolean
                        name: 'decipherOnly'
                        description: |
                          The key may be used to decipher only.
                  - !ruby/object:Api::Type::NestedObject
                    name: 'extendedKeyUsage'
                    required: true
                    description: |
                      Describes high-level ways in which a key may be used.
                    properties:
                      - !ruby/object:Api::Type::Boolean
                        name: 'serverAuth'
                        description: |
                          Corresponds to OID 1.3.6.1.5.5.7.3.1. Officially described as "TLS WWW server authentication", though regularly used for non-WWW TLS.
                      - !ruby/object:Api::Type::Boolean
                        name: 'clientAuth'
                        description: |
                          Corresponds to OID 1.3.6.1.5.5.7.3.2. Officially described as "TLS WWW client authentication", though regularly used for non-WWW TLS.
                      - !ruby/object:Api::Type::Boolean
                        name: 'codeSigning'
                        description: |
                          Corresponds to OID 1.3.6.1.5.5.7.3.3. Officially described as "Signing of downloadable executable code client authentication".
                      - !ruby/object:Api::Type::Boolean
                        name: 'emailProtection'
                        description: |
                          Corresponds to OID 1.3.6.1.5.5.7.3.4. Officially described as "Email protection".
                      - !ruby/object:Api::Type::Boolean
                        name: 'timeStamping'
                        description: |
                          Corresponds to OID 1.3.6.1.5.5.7.3.8. Officially described as "Binding the hash of an object to a time".
                      - !ruby/object:Api::Type::Boolean
                        name: 'ocspSigning'
                        description: |
                          Corresponds to OID 1.3.6.1.5.5.7.3.9. Officially described as "Signing OCSP responses".
                  - !ruby/object:Api::Type::Array
                    name: 'unknownExtendedKeyUsages'
                    description: |
                      An ObjectId specifies an object identifier (OID). These provide context and describe types in ASN.1 messages.
                    item_type: !ruby/object:Api::Type::NestedObject
                      properties:
                        - !ruby/object:Api::Type::Array
                          name: 'objectIdPath'
                          required: true
                          item_type: Api::Type::Integer
                          description: |
                            An ObjectId specifies an object identifier (OID). These provide context and describe types in ASN.1 messages.
          - !ruby/object:Api::Type::NestedObject
            name: 'subjectConfig'
            description: |
                Specifies some of the values in a certificate that are related to the subject.
            required: true
            properties:
            - !ruby/object:Api::Type::NestedObject
              name: 'subject'
              description: Contains distinguished name fields such as the location and organization.
              required: true
              properties:
              - !ruby/object:Api::Type::String
                name: 'countryCode'
                description: The country code of the subject.
                input: true
              - !ruby/object:Api::Type::String
                name: 'organization'
                description: The organization of the subject.
                input: true
                required: true
              - !ruby/object:Api::Type::String
                name: 'organizationalUnit'
                description: The organizational unit of the subject.
                input: true
              - !ruby/object:Api::Type::String
                name: 'locality'
                description: The locality or city of the subject.
                input: true
              - !ruby/object:Api::Type::String
                name: 'province'
                description: The province, territory, or regional state of the subject.
                input: true
              - !ruby/object:Api::Type::String
                name: 'streetAddress'
                description: The street address of the subject.
                input: true
              - !ruby/object:Api::Type::String
                name: 'postalCode'
                description: The postal code of the subject.
                input: true
              - !ruby/object:Api::Type::String
                name: 'commonName'
                description: The common name of the distinguished name.
                required: true
            - !ruby/object:Api::Type::NestedObject
              name: 'subjectAltName'
              description: The subject alternative name fields.
              properties:
              - !ruby/object:Api::Type::Array
                name: 'dnsNames'
                description: Contains only valid, fully-qualified host names.
                item_type: Api::Type::String
                at_least_one_of:
                - config.0.subject_config.0.subject_alt_name.0.dns_names
                - config.0.subject_config.0.subject_alt_name.0.uris
                - config.0.subject_config.0.subject_alt_name.0.email_addresses
                - config.0.subject_config.0.subject_alt_name.0.ip_addresses
                input: true
              - !ruby/object:Api::Type::Array
                name: 'uris'
                description: Contains only valid RFC 3986 URIs.
                item_type: Api::Type::String
                at_least_one_of:
                - config.0.subject_config.0.subject_alt_name.0.dns_names
                - config.0.subject_config.0.subject_alt_name.0.uris
                - config.0.subject_config.0.subject_alt_name.0.email_addresses
                - config.0.subject_config.0.subject_alt_name.0.ip_addresses
                input: true
              - !ruby/object:Api::Type::Array
                name: 'emailAddresses'
                description: Contains only valid RFC 2822 E-mail addresses.
                item_type: Api::Type::String
                at_least_one_of:
                - config.0.subject_config.0.subject_alt_name.0.dns_names
                - config.0.subject_config.0.subject_alt_name.0.uris
                - config.0.subject_config.0.subject_alt_name.0.email_addresses
                - config.0.subject_config.0.subject_alt_name.0.ip_addresses
                input: true
              - !ruby/object:Api::Type::Array
                name: 'ipAddresses'
                description: Contains only valid 32-bit IPv4 addresses or RFC 4291 IPv6 addresses.
                item_type: Api::Type::String
                at_least_one_of:
                - config.0.subject_config.0.subject_alt_name.0.dns_names
                - config.0.subject_config.0.subject_alt_name.0.uris
                - config.0.subject_config.0.subject_alt_name.0.email_addresses
                - config.0.subject_config.0.subject_alt_name.0.ip_addresses
                input: true
      - !ruby/object:Api::Type::String
        name: 'lifetime'
        description: |
          The desired lifetime of the CA certificate. Used to create the "notBeforeTime" and
          "notAfterTime" fields inside an X.509 certificate. A duration in seconds with up to nine
          fractional digits, terminated by 's'. Example: "3.5s".
        default_value: 315360000s  # 10 years
        input: true
      - !ruby/object:Api::Type::NestedObject
        name: 'keySpec'
        description: |
          Used when issuing certificates for this CertificateAuthority. If this CertificateAuthority
          is a self-signed CertificateAuthority, this key is also used to sign the self-signed CA
          certificate. Otherwise, it is used to sign a CSR.
        required: true
        input: true
        properties:
        - !ruby/object:Api::Type::String
          name: 'cloudKmsKeyVersion'
          description: |
            The resource name for an existing Cloud KMS CryptoKeyVersion in the format
            `projects/*/locations/*/keyRings/*/cryptoKeys/*/cryptoKeyVersions/*`.
          exactly_one_of:
          - key_spec.0.cloud_kms_key_version
          - key_spec.0.algorithm
        - !ruby/object:Api::Type::Enum
          name: 'algorithm'
          description: |
            The algorithm to use for creating a managed Cloud KMS key for a for a simplified
            experience. All managed keys will be have their ProtectionLevel as HSM.
          values:
            - :SIGN_HASH_ALGORITHM_UNSPECIFIED
            - :RSA_PSS_2048_SHA256
            - :RSA_PSS_3072_SHA256
            - :RSA_PSS_4096_SHA256
            - :RSA_PKCS1_2048_SHA256
            - :RSA_PKCS1_3072_SHA256
            - :RSA_PKCS1_4096_SHA256
            - :EC_P256_SHA256
            - :EC_P384_SHA384
          exactly_one_of:
          - key_spec.0.cloud_kms_key_version
          - key_spec.0.algorithm
      - !ruby/object:Api::Type::Enum
        name: 'state'
        description: The State for this CertificateAuthority.
        output: true
        values:
          - :STATE_UNSPECIFIED
          - :ENABLED
          - :DISABLED
          - :PENDING_ACTIVATION
          - :PENDING_DELETION
      - !ruby/object:Api::Type::Array
        name: 'pemCaCertificates'
        description: |
          This CertificateAuthority's certificate chain, including the current
          CertificateAuthority's certificate. Ordered such that the root issuer is the final
          element (consistent with RFC 5246). For a self-signed CA, this will only list the current
          CertificateAuthority's certificate.
        item_type: Api::Type::String
        output: true
      - !ruby/object:Api::Type::String
        name: 'gcsBucket'
        description: |
          The name of a Cloud Storage bucket where this CertificateAuthority will publish content,
          such as the CA certificate and CRLs. This must be a bucket name, without any prefixes
          (such as `gs://`) or suffixes (such as `.googleapis.com`). For example, to use a bucket named
          my-bucket, you would simply specify `my-bucket`. If not specified, a managed bucket will be
          created.
        input: true
      - !ruby/object:Api::Type::NestedObject
        name: 'accessUrls'
        description: |
          URLs for accessing content published by this CA, such as the CA certificate and CRLs.
        output: true
        properties:
        - !ruby/object:Api::Type::String
          name: 'caCertificateAccessUrl'
          description: |
            The URL where this CertificateAuthority's CA certificate is published. This will only be
            set for CAs that have been activated.
          output: true
        - !ruby/object:Api::Type::String
          name: 'crlAccessUrl'
          description: |
            The URL where this CertificateAuthority's CRLs are published. This will only be set for
            CAs that have been activated.
          output: true
      - !ruby/object:Api::Type::String
        name: 'createTime'
        description: |
          The time at which this CertificateAuthority was created.

          A timestamp in RFC3339 UTC "Zulu" format, with nanosecond resolution and up to nine
          fractional digits. Examples: "2014-10-02T15:01:23Z" and "2014-10-02T15:01:23.045123456Z".
        output: true
      - !ruby/object:Api::Type::String
        name: 'updateTime'
        description: |
          The time at which this CertificateAuthority was updated.

          A timestamp in RFC3339 UTC "Zulu" format, with nanosecond resolution and up to nine
          fractional digits. Examples: "2014-10-02T15:01:23Z" and "2014-10-02T15:01:23.045123456Z".
        output: true
      - !ruby/object:Api::Type::KeyValuePairs
        name: labels
        description: |
          Labels with user-defined metadata.

          An object containing a list of "key": value pairs. Example: { "name": "wrench", "mass":
          "1.3kg", "count": "3" }.


  # Certificate
  - !ruby/object:Api::Resource
    name: 'Certificate'
    base_url: 'projects/{{project}}/locations/{{location}}/caPools/{{pool}}/certificates'
    create_url: 'projects/{{project}}/locations/{{location}}/caPools/{{pool}}/certificates?certificateId={{name}}'
    delete_url: 'projects/{{project}}/locations/{{location}}/caPools/{{pool}}/certificates/{{name}}:revoke'
    delete_verb: :POST
    input: true
    description: |
      A Certificate corresponds to a signed X.509 certificate issued by a Certificate.
    parameters:    
      - !ruby/object:Api::Type::String
        name: location
        description:  |
          Location of the Certificate. A full list of valid locations can be found by
          running `gcloud privateca locations list`.
        required: true
        input: true
        url_param_only: true
      - !ruby/object:Api::Type::String
        name: certificate_authority
        description:  |
          Certificate Authority name.
        input: true
        url_param_only: true                
    properties:
      - !ruby/object:Api::Type::String
        name: pool
        description: The name of the CaPool this Certificate belongs to.
        required: true
        input: true
        url_param_only: true
      - !ruby/object:Api::Type::String
        name: 'name'
        description: |
          The name for this Certificate.
        required: true
        input: true
        url_param_only: true
      - !ruby/object:Api::Type::String
        name: 'lifetime'
        description: |
          The desired lifetime of the CA certificate. Used to create the "notBeforeTime" and
          "notAfterTime" fields inside an X.509 certificate. A duration in seconds with up to nine
          fractional digits, terminated by 's'. Example: "3.5s".
        default_value: 315360000s  # 10 years
        input: true
      - !ruby/object:Api::Type::NestedObject
        name: 'revocationDetails'
        description: |
          Output only. Details regarding the revocation of this Certificate. This Certificate is 
          considered revoked if and only if this field is present.
        output: true          
        properties:
          - !ruby/object:Api::Type::Enum
            name: 'revocationState'
            output: true
            description: |
              Indicates why a Certificate was revoked.
            values:
              - "REVOCATION_REASON_UNSPECIFIED"
              - "KEY_COMPROMISE"
              - "CERTIFICATE_AUTHORITY_COMPROMISE"
              - "AFFILIATION_CHANGED"
              - "SUPERSEDED"
              - "CESSATION_OF_OPERATION"
              - "CERTIFICATE_HOLD"
              - "PRIVILEGE_WITHDRAWN"
              - "ATTRIBUTE_AUTHORITY_COMPROMISE"
          - !ruby/object:Api::Type::String
            name: 'revocationTime'
            output: true
            description: |
                The time at which this Certificate was revoked.
      - !ruby/object:Api::Type::String
        name: 'pemCertificate'
        output: true
        description: |
            Output only. The pem-encoded, signed X.509 certificate.
      - !ruby/object:Api::Type::NestedObject
        name: 'certificateDescription'
        description: |
          Output only. Details regarding the revocation of this Certificate. This Certificate is considered revoked if and only if this field is present.
        output: true
        properties:
          - !ruby/object:Api::Type::NestedObject
            name: 'subjectDescription'
            output: true
            description: |
              Describes some of the values in a certificate that are related to the subject and lifetime.
            properties:
            - !ruby/object:Api::Type::NestedObject
              name: 'subject'
              output: true
              description: |
                Contains distinguished name fields such as the location and organization.
              properties:
                - !ruby/object:Api::Type::String
                  name: 'countryCode'
                  output: true
                  description: |
                    The country code of the subject.
                - !ruby/object:Api::Type::String
                  name: 'organization'
                  output: true
                  description: |
                    The organization of the subject.
                - !ruby/object:Api::Type::String
                  name: 'organizationalUnit'
                  output: true
                  description: |
                    The organizationalUnit of the subject.
                - !ruby/object:Api::Type::String
                  name: 'locality'
                  output: true
                  description: |
                    The locality or city of the subject.
                - !ruby/object:Api::Type::String
                  name: 'province'
                  output: true
                  description: |
                    The province of the subject.
                - !ruby/object:Api::Type::String
                  name: 'streetAddress'
                  output: true
                  description: |
                    The streetAddress or city of the subject.
                - !ruby/object:Api::Type::String
                  name: 'postalCode'
                  output: true
                  description: |
                    The postalCode or city of the subject.
                - !ruby/object:Api::Type::String
                  name: 'commonName'
                  output: true
                  description: |
                    The "common name" of the distinguished name.
            - !ruby/object:Api::Type::NestedObject
              name: 'subjectAltName'
              output: true
              description: |
                The subject alternative name fields.
              properties:
                - !ruby/object:Api::Type::Array
                  name: 'dnsNames'
                  output: true
                  description: |
                    Contains only valid, fully-qualified host names.
                  item_type: Api::Type::String
                - !ruby/object:Api::Type::Array
                  output: true
                  name: 'uris'
                  description: |
                    Contains only valid RFC 3986 URIs.
                  item_type: Api::Type::String
                - !ruby/object:Api::Type::Array
                  name: 'emailAddresses'
                  output: true
                  item_type: Api::Type::String
                  description: |
                    Contains only valid RFC 2822 E-mail addresses.
                - !ruby/object:Api::Type::Array
                  name: 'ipAddresses'
                  output: true
                  item_type: Api::Type::String
                  description: |
                    Contains only valid 32-bit IPv4 addresses or RFC 4291 IPv6 addresses.
                - !ruby/object:Api::Type::Array
                  name: 'customSans'
                  output: true
                  description: |
                    Contains additional subject alternative name values.
                  item_type: !ruby/object:Api::Type::NestedObject
                    properties:
                    - !ruby/object:Api::Type::NestedObject
                      name: 'obectId'
                      output: true
                      description: |
                        Describes how some of the technical fields in a certificate should be populated.
                      properties:
                      - !ruby/object:Api::Type::Array
                        name: 'objectIdPath'
                        output: true
                        item_type: Api::Type::Integer
                        description: |
                          An ObjectId specifies an object identifier (OID). These provide context and describe types in ASN.1 messages.
                    - !ruby/object:Api::Type::Boolean
                      name: 'critical'
                      output: true
                      description: |
                        Required. Indicates whether or not this extension is critical (i.e., if the client does not know how to handle this extension, the client should consider this to be an error).
                    - !ruby/object:Api::Type::String
                      name: 'value'
                      output: true
                      description: |
                        The value of this X.509 extension.
            - !ruby/object:Api::Type::String
              name: 'hexSerialNumber'
              output: true
              description: |
                The serial number encoded in lowercase hexadecimal.
            - !ruby/object:Api::Type::String
              name: 'lifetime'
              output: true
              description: |
                For convenience, the actual lifetime of an issued certificate. Corresponds to 'notAfterTime' - 'notBeforeTime'.
            - !ruby/object:Api::Type::String
              name: 'notBeforeTime'
              output: true
              description: |
                The time at which the certificate becomes valid.
            - !ruby/object:Api::Type::String
              name: 'notAfterTime'
              output: true
              description: |
                The time at which the certificate expires.
          - !ruby/object:Api::Type::NestedObject
            name: 'configValues'
            output: true
            description: |
              Describes some of the technical fields in a certificate.
            properties:
            - !ruby/object:Api::Type::NestedObject
              name: 'keyUsage'
              output: true
              description: |
                Indicates the intended use for keys that correspond to a certificate.
              properties:
                - !ruby/object:Api::Type::NestedObject
                  name: 'baseKeyUsage'
                  output: true
                  description: |
                    Describes high-level ways in which a key may be used.
                  properties:
                  - !ruby/object:Api::Type::NestedObject
                    name: 'keyUsageOptions'
                    output: true
                    description: |
                      Describes high-level ways in which a key may be used.
                    properties:
                    - !ruby/object:Api::Type::Boolean
                      name: 'digitalSignature'
                      output: true
                      description: |
                        The key may be used for digital signatures.
                    - !ruby/object:Api::Type::Boolean
                      name: 'contentCommitment'
                      output: true
                      description: |
                        The key may be used for cryptographic commitments. Note that this may also be referred to as "non-repudiation".
                    - !ruby/object:Api::Type::Boolean
                      name: 'keyEncipherment'
                      output: true
                      description: |
                        The key may be used to encipher other keys.
                    - !ruby/object:Api::Type::Boolean
                      name: 'dataEncipherment'
                      output: true
                      description: |
                        The key may be used to encipher data.
                    - !ruby/object:Api::Type::Boolean
                      name: 'keyAgreement'
                      output: true
                      description: |
                        The key may be used in a key agreement protocol.
                    - !ruby/object:Api::Type::Boolean
                      name: 'certSign'
                      output: true
                      description: |
                        The key may be used to sign certificates.
                    - !ruby/object:Api::Type::Boolean
                      name: 'crlSign'
                      output: true
                      description: |
                        The key may be used sign certificate revocation lists.
                    - !ruby/object:Api::Type::Boolean
                      name: 'encipherOnly'
                      output: true
                      description: |
                        The key may be used to encipher only.
                    - !ruby/object:Api::Type::Boolean
                      name: 'decipherOnly'
                      output: true
                      description: |
                        The key may be used to decipher only.
                - !ruby/object:Api::Type::NestedObject
                  name: 'extendedKeyUsage'
                  output: true
                  description: |
                    Describes high-level ways in which a key may be used.
                  properties:
                  - !ruby/object:Api::Type::Boolean
                    name: 'serverAuth'
                    output: true
                    description: |
                      Corresponds to OID 1.3.6.1.5.5.7.3.1. Officially described as "TLS WWW server authentication", though regularly used for non-WWW TLS.
                  - !ruby/object:Api::Type::Boolean
                    name: 'clientAuth'
                    output: true
                    description: |
                      Corresponds to OID 1.3.6.1.5.5.7.3.2. Officially described as "TLS WWW client authentication", though regularly used for non-WWW TLS.
                  - !ruby/object:Api::Type::Boolean
                    name: 'codeSigning'
                    output: true
                    description: |
                      Corresponds to OID 1.3.6.1.5.5.7.3.3. Officially described as "Signing of downloadable executable code client authentication".
                  - !ruby/object:Api::Type::Boolean
                    name: 'emailProtection'
                    output: true
                    description: |
                      Corresponds to OID 1.3.6.1.5.5.7.3.4. Officially described as "Email protection".
                  - !ruby/object:Api::Type::Boolean
                    name: 'timeStamping'
                    output: true
                    description: |
                      Corresponds to OID 1.3.6.1.5.5.7.3.8. Officially described as "Binding the hash of an object to a time".
                  - !ruby/object:Api::Type::Boolean
                    name: 'ocspSigning'
                    output: true
                    description: |
                      Corresponds to OID 1.3.6.1.5.5.7.3.9. Officially described as "Signing OCSP responses".
                - !ruby/object:Api::Type::Array
                  name: 'unknownExtendedKeyUsages'
                  output: true
                  description: |
                    An ObjectId specifies an object identifier (OID). These provide context and describe types in ASN.1 messages.
                  item_type: !ruby/object:Api::Type::NestedObject
                    properties:
                    - !ruby/object:Api::Type::NestedObject
                      name: 'obectId' 
                      output: true
                      description: |
                        Required. Describes how some of the technical fields in a certificate should be populated.
                      properties:
                      - !ruby/object:Api::Type::Array
                        name: 'objectIdPath'
                        output: true
                        item_type: Api::Type::Integer
                        description: |
                          An ObjectId specifies an object identifier (OID). These provide context and describe types in ASN.1 messages.
          - !ruby/object:Api::Type::NestedObject
            name: 'publicKey'
            output: true
            description: |
              A PublicKey describes a public key.
            properties:
            - !ruby/object:Api::Type::String
              name: 'key'
              output: true
              description: |
                Required. A public key. When this is specified in a request, the padding and encoding can be any of the options described by the respective 'KeyType' value. When this is generated by the service, it will always be an RFC 5280 SubjectPublicKeyInfo structure containing an algorithm identifier and a key. A base64-encoded string.
            - !ruby/object:Api::Type::Enum
              name: 'format'
              output: true
              description: |
                The format of the public key. Currently, only PEM format is supported.
              values:
                - "KEY_TYPE_UNSPECIFIED"
                - "PEM"
          - !ruby/object:Api::Type::NestedObject
            name: 'subjectKeyId'
            output: true
            description: |
              Provides a means of identifiying certificates that contain a particular public key, per https://tools.ietf.org/html/rfc5280#section-4.2.1.2.
            properties:
            - !ruby/object:Api::Type::String
              name: 'keyId'
              output: true
              description: |
                Optional. The value of this KeyId encoded in lowercase hexadecimal. This is most likely the 160 bit SHA-1 hash of the public key.
          - !ruby/object:Api::Type::NestedObject
            name: 'authorityKeyId'
            output: true
            description: |
              Identifies the subjectKeyId of the parent certificate, per https://tools.ietf.org/html/rfc5280#section-4.2.1.1
            properties:
            - !ruby/object:Api::Type::String
              name: 'keyId'
              output: true
              description: |
                Optional. The value of this KeyId encoded in lowercase hexadecimal. This is most likely the 160 bit SHA-1 hash of the public key.
          - !ruby/object:Api::Type::Array
            name: 'crlDistributionPoints'
            output: true
            description: |
              Describes a list of locations to obtain CRL information, i.e. the DistributionPoint.fullName described by https://tools.ietf.org/html/rfc5280#section-4.2.1.13
            item_type: Api::Type::String
          - !ruby/object:Api::Type::Array
            name: 'aiaIssuingCertificateUrls'
            output: true
            description: |
              Describes lists of issuer CA certificate URLs that appear in the "Authority Information Access" extension in the certificate.
            item_type: Api::Type::String
          - !ruby/object:Api::Type::NestedObject
            name: 'certFingerprint'
            output: true
            description: |
              The hash of the x.509 certificate.
            properties:
            - !ruby/object:Api::Type::String
              name: 'sha256Hash'
              output: true
              description: |
                The SHA 256 hash, encoded in hexadecimal, of the DER x509 certificate.
      - !ruby/object:Api::Type::Array
        name: 'pemCertificates'
        output: true
        description: |
          Required. Expected to be in leaf-to-root order according to RFC 5246.
        item_type: Api::Type::String
      - !ruby/object:Api::Type::Time
        name: 'createTime'
        description: |
          The time that this resource was created on the server.
          This is in RFC3339 text format.
        output: true
      - !ruby/object:Api::Type::Time
        name: 'updateTime'
        description: |
          Output only. The time at which this CertificateAuthority was updated.
          This is in RFC3339 text format.
        output: true
        # Note: would be a resourceref, except that CertificateTemplate is in the DCL
        # and we don't have references across mmv1-dcl bridge yet.
      - !ruby/object:Api::Type::String
        name: 'certificateTemplate'
        input: true
        description: |
          The resource name for a CertificateTemplate used to issue this certificate,
          in the format `projects/*/locations/*/certificateTemplates/*`. If this is specified,
          the caller must have the necessary permission to use this template. If this is
          omitted, no template will be used. This template must be in the same location
          as the Certificate.
      - !ruby/object:Api::Type::KeyValuePairs
        name: 'labels'
        description: |
          Labels with user-defined metadata to apply to this resource.
      - !ruby/object:Api::Type::String
        name: 'pemCsr'
        description: |
          Immutable. A pem-encoded X.509 certificate signing request (CSR).
        exactly_one_of:
          - pem_csr
          - config
      - !ruby/object:Api::Type::NestedObject
        name: 'config'
        description: The config used to create a self-signed X.509 certificate or CSR.
        exactly_one_of:
          - pem_csr
          - config        
        input: true
        properties:
        - !ruby/object:Api::Type::NestedObject
          name: 'x509Config'
          required: true
          send_empty_value: true
          description: |
             Describes how some of the technical X.509 fields in a certificate should be populated.
          properties:
            - !ruby/object:Api::Type::Array
              name: 'additionalExtensions'
              description: |
                Specifies an X.509 extension, which may be used in different parts of X.509 objects like certificates, CSRs, and CRLs.
              item_type: !ruby/object:Api::Type::NestedObject
                properties:
                  - !ruby/object:Api::Type::Boolean
                    name: 'critical'
                    required: true
                    description: |
                      Indicates whether or not this extension is critical (i.e., if the client does not know how to
                      handle this extension, the client should consider this to be an error).
                  - !ruby/object:Api::Type::String
                    name: 'value'
                    required: true
                    description: |
                      The value of this X.509 extension. A base64-encoded string.
                  - !ruby/object:Api::Type::NestedObject
                    name: 'objectId'
                    required: true
                    description: |
                      Describes values that are relevant in a CA certificate.
                    properties:
                      - !ruby/object:Api::Type::Array
                        name: 'objectIdPath'
                        required: true
                        item_type: Api::Type::Integer
                        description: |
                          An ObjectId specifies an object identifier (OID). These provide context and describe types in ASN.1 messages.
            - !ruby/object:Api::Type::Array
              name: 'policyIds'
              description: |
                Describes the X.509 certificate policy object identifiers, per https://tools.ietf.org/html/rfc5280#section-4.2.1.4.
              item_type: !ruby/object:Api::Type::NestedObject
                properties:
                  - !ruby/object:Api::Type::Array
                    name: 'objectIdPath'
                    required: true
                    item_type: Api::Type::Integer
                    description: |
                      An ObjectId specifies an object identifier (OID). These provide context and describe types in ASN.1 messages.
            - !ruby/object:Api::Type::Array
              name: 'aiaOcspServers'
              item_type: Api::Type::String
              description: |
                Describes Online Certificate Status Protocol (OCSP) endpoint addresses that appear in the
                "Authority Information Access" extension in the certificate.
            - !ruby/object:Api::Type::NestedObject
              name: 'caOptions'
              send_empty_value: true
              description: |
                Describes values that are relevant in a CA certificate.
              properties:
                - !ruby/object:Api::Type::Boolean
                  name: 'includeIsCa'
                  url_param_only: true
                  description: |
                    Must be set to true to use is_ca.
                - !ruby/object:Api::Type::Boolean
                  name: 'isCa'
                  description: |
                    Refers to the "CA" X.509 extension, which is a boolean value. When this value is missing,
                    the extension will be omitted from the CA certificate.
                - !ruby/object:Api::Type::Boolean
                  name: 'includeMaxIssuerPathLength'
                  url_param_only: true
                  description: |
                    Must be set to true to use max_issuer_path_length.
                - !ruby/object:Api::Type::Integer
                  name: 'maxIssuerPathLength'
                  description: |
                    Refers to the path length restriction X.509 extension. For a CA certificate, this value describes the depth of
                    subordinate CA certificates that are allowed. If this value is less than 0, the request will fail. If this
                    value is missing, the max path length will be omitted from the CA certificate.
            - !ruby/object:Api::Type::NestedObject
              name: 'keyUsage'
              required: true
              description: |
                Indicates the intended use for keys that correspond to a certificate.
              properties:
                - !ruby/object:Api::Type::NestedObject
                  name: 'baseKeyUsage'
                  required: true
                  description: |
                    Describes high-level ways in which a key may be used.
                  properties:
                    - !ruby/object:Api::Type::Boolean
                      name: 'digitalSignature'
                      description: |
                        The key may be used for digital signatures.
                    - !ruby/object:Api::Type::Boolean
                      name: 'contentCommitment'
                      description: |
                        The key may be used for cryptographic commitments. Note that this may also be referred to as "non-repudiation".
                    - !ruby/object:Api::Type::Boolean
                      name: 'keyEncipherment'
                      description: |
                        The key may be used to encipher other keys.
                    - !ruby/object:Api::Type::Boolean
                      name: 'dataEncipherment'
                      description: |
                        The key may be used to encipher data.
                    - !ruby/object:Api::Type::Boolean
                      name: 'keyAgreement'
                      description: |
                        The key may be used in a key agreement protocol.
                    - !ruby/object:Api::Type::Boolean
                      name: 'certSign'
                      description: |
                        The key may be used to sign certificates.
                    - !ruby/object:Api::Type::Boolean
                      name: 'crlSign'
                      description: |
                        The key may be used sign certificate revocation lists.
                    - !ruby/object:Api::Type::Boolean
                      name: 'encipherOnly'
                      description: |
                        The key may be used to encipher only.
                    - !ruby/object:Api::Type::Boolean
                      name: 'decipherOnly'
                      description: |
                        The key may be used to decipher only.
                - !ruby/object:Api::Type::NestedObject
                  name: 'extendedKeyUsage'
                  required: true
                  description: |
                    Describes high-level ways in which a key may be used.
                  properties:
                    - !ruby/object:Api::Type::Boolean
                      name: 'serverAuth'
                      description: |
                        Corresponds to OID 1.3.6.1.5.5.7.3.1. Officially described as "TLS WWW server authentication", though regularly used for non-WWW TLS.
                    - !ruby/object:Api::Type::Boolean
                      name: 'clientAuth'
                      description: |
                        Corresponds to OID 1.3.6.1.5.5.7.3.2. Officially described as "TLS WWW client authentication", though regularly used for non-WWW TLS.
                    - !ruby/object:Api::Type::Boolean
                      name: 'codeSigning'
                      description: |
                        Corresponds to OID 1.3.6.1.5.5.7.3.3. Officially described as "Signing of downloadable executable code client authentication".
                    - !ruby/object:Api::Type::Boolean
                      name: 'emailProtection'
                      description: |
                        Corresponds to OID 1.3.6.1.5.5.7.3.4. Officially described as "Email protection".
                    - !ruby/object:Api::Type::Boolean
                      name: 'timeStamping'
                      description: |
                        Corresponds to OID 1.3.6.1.5.5.7.3.8. Officially described as "Binding the hash of an object to a time".
                    - !ruby/object:Api::Type::Boolean
                      name: 'ocspSigning'
                      description: |
                        Corresponds to OID 1.3.6.1.5.5.7.3.9. Officially described as "Signing OCSP responses".
                - !ruby/object:Api::Type::Array
                  name: 'unknownExtendedKeyUsages'
                  description: |
                    An ObjectId specifies an object identifier (OID). These provide context and describe types in ASN.1 messages.
                  item_type: !ruby/object:Api::Type::NestedObject
                    properties:
                      - !ruby/object:Api::Type::Array
                        name: 'objectIdPath'
                        required: true
                        item_type: Api::Type::Integer
                        description: |
                          An ObjectId specifies an object identifier (OID). These provide context and describe types in ASN.1 messages.
        - !ruby/object:Api::Type::NestedObject
          name: 'subjectConfig'
          description: |
              Specifies some of the values in a certificate that are related to the subject.
          required: true
          properties:
          - !ruby/object:Api::Type::NestedObject
            name: 'subject'
            description: Contains distinguished name fields such as the location and organization.
            required: true
            properties:
            - !ruby/object:Api::Type::String
              name: 'countryCode'
              description: The country code of the subject.
              input: true
            - !ruby/object:Api::Type::String
              name: 'organization'
              description: The organization of the subject.
              input: true
              required: true
            - !ruby/object:Api::Type::String
              name: 'organizationalUnit'
              description: The organizational unit of the subject.
              input: true
            - !ruby/object:Api::Type::String
              name: 'locality'
              description: The locality or city of the subject.
              input: true
            - !ruby/object:Api::Type::String
              name: 'province'
              description: The province, territory, or regional state of the subject.
              input: true
            - !ruby/object:Api::Type::String
              name: 'streetAddress'
              description: The street address of the subject.
              input: true
            - !ruby/object:Api::Type::String
              name: 'postalCode'
              description: The postal code of the subject.
              input: true
            - !ruby/object:Api::Type::String
              name: 'commonName'
              description: The common name of the distinguished name.
              required: true
          - !ruby/object:Api::Type::NestedObject
            name: 'subjectAltName'
            description: The subject alternative name fields.
            properties:
            - !ruby/object:Api::Type::Array
              name: 'dnsNames'
              description: Contains only valid, fully-qualified host names.
              item_type: Api::Type::String
              at_least_one_of:
              - config.0.subject_config.0.subject_alt_name.0.dns_names
              - config.0.subject_config.0.subject_alt_name.0.uris
              - config.0.subject_config.0.subject_alt_name.0.email_addresses
              - config.0.subject_config.0.subject_alt_name.0.ip_addresses
              input: true
            - !ruby/object:Api::Type::Array
              name: 'uris'
              description: Contains only valid RFC 3986 URIs.
              item_type: Api::Type::String
              at_least_one_of:
              - config.0.subject_config.0.subject_alt_name.0.dns_names
              - config.0.subject_config.0.subject_alt_name.0.uris
              - config.0.subject_config.0.subject_alt_name.0.email_addresses
              - config.0.subject_config.0.subject_alt_name.0.ip_addresses
              input: true
            - !ruby/object:Api::Type::Array
              name: 'emailAddresses'
              description: Contains only valid RFC 2822 E-mail addresses.
              item_type: Api::Type::String
              at_least_one_of:
              - config.0.subject_config.0.subject_alt_name.0.dns_names
              - config.0.subject_config.0.subject_alt_name.0.uris
              - config.0.subject_config.0.subject_alt_name.0.email_addresses
              - config.0.subject_config.0.subject_alt_name.0.ip_addresses
              input: true
            - !ruby/object:Api::Type::Array
              name: 'ipAddresses'
              description: Contains only valid 32-bit IPv4 addresses or RFC 4291 IPv6 addresses.
              item_type: Api::Type::String
              at_least_one_of:
              - config.0.subject_config.0.subject_alt_name.0.dns_names
              - config.0.subject_config.0.subject_alt_name.0.uris
              - config.0.subject_config.0.subject_alt_name.0.email_addresses
              - config.0.subject_config.0.subject_alt_name.0.ip_addresses
              input: true
        - !ruby/object:Api::Type::NestedObject
          name: 'publicKey'
          required: true
          description: |
            A PublicKey describes a public key.
          properties:
          - !ruby/object:Api::Type::String
            name: 'key'
            description: |
              Required. A public key. When this is specified in a request, the padding and encoding can be any of the options described by the respective 'KeyType' value. When this is generated by the service, it will always be an RFC 5280 SubjectPublicKeyInfo structure containing an algorithm identifier and a key. A base64-encoded string.
          - !ruby/object:Api::Type::Enum
            name: 'format'
            required: true
            description: |
              The format of the public key. Currently, only PEM format is supported.
            values:
              - "KEY_TYPE_UNSPECIFIED"
              - "PEM"
  - !ruby/object:Api::Resource
    name: 'CaPool'
    base_url: 'projects/{{project}}/locations/{{location}}/caPools'
    create_url: 'projects/{{project}}/locations/{{location}}/caPools?caPoolId={{name}}'
    self_link: 'projects/{{project}}/locations/{{location}}/caPools/{{name}}'
    update_verb: :PATCH
    update_mask: true
    async: !ruby/object:Api::OpAsync
        operation: !ruby/object:Api::OpAsync::Operation
          base_url: '{{op_id}}'
          path: 'name'
          wait_ms: 1000
        result: !ruby/object:Api::OpAsync::Result
          path: 'response'
          resource_inside_response: true
        status: !ruby/object:Api::OpAsync::Status
          path: 'done'
          complete: True
          allowed:
            - True
            - False
        error: !ruby/object:Api::OpAsync::Error
          path: 'error'
          message: 'message'
    description: |
      A CaPool represents a group of CertificateAuthorities that form a trust anchor. A CaPool can be used to manage
      issuance policies for one or more CertificateAuthority resources and to rotate CA certificates in and out of the
      trust anchor.
    parameters:    
      - !ruby/object:Api::Type::String
        name: location
        description:  |
          Location of the CaPool. A full list of valid locations can be found by
          running `gcloud privateca locations list`.
        required: true
        input: true
        url_param_only: true        
    properties:
      - !ruby/object:Api::Type::String
        name: 'name'
        description: |
          The name for this CaPool.
        required: true
        input: true
        url_param_only: true
      - !ruby/object:Api::Type::Enum
        name: 'tier'
        description: |
          The Tier of this CaPool.
        values:
          - "ENTERPRISE"
          - "DEVOPS"
        input: true
        required: true
      - !ruby/object:Api::Type::NestedObject
        name: 'issuancePolicy'
        description: |
          The IssuancePolicy to control how Certificates will be issued from this CaPool.
        properties:
          - !ruby/object:Api::Type::Array
            name: 'allowedKeyTypes'
            description: |
               If any AllowedKeyType is specified, then the certificate request's public key must match one of the key types listed here.
               Otherwise, any key may be used.
            item_type: !ruby/object:Api::Type::NestedObject
              properties:
                - !ruby/object:Api::Type::NestedObject
                  name: 'rsa'
                  description: |
                    Describes an RSA key that may be used in a Certificate issued from a CaPool.
                  properties:
                    - !ruby/object:Api::Type::String
                      name: 'minModulusSize'
                      description: |
                         The minimum allowed RSA modulus size, in bits. If this is not set, or if set to zero, the
                         service-level min RSA modulus size will continue to apply.
                    - !ruby/object:Api::Type::String
                      name: 'maxModulusSize'
                      description: |
                         The maximum allowed RSA modulus size, in bits. If this is not set, or if set to zero, the
                         service will not enforce an explicit upper bound on RSA modulus sizes.
                - !ruby/object:Api::Type::NestedObject
                  name: 'ellipticCurve'
                  description: |
                    Represents an allowed Elliptic Curve key type.
                  properties:
                    - !ruby/object:Api::Type::Enum
                      name: 'signatureAlgorithm'
                      description: |
                         The algorithm used.
                      required: true
                      values:
                        - ECDSA_P256
                        - ECDSA_P384
                        - EDDSA_25519
          - !ruby/object:Api::Type::String
            name: 'maximumLifetime'
            description: |
              The maximum lifetime allowed for issued Certificates. Note that if the issuing CertificateAuthority
              expires before a Certificate's requested maximumLifetime, the effective lifetime will be explicitly truncated to match it.
          - !ruby/object:Api::Type::NestedObject
            name: 'allowedIssuanceModes'
            description: |
              IssuanceModes specifies the allowed ways in which Certificates may be requested from this CaPool.
            properties:
              - !ruby/object:Api::Type::Boolean
                name: 'allowCsrBasedIssuance'
                required: true
                description: |
                   When true, allows callers to create Certificates by specifying a CSR.
              - !ruby/object:Api::Type::Boolean
                name: 'allowConfigBasedIssuance'
                required: true
                description: |
                   When true, allows callers to create Certificates by specifying a CertificateConfig.
          - !ruby/object:Api::Type::NestedObject
            name: 'identityConstraints'
            description: |
              Describes constraints on identities that may appear in Certificates issued through this CaPool.
              If this is omitted, then this CaPool will not add restrictions on a certificate's identity.
            properties:
              - !ruby/object:Api::Type::Boolean
                name: 'allowSubjectPassthrough'
                required: true
                send_empty_value: true
                description: |
                   If this is set, the Subject field may be copied from a certificate request into the signed certificate.
                   Otherwise, the requested Subject will be discarded.
              - !ruby/object:Api::Type::Boolean
                name: 'allowSubjectAltNamesPassthrough'
                required: true
                send_empty_value: true
                description: |
                   If this is set, the SubjectAltNames extension may be copied from a certificate request into the signed certificate.
                   Otherwise, the requested SubjectAltNames will be discarded.
              - !ruby/object:Api::Type::NestedObject
                name: 'celExpression'
                description: |
                  A CEL expression that may be used to validate the resolved X.509 Subject and/or Subject Alternative Name before a
                  certificate is signed. To see the full allowed syntax and some examples,
                  see https://cloud.google.com/certificate-authority-service/docs/cel-guide
                properties:
                  - !ruby/object:Api::Type::String
                    name: 'expression'
                    required: true
                    description: |
                       Textual representation of an expression in Common Expression Language syntax.
                  - !ruby/object:Api::Type::String
                    name: 'title'
                    description: |
                       Title for the expression, i.e. a short string describing its purpose. This can be used e.g. in UIs which allow to enter the expression.
                  - !ruby/object:Api::Type::String
                    name: 'description'
                    description: |
                       Description of the expression. This is a longer text which describes the expression, e.g. when hovered over it in a UI.
                  - !ruby/object:Api::Type::String
                    name: 'location'
                    description: |
                       String indicating the location of the expression for error reporting, e.g. a file name and a position in the file.
          - !ruby/object:Api::Type::NestedObject
            name: 'baselineValues'
            description: |
              A set of X.509 values that will be applied to all certificates issued through this CaPool. If a certificate request
              includes conflicting values for the same properties, they will be overwritten by the values defined here. If a certificate
              request uses a CertificateTemplate that defines conflicting predefinedValues for the same properties, the certificate
              issuance request will fail.
            properties:
              - !ruby/object:Api::Type::Array
                name: 'additionalExtensions'
                description: |
                  Specifies an X.509 extension, which may be used in different parts of X.509 objects like certificates, CSRs, and CRLs.
                item_type: !ruby/object:Api::Type::NestedObject
                  properties:
                    - !ruby/object:Api::Type::Boolean
                      name: 'critical'
                      required: true
                      description: |
                        Indicates whether or not this extension is critical (i.e., if the client does not know how to
                        handle this extension, the client should consider this to be an error).
                    - !ruby/object:Api::Type::String
                      name: 'value'
                      required: true
                      description: |
                        The value of this X.509 extension. A base64-encoded string.
                    - !ruby/object:Api::Type::NestedObject
                      name: 'objectId'
                      required: true
                      description: |
                        Describes values that are relevant in a CA certificate.
                      properties:
                        - !ruby/object:Api::Type::Array
                          name: 'objectIdPath'
                          required: true
                          item_type: Api::Type::Integer
                          description: |
                            An ObjectId specifies an object identifier (OID). These provide context and describe types in ASN.1 messages.
              - !ruby/object:Api::Type::Array
                name: 'policyIds'
                description: |
                  Describes the X.509 certificate policy object identifiers, per https://tools.ietf.org/html/rfc5280#section-4.2.1.4.
                item_type: !ruby/object:Api::Type::NestedObject
                  properties:
                    - !ruby/object:Api::Type::Array
                      name: 'objectIdPath'
                      required: true
                      item_type: Api::Type::Integer
                      description: |
                        An ObjectId specifies an object identifier (OID). These provide context and describe types in ASN.1 messages.
              - !ruby/object:Api::Type::Array
                name: 'aiaOcspServers'
                item_type: Api::Type::String
                description: |
                  Describes Online Certificate Status Protocol (OCSP) endpoint addresses that appear in the
                  "Authority Information Access" extension in the certificate.
              - !ruby/object:Api::Type::NestedObject
                name: 'caOptions'
                required: true
                description: |
                  Describes values that are relevant in a CA certificate.
                properties:
                  - !ruby/object:Api::Type::Boolean
                    name: 'includeIsCa'
                    url_param_only: true
                    description: |
                      Must be set to true to use is_ca.
                  - !ruby/object:Api::Type::Boolean
                    name: 'isCa'
                    description: |
                      Refers to the "CA" X.509 extension, which is a boolean value. When this value is missing,
                      the extension will be omitted from the CA certificate.
                  - !ruby/object:Api::Type::Boolean
                    name: 'includeMaxIssuerPathLength'
                    url_param_only: true
                    description: |
                      Must be set to true to use max_issuer_path_length.
                  - !ruby/object:Api::Type::Integer
                    name: 'maxIssuerPathLength'
                    description: |
                      Refers to the path length restriction X.509 extension. For a CA certificate, this value describes the depth of
                      subordinate CA certificates that are allowed. If this value is less than 0, the request will fail. If this
                      value is missing, the max path length will be omitted from the CA certificate.
              - !ruby/object:Api::Type::NestedObject
                name: 'keyUsage'
                required: true
                description: |
                  Indicates the intended use for keys that correspond to a certificate.
                properties:
                  - !ruby/object:Api::Type::NestedObject
                    name: 'baseKeyUsage'
                    required: true
                    description: |
                      Describes high-level ways in which a key may be used.
                    properties:
                      - !ruby/object:Api::Type::Boolean
                        name: 'digitalSignature'
                        description: |
                          The key may be used for digital signatures.
                      - !ruby/object:Api::Type::Boolean
                        name: 'contentCommitment'
                        description: |
                          The key may be used for cryptographic commitments. Note that this may also be referred to as "non-repudiation".
                      - !ruby/object:Api::Type::Boolean
                        name: 'keyEncipherment'
                        description: |
                          The key may be used to encipher other keys.
                      - !ruby/object:Api::Type::Boolean
                        name: 'dataEncipherment'
                        description: |
                          The key may be used to encipher data.
                      - !ruby/object:Api::Type::Boolean
                        name: 'keyAgreement'
                        description: |
                          The key may be used in a key agreement protocol.
                      - !ruby/object:Api::Type::Boolean
                        name: 'certSign'
                        description: |
                          The key may be used to sign certificates.
                      - !ruby/object:Api::Type::Boolean
                        name: 'crlSign'
                        description: |
                          The key may be used sign certificate revocation lists.
                      - !ruby/object:Api::Type::Boolean
                        name: 'encipherOnly'
                        description: |
                          The key may be used to encipher only.
                      - !ruby/object:Api::Type::Boolean
                        name: 'decipherOnly'
                        description: |
                          The key may be used to decipher only.
                  - !ruby/object:Api::Type::NestedObject
                    name: 'extendedKeyUsage'
                    required: true
                    description: |
                      Describes high-level ways in which a key may be used.
                    properties:
                      - !ruby/object:Api::Type::Boolean
                        name: 'serverAuth'
                        description: |
                          Corresponds to OID 1.3.6.1.5.5.7.3.1. Officially described as "TLS WWW server authentication", though regularly used for non-WWW TLS.
                      - !ruby/object:Api::Type::Boolean
                        name: 'clientAuth'
                        description: |
                          Corresponds to OID 1.3.6.1.5.5.7.3.2. Officially described as "TLS WWW client authentication", though regularly used for non-WWW TLS.
                      - !ruby/object:Api::Type::Boolean
                        name: 'codeSigning'
                        description: |
                          Corresponds to OID 1.3.6.1.5.5.7.3.3. Officially described as "Signing of downloadable executable code client authentication".
                      - !ruby/object:Api::Type::Boolean
                        name: 'emailProtection'
                        description: |
                          Corresponds to OID 1.3.6.1.5.5.7.3.4. Officially described as "Email protection".
                      - !ruby/object:Api::Type::Boolean
                        name: 'timeStamping'
                        description: |
                          Corresponds to OID 1.3.6.1.5.5.7.3.8. Officially described as "Binding the hash of an object to a time".
                      - !ruby/object:Api::Type::Boolean
                        name: 'ocspSigning'
                        description: |
                          Corresponds to OID 1.3.6.1.5.5.7.3.9. Officially described as "Signing OCSP responses".
                  - !ruby/object:Api::Type::Array
                    name: 'unknownExtendedKeyUsages'
                    description: |
                      An ObjectId specifies an object identifier (OID). These provide context and describe types in ASN.1 messages.
                    item_type: !ruby/object:Api::Type::NestedObject
                      properties:
                        - !ruby/object:Api::Type::Array
                          name: 'objectIdPath'
                          required: true
                          item_type: Api::Type::Integer
                          description: |
                            An ObjectId specifies an object identifier (OID). These provide context and describe types in ASN.1 messages.
      - !ruby/object:Api::Type::NestedObject
        name: 'publishingOptions'
        description: |
          The PublishingOptions to follow when issuing Certificates from any CertificateAuthority in this CaPool.
        properties:
          - !ruby/object:Api::Type::Boolean
            name: 'publishCaCert'
            required: true
            description: |
              When true, publishes each CertificateAuthority's CA certificate and includes its URL in the "Authority Information Access"
              X.509 extension in all issued Certificates. If this is false, the CA certificate will not be published and the corresponding
              X.509 extension will not be written in issued certificates.
          - !ruby/object:Api::Type::Boolean
            name: 'publishCrl'
            required: true
            description: |
              When true, publishes each CertificateAuthority's CRL and includes its URL in the "CRL Distribution Points" X.509 extension
              in all issued Certificates. If this is false, CRLs will not be published and the corresponding X.509 extension will not
              be written in issued certificates. CRLs will expire 7 days from their creation. However, we will rebuild daily. CRLs are
              also rebuilt shortly after a certificate is revoked.
      - !ruby/object:Api::Type::KeyValuePairs
        name: labels
        description: |
          Labels with user-defined metadata.

          An object containing a list of "key": value pairs. Example: { "name": "wrench", "mass":
          "1.3kg", "count": "3" }.




