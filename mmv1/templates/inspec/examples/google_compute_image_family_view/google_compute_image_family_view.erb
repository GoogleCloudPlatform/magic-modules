<% gcp_project_id = "#{external_attribute(pwd, 'gcp_project_id', doc_generation)}" -%>
<% image_family_views = grab_attributes(pwd)['image_family_views'] -%>
describe google_compute_image_family_view(project: <%= gcp_project_id -%>, zone: <%= doc_generation ? "'#{image_family_views['zone']}'" : "image_family_views['zone']" -%>, name: <%= doc_generation ? "'#{image_family_views['family']}'" : "image_family_views['family']" -%>) do
  it { should exist }
  it { should be_up }
  its('image_name') { should eq <%= doc_generation ? "'#{image_family_views['name']}'" : "image_family_views['name']" -%> }
  its('image_source_type') { should eq <%= doc_generation ? "'#{image_family_views['source_type']}'" : "image_family_views['source_type']" -%> }
  its('image_family') { should eq <%= doc_generation ? "'#{image_family_views['family']}'" : "image_family_views['family']" -%> }
end