config := meta.(*transport_tpg.Config)

body := make(map[string]interface{})

if d.HasChange("key_project") {
    keyProjectProp, _ := expandKMSAutokeyConfigKeyProject(d.Get("key_project"), d, config)
    if v, ok := d.GetOkExists("key_project"); !tpgresource.IsEmptyValue(reflect.ValueOf(keyProjectProp)) && (ok || !reflect.DeepEqual(v, keyProjectProp)) {
        body["keyProject"] = keyProjectProp
    } else {
        body["keyProject"] = nil
    }
}

if d.HasChange("key_project_resolution_mode") {
    keyProjectResolutionModeProp, _ := expandKMSAutokeyConfigKeyProjectResolutionMode(d.Get("key_project_resolution_mode"), d, config)
    if v, ok := d.GetOkExists("key_project_resolution_mode"); !tpgresource.IsEmptyValue(reflect.ValueOf(keyProjectResolutionModeProp)) && (ok || !reflect.DeepEqual(v, keyProjectResolutionModeProp)) {
        body["keyProjectResolutionMode"] = keyProjectResolutionModeProp
    } else {
        body["keyProjectResolutionMode"] = nil
    }
}

return body, nil