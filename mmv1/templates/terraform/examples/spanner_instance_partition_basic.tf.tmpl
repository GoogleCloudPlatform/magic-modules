resource "google_spanner_instance" "main" {
  config       = "regional-us-central1"
  display_name = "main-instance"
  num_nodes    = 1
}

resource "google_spanner_instance_partition" "partition" {
  name         = "{{index $.Vars "partition_name"}}"
  instance     = google_spanner_instance.main.name
  config       = "regional-us-central1"
  display_name = "test-spanner-partition"
  node_count   = 1
} 