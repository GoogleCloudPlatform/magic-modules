resource "google_org_policy_policy" "primary" {
  provider = google-beta
  name     = "projects/${google_project.basic.name}/policies/iam.managed.disableServiceAccountKeyUpload"
  parent   = "projects/${google_project.basic.name}"

  spec {
    rules {
      enforce = "FALSE"
      parameters {
      	"allowAll" : true
	"allowedLocations" : ["us-east1", "us-west1"]
      }
    }
  }
}

resource "google_project" "basic" {
  project_id = "id"
  name       = "id"
  org_id     = "123456789"
  deletion_policy = "DELETE"
}
