
resource "google_edgenetwork_subnet" "<%= ctx[:primary_resource_id] %>" {
  subnet_id   = "<%= ctx[:vars]['edgenetwork_subnet_id'] %>"
  location    = "<%= ctx[:test_env_vars]['location'] %>"
  zone        = "<%= ctx[:test_env_vars]['zone'] %>"
  description = "Example subnet."
  network     = google_edgenetwork_network.example_network.id
  ipv4_cidr   = ["4.4.4.1/24"]
  labels      = {
    "environment" : "dev"
  }
}

resource "google_edgenetwork_network" "example_network" {
  network_id  = "<%= ctx[:vars]['edgenetwork_network_id'] %>"
  location    = "<%= ctx[:test_env_vars]['location'] %>"
  zone        = "<%= ctx[:test_env_vars]['zone'] %>"
  description = "Example network."
  mtu         = 9000
}
