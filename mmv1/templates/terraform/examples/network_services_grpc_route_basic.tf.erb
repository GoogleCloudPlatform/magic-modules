resource "google_network_services_grpc_route" "<%= ctx[:primary_resource_id] %>" {
  provider               = google-beta
  name                   = "<%= ctx[:vars]['resource_name'] %>"
  labels                 = {
    foo = "bar"
  }
  description             = "my description"
  hostnames               = ["example"]
  rules                   {
    matches {
      headers {
        key = "key"
        value = "value"
      }
    }
    action {
      retry_policy {
          retry_conditions = ["server_error"]
          num_retries = 1
      }
    }
  }
}

