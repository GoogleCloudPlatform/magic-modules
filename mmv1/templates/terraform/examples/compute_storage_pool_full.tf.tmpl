resource "google_compute_storage_pool" "{{$.PrimaryResourceId}}" {
  name = "{{index $.Vars "storage_pool_name"}}"

  capacity_provisioning_type   = "STANDARD"
  pool_provisioned_capacity_gb = "10240"

  performance_provisioning_type = "STANDARD"
  pool_provisioned_iops         = "10000"
  pool_provisioned_throughput   = "1024"

  storage_pool_type = "https://www.googleapis.com/compute/v1/projects/${data.google_project.project.project_id}/zones/us-central1-a/storagePoolTypes/hyperdisk-balanced"

  deletion_protection = false
}

data "google_project" "project" {}
