resource "google_developer_connect_connection" "<%= ctx[:primary_resource_id] %>" {
  provider = google-beta
  location = "us-central1"
  connection_id = "<%= ctx[:vars]['connection_name'] %>"

  github_config {
    github_app = "DEVELOPER_CONNECT"

    authorizer_credential {
      oauth_token_secret_version = "projects/devconnect-terraform-creds/secrets/tf-example-test-github-oauthtoken-e1689b/versions/1"
    }
  }
}
