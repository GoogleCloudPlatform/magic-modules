data "google_project" "project" {}

resource "google_compute_interconnect" "<%= ctx[:primary_resource_id] %>" {
  name                 = "<%= ctx[:vars]['interconnect_name'] %>"
  customer_name        = "<%= ctx[:vars]['customer_name'] %>"
  interconnect_type    = "DEDICATED"
  link_type            = "LINK_TYPE_ETHERNET_10G_LR"
  location             = "https://www.googleapis.com/compute/v1/projects/${data.google_project.project.name}/global/interconnectLocations/iad-zone1-1"
  requested_link_count = 1
}
