resource "google_project" "default" {
	provider = google-beta

	project_id = "tf-test%{random_suffix}"
	name       = "tf-test%{random_suffix}"
	org_id     = "<%= ctx[:test_env_vars]['org_id'] %>"
}

resource "google_firestore_database" "<%= ctx[:primary_resource_id] %>" {
    provider = "google-beta"

    project = google_project.default.project_id

    # For Datastore Mode databases, use the empty string rather than "default" for the default database
    name = ""

    location_id = "nam5"
    type        = "DATASTORE_MODE"
}
