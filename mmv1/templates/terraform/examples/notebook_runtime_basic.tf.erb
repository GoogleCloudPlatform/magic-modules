# This is the body POST found from browser.
# {
#    "accessConfig":{
#       "accessType":"SINGLE_USER",
#       "runtimeOwner":"matthieum@google.com"
#    },
#    "softwareConfig":{
#       "enableHealthMonitoring":true,
#       "idleShutdown":true,
#       "idleShutdownTimeout":180,
#       "installGpuDriver":false
#    },
#    "virtualMachine":{
#       "virtualMachineConfig":{
#          "zone":"us-central1-c",
#          "machineType":"n1-standard-4",
#          "dataDisk":{
#             "initializeParams":{
#                "diskSizeGb":"100",
#                "diskType":"PD_STANDARD"
#             }
#          },
#          "internalIpOnly":false,
#          "metadata":{}
#       }
#    }
# }

resource "google_notebooks_runtime" "<%= ctx[:primary_resource_id] %>" {
  name = "<%= ctx[:vars]["runtime_name"] %>"
  location = "us-central1-a"
  virtual_machine {
    virtual_machine_config {
      zone = "us-central1-c"
      machine_type = "n1-standard-4"
      data_disk {
        initialize_params {
          disk_size_gb = "100"
          disk_type = "PD_STANDARD"
        }
      }
    }
  }
}
