resource "google_project" "my_project" {
  provider   = google-beta
  name       = "tf-test-project"
  project_id = "{{index $.Vars "project_id"}}"
  org_id     = "{{index $.TestEnvVars "org_id"}}"
}

resource "google_service_usage_consumer_quota_override" "override" {
  provider       = google-beta
  project        = google_project.my_project.project_id
  service        = "libraryagent.googleapis.com"
  metric         = urlencode("libraryagent.googleapis.com/borrows")
  limit          = urlencode("/author/project")
  override_value = "1"
  force          = true
  dimensions = {
    author = "larry"
  }
}
