resource "google_dataform_folder" "dataforn_folder_basic" {
  provider = google-beta
  region = "us-central1"
  name = "parent-{{index $.Vars "dataform_folder_name"}}"
  display_name = "Root Folder"
}

resource "google_dataform_folder" {{$.PrimaryResourceId}} {
  provider = google-beta
  region = "us-central1"
  name = "{{index $.Vars "dataform_folder_name"}}"
  display_name = "Nested Folder"
  containing_folder = google_dataform_folder.dataforn_folder_basic.id
}