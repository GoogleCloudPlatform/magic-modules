// "name" is not output-only so the code to set it doesn't get generated; do it ourselves:
if err := d.Set("name", flatten<%= resource_name -%>Name(res["name"], d, config)); err != nil {
    return fmt.Errorf(`Error setting computed identity field "name": %s`, err)
}

// Re-store the ID now
id, err = tpgresource.ReplaceVars(d, config, "<%= id_format(object) -%>")
if err != nil {
    return fmt.Errorf("Error constructing id: %s", err)
}
d.SetId(id)
