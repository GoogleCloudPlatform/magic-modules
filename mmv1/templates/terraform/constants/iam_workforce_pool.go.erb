const workforcePoolIdRegexp = `^[0-9a-z-]+$`

func validateWorkforcePoolId(v interface{}, k string) (ws []string, errors []error) {
    value := v.(string)

    if strings.HasPrefix(value, "gcp-") {
        errors = append(errors, fmt.Errorf(
            "%q (%q) can not start with \"gcp-\"", k, value))
    }

    if strings.HasSuffix(value, "-") {
        errors = append(errors, fmt.Errorf(
            "%q (%q) can not end with \"-\"", k, value))
    }

    if !regexp.MustCompile(workforcePoolIdRegexp).MatchString(value) {
        errors = append(errors, fmt.Errorf(
            "%q must contain only lowercase letters (a-z), numbers (0-9), or dashes (-)", k))
    }

    if len(value) < 6 {
        errors = append(errors, fmt.Errorf(
            "%q cannot be smaller than 6 characters", k))
    }

    if len(value) > 63 {
        errors = append(errors, fmt.Errorf(
            "%q cannot be greater than 63 characters", k))
    }

    if len(value) > 0 && (value[0] < 'a' || 'z' < value[0]) {
        errors = append(errors, fmt.Errorf(
            "%q must start with a lowercase letter", k))
    }

    return
}