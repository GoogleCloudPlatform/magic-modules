newUpdateMask := []string{"minInstances", "maxInstances"}

if d.HasChange("min_instances") && !d.HasChange("max_instances") {
    obj["maxInstances"] = d.Get("max_instances").(int)
}

if d.HasChange("max_instances") && !d.HasChange("min_instances") {
    obj["minInstances"] = d.Get("min_instances").(int)
}

if d.HasChange("machine_type") {
    newUpdateMask = append(updateMask, "machineType")
}

// Overwrite the previously set mask.
url, err = transport_tpg.AddQueryParams(url, map[string]string{"updateMask": strings.Join(newUpdateMask, ",")})
if err != nil {
    return err
}
