<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="New handwritten datasources require new handwritten documentation to be created."><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><meta property="og:title" content="Add datasource documentation"><meta property="og:description" content="New handwritten datasources require new handwritten documentation to be created."><meta property="og:type" content="article"><meta property="og:url" content="https://googlecloudplatform.github.io/magic-modules/develop/add-handwritten-datasource-documentation/"><meta property="article:section" content="develop"><meta property="article:modified_time" content="2023-07-25T21:30:36+00:00"><title>Add datasource documentation | Magic Modules</title><link rel=manifest href=/magic-modules/manifest.json><link rel=icon href=/magic-modules/favicon.png type=image/x-icon><link rel=stylesheet href=/magic-modules/book.min.33a48f5432973b8ff9a82679d9e45d67f2c15d4399bd2829269455cfe390b5e8.css integrity="sha256-M6SPVDKXO4/5qCZ52eRdZ/LBXUOZvSgpJpRVz+OQteg=" crossorigin=anonymous><script defer src=/magic-modules/flexsearch.min.js></script>
<script defer src=/magic-modules/en.search.min.771ffa3a545c91c29f129a3dd31907538c9d90d02c1d004feecfbe92e6de5c49.js integrity="sha256-dx/6OlRckcKfEpo90xkHU4ydkNAsHQBP7s++kubeXEk=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/magic-modules/><img src=/magic-modules/magic-modules.svg alt=Logo><span>Magic Modules</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><a href=/magic-modules/>Overview</a></li></ul><ul><li><span>Get started</span><ul><li><a href=/magic-modules/get-started/generate-providers/>Generate the providers</a></li><li><a href=/magic-modules/get-started/how-magic-modules-works/>How Magic Modules works</a></li><li><a href=/magic-modules/get-started/contribution-process/>Contribution process</a></li><li><a href=/magic-modules/get-started/provider-documentation/>Provider documentation</a></li></ul></li><li><span>Develop</span><ul><li><a href=/magic-modules/develop/resource/>Add or modify a resource</a></li><li><a href=/magic-modules/develop/test/>Add resource tests</a></li><li><a href=/magic-modules/develop/add-handwritten-datasource/>Add a datasource</a></li><li><a href=/magic-modules/develop/add-handwritten-datasource-documentation/ class=active>Add datasource documentation</a></li><li><a href=/magic-modules/develop/promote-to-ga/>Promote to GA</a></li><li><a href=/magic-modules/develop/run-tests/>Run tests</a></li><li><a href=/magic-modules/develop/make-a-breaking-change/>Make a breaking change</a></li><li><a href=/magic-modules/develop/breaking-changes/>Types of breaking changes</a></li></ul></li><li><a href=/magic-modules/best-practices/>Best practices</a><ul></ul></li><li><span>Contribute</span><ul><li><a href=/magic-modules/contribute/release-notes/>Write release notes</a></li><li><a href=/magic-modules/contribute/review-pr/>Review a PR</a></li></ul></li><li><span>Reference</span><ul><li><a href=/magic-modules/reference/make-commands/>make commands</a></li><li><a href=https://github.com/GoogleCloudPlatform/magic-modules/blob/main/mmv1/api/resource.rb target=_blank rel=noopener>Resource YAML reference ↗</a></li><li><a href=https://github.com/GoogleCloudPlatform/magic-modules/blob/main/mmv1/api/type.rb target=_blank rel=noopener>Field YAML reference ↗</a></li><li><a href=https://github.com/GoogleCloudPlatform/magic-modules/blob/main/mmv1/api/resource/iam_policy.rb target=_blank rel=noopener>IAM policy YAML reference ↗</a></li></ul></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/magic-modules/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Add datasource documentation</strong>
<label for=toc-control><img src=/magic-modules/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#how-provider-documentation-works>How provider documentation works</a></li><li><a href=#finding-the-relevant-file-location>Finding the relevant file location</a></li><li><a href=#creating-the-new-markdown-file>Creating the new markdown file</a></li><li><a href=#adding-contents>Adding contents</a><ul><li><a href=#frontmatter>Frontmatter</a></li><li><a href=#page-title-and-description>Page title and description</a></li><li><a href=#example-usage>Example usage</a></li><li><a href=#argument-reference>Argument reference</a></li><li><a href=#attribute-reference>Attribute reference</a></li></ul></li></ul></nav></aside></header><article class=markdown><h1 id=add-data-source-documentation>Add data source documentation
<a class=anchor href=#add-data-source-documentation>#</a></h1><blockquote class="book-hint info"><strong>Note:</strong> If you want to find information about documentation for a generated resource, look at the <a href=https://googlecloudplatform.github.io/magic-modules/develop/resource/>MMv1 resource documentation</a> page instead. The information on this page will not be relevant for resources that have generated documentation.</blockquote><h2 id=how-provider-documentation-works>How provider documentation works
<a class=anchor href=#how-provider-documentation-works>#</a></h2><p>For general information about how provider documentation works, see <a href=https://googlecloudplatform.github.io/magic-modules/get-started/provider-documentation/>Provider Documentation</a>.
That page contains information about how documentation should be structured and how you can test changes to documentation.</p><p>This page includes only instructions on how to add documentation for a new handwritten data source, with minimal background info.</p><h2 id=finding-the-relevant-file-location>Finding the relevant file location
<a class=anchor href=#finding-the-relevant-file-location>#</a></h2><p>Handwritten documentation is located in the <code>website/docs</code> folder, shown below.</p><pre tabindex=0><code>mmv1/third_party/terraform/website/docs/
├─ guides/
│  ├─ ...
├─ d/
│  ├─ ...
├─ r/
│  ├─ ...
├─ index.html.markdown
</code></pre><p>The subfolder <code>d</code> corresponds to data sources, and inside there is a file for each data source.</p><h2 id=creating-the-new-markdown-file>Creating the new markdown file
<a class=anchor href=#creating-the-new-markdown-file>#</a></h2><p>Next you need to add the file for the new data source&rsquo;s documentation. Create a new file inside the <code>d</code> folder. The filename should be the name of the data source with the <code>google_</code> prefix removed. For example if you were adding a new data source <code>google_foobar</code> then you would need to create a new file with the name <code>foobar.html.markdown</code>.</p><h2 id=adding-contents>Adding contents
<a class=anchor href=#adding-contents>#</a></h2><p>Pages within the documentation need to be consistent and contain the sections that users expect. Below is some guidance about the different sections to include and what their contents should be.</p><h3 id=frontmatter>Frontmatter
<a class=anchor href=#frontmatter>#</a></h3><p>The top of the file needs to contain frontmatter, which is used to create the new documentation page&rsquo;s title and manage how the page is linked to in the documentation&rsquo;s sidebar navigation. It it not rendered but it is very important for the new page in the documentation to be generated and available to users.</p><p>You need to make sure your file&rsquo;s frontmatter includes:</p><ul><li><code>subcategory</code> - This sets which section in the left-side navigation menu the new page is categorised into.</li><li><code>page_title</code> - This frontmatter is specific to files in the Guides section (<code>/website/docs/guides</code>) but we set it for all markdown files.</li><li><code>description</code> - A description of the page.</li></ul><p>For example, here is the frontmatter from <code>/website/docs/d/container_cluster.html.markdown</code> (<a href=https://registry.terraform.io/providers/hashicorp/google/latest/docs/data-sources/container_cluster>link to generated page</a>):</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-markdown data-lang=markdown><span style=display:flex><span>---
</span></span><span style=display:flex><span>subcategory: &#34;Kubernetes (Container) Engine&#34;
</span></span><span style=display:flex><span>page_title: &#34;Google: google_container_cluster&#34;
</span></span><span style=display:flex><span>description: |-
</span></span><span style=display:flex><span>  Get info about a Google Kubernetes Engine cluster.
</span></span><span style=display:flex><span>---
</span></span></code></pre></div><h3 id=page-title-and-description>Page title and description
<a class=anchor href=#page-title-and-description>#</a></h3><p>The next section in the markdown file is rendered as the first part of the page body.</p><p>It should contain:</p><ul><li>the page title, as an H1 header</li><li>a description general information about the data source</li></ul><p>The description can be as long or as short as necessary. The minimum information that&rsquo;s included in this section are links to official documentation and the API reference pages. Other guidance, warnings, or explanations of concepts can be included here. To create pronounced warning or info sections, see the <a href=https://googlecloudplatform.github.io/magic-modules/get-started/provider-documentation/#what-formatting-is-available>provider documentation</a> page for info.</p><p>For example, here&rsquo;s the title and opening description of <code>/website/docs/d/cloud_run_locations.html.markdown</code> (<a href=https://registry.terraform.io/providers/hashicorp/google/latest/docs/data-sources/cloud_run_locations>link to generated page</a>):</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-markdown data-lang=markdown><span style=display:flex><span># google\_cloud\_run\_locations
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Get Cloud Run locations available for a project. 
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>To get more information about Cloud Run, see:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>*</span> [<span style=color:#f92672>API documentation</span>](<span style=color:#a6e22e>https://cloud.google.com/run/docs/reference/rest/v1/projects.locations</span>)
</span></span><span style=display:flex><span><span style=color:#66d9ef>*</span> How-to Guides
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>*</span> [<span style=color:#f92672>Official Documentation</span>](<span style=color:#a6e22e>https://cloud.google.com/run/docs/</span>)
</span></span></code></pre></div><h3 id=example-usage>Example usage
<a class=anchor href=#example-usage>#</a></h3><p>The next section includes one or more examples showing how a user may use the data source in their Terraform configuration. The examples can be basic and show what the minimum number of arguments are required, or they can be used to demonstrate more complex usage of the data source if necessary.</p><p>For example, here&rsquo;s the example usage section from <code>/website/docs/d/kms_crypto_key.html.markdown</code> (<a href=https://registry.terraform.io/providers/hashicorp/google/latest/docs/data-sources/kms_crypto_key>link to generated page</a>):</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-markdown data-lang=markdown><span style=display:flex><span><span style=color:#75715e>## Example Usage
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span>```hcl
</span></span><span style=display:flex><span>data &#34;google_kms_key_ring&#34; &#34;my_key_ring&#34; {
</span></span><span style=display:flex><span>  name     = &#34;my-key-ring&#34;
</span></span><span style=display:flex><span>  location = &#34;us-central1&#34;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>data &#34;google_kms_crypto_key&#34; &#34;my_crypto_key&#34; {
</span></span><span style=display:flex><span>  name     = &#34;my-crypto-key&#34;
</span></span><span style=display:flex><span>  key_ring = data.google_kms_key_ring.my_key_ring.id
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=argument-reference>Argument reference
<a class=anchor href=#argument-reference>#</a></h3><p>The argument reference section tells user about the fields in the schema which they can set via their Terraform configuration. The fields are listed using bullet points, and each field is marked with whether it is required or optional.</p><p>For example, this is the argument reference section from <code>/website/docs/d/compute_backend_bucket.html.markdown</code>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-markdown data-lang=markdown><span style=display:flex><span><span style=color:#75715e>## Argument Reference
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span>The following arguments are supported:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>*</span> <span style=color:#e6db74>`name`</span> - (Required) Name of the resource.
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>-</span> - -
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>*</span> <span style=color:#e6db74>`project`</span> - (Optional) The ID of the project in which the resource belongs. If it
</span></span><span style=display:flex><span>    is not provided, the provider project is used.
</span></span></code></pre></div><h4 id=nested-blocks>Nested blocks
<a class=anchor href=#nested-blocks>#</a></h4><p>If the data source contains a <strong>nested block</strong> we include the name of the nested block in the list of arguments and then link to a dedicated section below that describes all arguments within that block. If there are multiple levels of nesting in a block then this approach should be repeated.</p><p>For example in <code>/website/docs/d/cloud_identity_group_membership.html.markdown</code> the <code>roles</code> attribute is documented using this approach. To see it in action, view <a href=https://registry.terraform.io/providers/hashicorp/google/latest/docs/data-sources/cloud_identity_group_membership#roles>the attribute in the documentation</a>.</p><p>Inside the list of arguments there is this entry, which contains a link to a target elsewhere on the page:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-markdown data-lang=markdown><span style=display:flex><span><span style=color:#66d9ef>*</span> <span style=color:#e6db74>`roles`</span> - The MembershipRoles that apply to the Membership. Structure is [<span style=color:#f92672>documented below</span>](<span style=color:#a6e22e>#nested_roles</span>).
</span></span></code></pre></div><p>Under the list of arguments there are sections like this that contain an anchor tag that defines the target of the hyperlink above using the <a href=https://developer.mozilla.org/en-US/docs/Web/HTML/Element/a#attr-name>name attribute</a>. These sections should be in the same order that the blocks&rsquo; names are listed in the documentation.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-markdown data-lang=markdown><span style=display:flex><span>&lt;<span style=color:#f92672>a</span> <span style=color:#a6e22e>name</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;nested_roles&#34;</span>&gt;&lt;/<span style=color:#f92672>a</span>&gt;The <span style=color:#e6db74>`roles`</span> block supports:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>*</span> <span style=color:#e6db74>`name`</span> - The name of the MembershipRole. One of OWNER, MANAGER, MEMBER.
</span></span></code></pre></div><h3 id=attribute-reference>Attribute reference
<a class=anchor href=#attribute-reference>#</a></h3><p>Attributes are exported values that can be accessed from a data source (or resource) and are not set by the users Terraform configuration. They could be computed values, or values read from the API.</p><p>If the data source has the same attributes as its equivalent resource in the provider, you can just link to the documentation for the resource. This avoids duplicating information that already exists elsewhere.</p><p>For example the documentation for the <code>google_storage_bucket</code> data source links to the <code>google_storage_bucket</code> resource documentation (<a href=https://registry.terraform.io/providers/hashicorp/google/latest/docs/data-sources/storage_bucket#attributes-reference>see here</a>)</p><p>If there isn&rsquo;t an equivalent resource in the provider, or the attributes are different, then document the attributes in a bulleted list as usual. Nested blocks are documented in the way previously described above.</p></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/GoogleCloudPlatform/magic-modules/commit/22e76ac59da09ed0a33a598979c69481baa51965 title='Last modified by Thomas Rodgers | July 25, 2023' target=_blank rel=noopener><img src=/magic-modules/svg/calendar.svg class=book-icon alt=Calendar>
<span>July 25, 2023</span></a></div><div><a class="flex align-center" href="https://github.com/hashicorp/terraform-provider-google/issues/new?assignees=&labels=technical-debt,documentation&projects=&title=MM%20docsite%20issue%20in%20content/develop%2fadd-handwritten-datasource-documentation.md&template=11_developer_productivity.md" target=_blank rel=noopener><img src=/magic-modules/report.svg class=book-icon alt=Edit>
<span>Report documentation issue</span></a></div><div><a class="flex align-center" href=https://github.com/GoogleCloudPlatform/magic-modules/edit/main/docs/content/develop/add-handwritten-datasource-documentation.md target=_blank rel=noopener><img src=/magic-modules/svg/edit.svg class=book-icon alt=Edit>
<span>Edit this page</span></a></div></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#how-provider-documentation-works>How provider documentation works</a></li><li><a href=#finding-the-relevant-file-location>Finding the relevant file location</a></li><li><a href=#creating-the-new-markdown-file>Creating the new markdown file</a></li><li><a href=#adding-contents>Adding contents</a><ul><li><a href=#frontmatter>Frontmatter</a></li><li><a href=#page-title-and-description>Page title and description</a></li><li><a href=#example-usage>Example usage</a></li><li><a href=#argument-reference>Argument reference</a></li><li><a href=#attribute-reference>Attribute reference</a></li></ul></li></ul></nav></div></aside></main></body></html>