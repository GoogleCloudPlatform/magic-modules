<!doctype html><html lang=en-us dir=ltr><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="
  Add a field to an existing resource
  #

This page describes how to add a field to an existing resource in the google or google-beta Terraform
provider using MMv1 and/or handwritten code. In general, Terraform resources should implement all configurable
fields and all read-only fields. Even fields that seem like they would not be useful in Terraform
(like update time or etag) often end up being requested by users, so it&rsquo;s usually easier to just add them all at
once. However, optional or read-only fields can be omitted when adding a resource if they would require significant
additional work to implement."><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#343a40"><meta name=color-scheme content="light dark"><meta property="og:url" content="https://googlecloudplatform.github.io/magic-modules/develop/add-fields/"><meta property="og:site_name" content="Magic Modules"><meta property="og:title" content="Add a field to an existing resource"><meta property="og:description" content="Add a field to an existing resource # This page describes how to add a field to an existing resource in the google or google-beta Terraform provider using MMv1 and/or handwritten code. In general, Terraform resources should implement all configurable fields and all read-only fields. Even fields that seem like they would not be useful in Terraform (like update time or etag) often end up being requested by users, so it’s usually easier to just add them all at once. However, optional or read-only fields can be omitted when adding a resource if they would require significant additional work to implement."><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="develop"><meta property="article:modified_time" content="2024-12-16T14:01:21-05:00"><title>Add a field to an existing resource | Magic Modules</title>
<link rel=manifest href=/magic-modules/manifest.json><link rel=icon href=/magic-modules/favicon.png><link rel=canonical href=https://googlecloudplatform.github.io/magic-modules/develop/add-fields/><link rel=stylesheet href=/magic-modules/book.min.309b7ed028807cdb68d8d61e26d609f48369c098dbf5e4d8c0dcf4cdf49feafc.css integrity="sha256-MJt+0CiAfNto2NYeJtYJ9INpwJjb9eTYwNz0zfSf6vw=" crossorigin=anonymous><script defer src=/magic-modules/fuse.min.js></script><script defer src=/magic-modules/en.search.min.f2fa01ab22b3e56affa1eb359fa5cb313d4958ce8a6dd0c1af61563b805a3926.js integrity="sha256-8voBqyKz5Wr/oes1n6XLMT1JWM6KbdDBr2FWO4BaOSY=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/magic-modules/><img src=/magic-modules/magic-modules.svg alt=Logo><span>Magic Modules</span></a></h2><div class="book-search hidden"><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><script>document.querySelector(".book-search").classList.remove("hidden")</script><ul><li><a href=/magic-modules/>Overview</a></li></ul><ul><li><a href=/magic-modules/contribution-process/>Contribution process</a></li><li><span>Develop</span><ul><li><a href=/magic-modules/develop/set-up-dev-environment/>Set up your development environment</a></li><li><a href=/magic-modules/develop/add-resource/>Add a resource</a></li><li><a href=/magic-modules/develop/add-fields/ class=active>Add a field to an existing resource</a></li><li><a href=/magic-modules/develop/add-iam-support/>Add IAM support</a></li><li><a href=/magic-modules/develop/add-handwritten-datasource/>Add a datasource</a></li><li><a href=/magic-modules/develop/custom-code/>Add custom resource code</a></li><li><a href=/magic-modules/develop/promote-to-ga/>Promote to GA</a></li><li><a href=/magic-modules/develop/update-dependencies/>Update dependencies</a></li><li><a href=/magic-modules/develop/diffs/>Fix diffs</a></li><li><a href=/magic-modules/develop/generate-providers/>Generate the providers</a></li><li><a href=/magic-modules/develop/client-side-fields/>Client-side fields</a></li></ul></li><li><span>Test</span><ul><li><a href=/magic-modules/test/test/>Add resource tests</a></li><li><a href=/magic-modules/test/run-tests/>Run tests</a></li></ul></li><li><span>Document</span><ul><li><a href=/magic-modules/document/add-documentation/>Add documentation</a></li><li><a href=/magic-modules/document/handwritten-docs-style-guide/>Handwritten docs style guide</a></li></ul></li><li><span>Breaking changes</span><ul><li><a href=/magic-modules/breaking-changes/breaking-changes/>Types of breaking changes</a></li><li><a href=/magic-modules/breaking-changes/make-a-breaking-change/>Make a breaking change</a></li></ul></li><li><span>Code review</span><ul><li><a href=/magic-modules/code-review/create-pr/>Create a pull request</a></li><li><a href=/magic-modules/code-review/release-notes/>Write release notes</a></li><li><a href=/magic-modules/code-review/review-pr/>Review a pull request</a></li></ul></li><li><span>Best practices</span><ul><li><a href=/magic-modules/best-practices/immutable-fields/>Immutable fields</a></li><li><a href=/magic-modules/best-practices/deletion-behaviors/>Deletion behaviors</a></li><li><a href=/magic-modules/best-practices/labels-and-annotations/>Labels and annotations</a></li><li><a href=/magic-modules/best-practices/common-resource-patterns/>Common resource patterns</a></li></ul></li><li><span>Reference</span><ul><li><a href=/magic-modules/reference/resource/>MMv1 resource reference</a></li><li><a href=/magic-modules/reference/field/>MMv1 field reference</a></li><li><a href=/magic-modules/reference/make-commands/>make commands</a></li><li><a href=/magic-modules/reference/metadata/>MMv1 metadata reference</a></li><li><a href=/magic-modules/reference/ruby-go-changes/>Ruby to Go Migration</a></li></ul></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/magic-modules/svg/menu.svg class=book-icon alt=Menu>
</label><strong>Add a field to an existing resource</strong>
<label for=toc-control><img src=/magic-modules/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#before-you-begin>Before you begin</a></li><li><a href=#add-fields>Add fields</a></li><li><a href=#whats-next>What&rsquo;s next?</a></li></ul></nav></aside></header><article class="markdown book-article"><h1 id=add-a-field-to-an-existing-resource>Add a field to an existing resource
<a class=anchor href=#add-a-field-to-an-existing-resource>#</a></h1><p>This page describes how to add a field to an existing resource in the <code>google</code> or <code>google-beta</code> Terraform
provider using MMv1 and/or handwritten code. In general, Terraform resources should implement all configurable
fields and all read-only fields. Even fields that seem like they would not be useful in Terraform
(like update time or etag) often end up being requested by users, so it&rsquo;s usually easier to just add them all at
once. However, optional or read-only fields can be omitted when adding a resource if they would require significant
additional work to implement.</p><p>For more information about types of resources and the generation process overall, see <a href=https://googlecloudplatform.github.io/magic-modules/>How Magic Modules works</a>.</p><h2 id=before-you-begin>Before you begin
<a class=anchor href=#before-you-begin>#</a></h2><ol><li>Complete the steps in <a href=https://googlecloudplatform.github.io/magic-modules/develop/set-up-dev-environment/>Set up your development environment</a> to set up your environment and your Google Cloud project.</li><li><a href=https://googlecloudplatform.github.io/magic-modules/develop/add-resource/>Ensure the resource to which you want to add the fields exists in the provider</a>.</li><li>Ensure that your <code>magic-modules</code>, <code>terraform-provider-google</code>, and <code>terraform-provider-google-beta</code> repositories are up to date.<pre tabindex=0><code>cd ~/magic-modules
git checkout main &amp;&amp; git clean -f . &amp;&amp; git checkout -- . &amp;&amp; git pull
cd $GOPATH/src/github.com/hashicorp/terraform-provider-google
git checkout main &amp;&amp; git clean -f . &amp;&amp; git checkout -- . &amp;&amp; git pull
cd $GOPATH/src/github.com/hashicorp/terraform-provider-google-beta
git checkout main &amp;&amp; git clean -f . &amp;&amp; git checkout -- . &amp;&amp; git pull
</code></pre></li></ol><h2 id=add-fields>Add fields
<a class=anchor href=#add-fields>#</a></h2><div class=book-tabs><input type=radio class=toggle name=tabs-fields id=tabs-fields-0 checked>
<label for=tabs-fields-0>MMv1</label><div class="book-tabs-content markdown-inner"><ol><li>For each API field, copy the following template into the resource&rsquo;s <code>properties</code> attribute. Be sure to indent appropriately.</li></ol><div class=book-tabs><input type=radio class=toggle name="tabs-MMv1 types" id="tabs-MMv1 types-0" checked>
<label for="tabs-MMv1 types-0">Simple</label><div class="book-tabs-content markdown-inner"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span>- <span style=color:#f92672>name</span>: <span style=color:#e6db74>&#39;API_FIELD_NAME&#39;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>type</span>: <span style=color:#ae81ff>String</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>description</span>: |<span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    MULTILINE_FIELD_DESCRIPTION</span>    
</span></span><span style=display:flex><span>  <span style=color:#f92672>min_version</span>: <span style=color:#ae81ff>beta</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>immutable</span>: <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>required</span>: <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>output</span>: <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>conflicts</span>:
</span></span><span style=display:flex><span>    - <span style=color:#ae81ff>field_one</span>
</span></span><span style=display:flex><span>    - <span style=color:#ae81ff>nested_object.0.nested_field</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>exactly_one_of</span>:
</span></span><span style=display:flex><span>    - <span style=color:#ae81ff>field_one</span>
</span></span><span style=display:flex><span>    - <span style=color:#ae81ff>nested_object.0.nested_field</span>
</span></span></code></pre></div><p>Replace <code>String</code> in the field type with one of the following options:</p><ul><li><code>String</code></li><li><code>Integer</code></li><li><code>Boolean</code></li><li><code>Double</code></li><li><code>KeyValuePairs</code> (string -> string map)</li><li><code>KeyValueLabels</code> (for standard resource &rsquo;labels&rsquo; field)</li><li><code>KeyValueAnnotations</code> (for standard resource &lsquo;annotations&rsquo; field)</li></ul></div><input type=radio class=toggle name="tabs-MMv1 types" id="tabs-MMv1 types-1">
<label for="tabs-MMv1 types-1">Enum</label><div class="book-tabs-content markdown-inner"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span>- <span style=color:#f92672>name</span>: <span style=color:#e6db74>&#39;API_FIELD_NAME&#39;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>type</span>: <span style=color:#ae81ff>Enum</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>description</span>: |<span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    MULTILINE_FIELD_DESCRIPTION</span>    
</span></span><span style=display:flex><span>  <span style=color:#f92672>min_version</span>: <span style=color:#ae81ff>beta</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>immutable</span>: <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>required</span>: <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>output</span>: <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>conflicts</span>:
</span></span><span style=display:flex><span>    - <span style=color:#ae81ff>field_one</span>
</span></span><span style=display:flex><span>    - <span style=color:#ae81ff>nested_object.0.nested_field</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>exactly_one_of</span>:
</span></span><span style=display:flex><span>    - <span style=color:#ae81ff>field_one</span>
</span></span><span style=display:flex><span>    - <span style=color:#ae81ff>nested_object.0.nested_field</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>enum_values</span>:
</span></span><span style=display:flex><span>    - <span style=color:#e6db74>&#39;VALUE_ONE&#39;</span>
</span></span><span style=display:flex><span>    - <span style=color:#e6db74>&#39;VALUE_TWO&#39;</span>
</span></span></code></pre></div></div><input type=radio class=toggle name="tabs-MMv1 types" id="tabs-MMv1 types-2">
<label for="tabs-MMv1 types-2">ResourceRef</label><div class="book-tabs-content markdown-inner"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span>- <span style=color:#f92672>name</span>: <span style=color:#e6db74>&#39;API_FIELD_NAME&#39;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>type</span>: <span style=color:#ae81ff>ResourceRef</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>description</span>: |<span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    MULTILINE_FIELD_DESCRIPTION</span>    
</span></span><span style=display:flex><span>  <span style=color:#f92672>min_version</span>: <span style=color:#ae81ff>beta</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>immutable</span>: <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>required</span>: <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>output</span>: <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>conflicts</span>:
</span></span><span style=display:flex><span>    - <span style=color:#ae81ff>field_one</span>
</span></span><span style=display:flex><span>    - <span style=color:#ae81ff>nested_object.0.nested_field</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>exactly_one_of</span>:
</span></span><span style=display:flex><span>    - <span style=color:#ae81ff>field_one</span>
</span></span><span style=display:flex><span>    - <span style=color:#ae81ff>nested_object.0.nested_field</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>resource</span>: <span style=color:#e6db74>&#39;ResourceName&#39;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>imports</span>: <span style=color:#e6db74>&#39;name&#39;</span>
</span></span></code></pre></div></div><input type=radio class=toggle name="tabs-MMv1 types" id="tabs-MMv1 types-3">
<label for="tabs-MMv1 types-3">Array</label><div class="book-tabs-content markdown-inner"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span>- <span style=color:#f92672>name</span>: <span style=color:#e6db74>&#39;API_FIELD_NAME&#39;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>type</span>: <span style=color:#ae81ff>Array</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>description</span>: |<span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    MULTILINE_FIELD_DESCRIPTION</span>    
</span></span><span style=display:flex><span>  <span style=color:#f92672>min_version</span>: <span style=color:#ae81ff>beta</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>immutable</span>: <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>required</span>: <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>output</span>: <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>conflicts</span>:
</span></span><span style=display:flex><span>    - <span style=color:#ae81ff>field_one</span>
</span></span><span style=display:flex><span>    - <span style=color:#ae81ff>nested_object.0.nested_field</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>exactly_one_of</span>:
</span></span><span style=display:flex><span>    - <span style=color:#ae81ff>field_one</span>
</span></span><span style=display:flex><span>    - <span style=color:#ae81ff>nested_object.0.nested_field</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Array of primitives</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>item_type</span>: 
</span></span><span style=display:flex><span>    <span style=color:#f92672>type</span>: <span style=color:#ae81ff>String</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Array of nested objects</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>item_type</span>: 
</span></span><span style=display:flex><span>    <span style=color:#f92672>type</span>: <span style=color:#ae81ff>NestedObject</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>properties</span>:
</span></span><span style=display:flex><span>      - <span style=color:#f92672>name</span>: <span style=color:#e6db74>&#39;FIELD_NAME&#39;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>type</span>: <span style=color:#ae81ff>String</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>description</span>: |<span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          MULTI_LINE_FIELD_DESCRIPTION</span>          
</span></span></code></pre></div></div><input type=radio class=toggle name="tabs-MMv1 types" id="tabs-MMv1 types-4">
<label for="tabs-MMv1 types-4">NestedObject</label><div class="book-tabs-content markdown-inner"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span>- <span style=color:#f92672>name</span>: <span style=color:#e6db74>&#39;API_FIELD_NAME&#39;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>type</span>: <span style=color:#ae81ff>NestedObject</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>description</span>: |<span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    MULTILINE_FIELD_DESCRIPTION</span>    
</span></span><span style=display:flex><span>  <span style=color:#f92672>min_version</span>: <span style=color:#ae81ff>beta</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>immutable</span>: <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>required</span>: <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>output</span>: <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>conflicts</span>:
</span></span><span style=display:flex><span>    - <span style=color:#ae81ff>field_one</span>
</span></span><span style=display:flex><span>    - <span style=color:#ae81ff>nested_object.0.nested_field</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>exactly_one_of</span>:
</span></span><span style=display:flex><span>    - <span style=color:#ae81ff>field_one</span>
</span></span><span style=display:flex><span>    - <span style=color:#ae81ff>nested_object.0.nested_field</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>properties</span>:
</span></span><span style=display:flex><span>    - <span style=color:#f92672>name</span>: <span style=color:#e6db74>&#39;FIELD_NAME&#39;</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>type</span>: <span style=color:#ae81ff>String</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>description</span>: |<span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        MULTI_LINE_FIELD_DESCRIPTION</span>        
</span></span></code></pre></div></div><input type=radio class=toggle name="tabs-MMv1 types" id="tabs-MMv1 types-5">
<label for="tabs-MMv1 types-5">Map</label><div class="book-tabs-content markdown-inner"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span>  - <span style=color:#f92672>name</span>: <span style=color:#e6db74>&#39;API_FIELD_NAME&#39;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>type</span>: <span style=color:#ae81ff>Map</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>description</span>: |<span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>      MULTILINE_FIELD_DESCRIPTION</span>      
</span></span><span style=display:flex><span>    <span style=color:#f92672>key_name</span>: <span style=color:#e6db74>&#39;KEY_NAME&#39;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>key_description</span>: |<span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>      MULTILINE_KEY_FIELD_DESCRIPTION</span>      
</span></span><span style=display:flex><span>    <span style=color:#f92672>value_type</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>name</span>: <span style=color:#ae81ff>mapObjectName</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>type</span>: <span style=color:#ae81ff>NestedObject</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>properties</span>:
</span></span><span style=display:flex><span>      - <span style=color:#f92672>name</span>: <span style=color:#e6db74>&#39;FIELD_NAME&#39;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>type</span>: <span style=color:#ae81ff>String</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>description</span>: |<span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          MULTI_LINE_FIELD_DESCRIPTION</span>          
</span></span></code></pre></div><p>This type is only used for string -> complex type mappings, use &ldquo;KeyValuePairs&rdquo; for simple mappings. Complex maps can&rsquo;t be represented natively in Terraform, and this type is transformed into an associative array (TypeSet) with the key merged into the object alongside other top-level fields.</p><p>For <code>key_name</code> and <code>key_description</code>, provide a domain-appropriate name and description. For example, a map that references a specific type of resource would generally use the singular resource kind as the key name (such as &ldquo;topic&rdquo; for PubSub Topic) and a descriptor of the expected format depending on the context (such as resourceId vs full resource name).</p></div></div><ol start=2><li>Modify the field configuration according to the API documentation and behavior.</li></ol><blockquote><p><strong>Note:</strong> The templates in this section only include the most commonly-used fields. For a comprehensive reference, see <a href=https://googlecloudplatform.github.io/magic-modules/reference/field/>MMv1 field reference</a>. For information about modifying the values sent and received for a field, see <a href=https://googlecloudplatform.github.io/magic-modules/develop/custom-code/#modify-the-api-request-or-response>Modify the API request or response</a>.</p></blockquote></div><input type=radio class=toggle name=tabs-fields id=tabs-fields-1>
<label for=tabs-fields-1>Handwritten</label><div class="book-tabs-content markdown-inner"><ol><li>Add the field to the handwritten resource&rsquo;s schema.<ul><li>The new field(s) should mirror the API&rsquo;s structure to ease predictability and maintenance. However, if there is an existing related / similar field in the resource that uses a different convention, follow that convention instead.</li><li>Enum fields in the API should be represented as <code>TypeString</code> in Terraform for forwards-compatibility. Link to the API documentation of allowed values in the field description.</li><li>Terraform field names should always use <a href=https://en.wikipedia.org/wiki/Snake_case>snake case ↗</a>.</li><li>See <a href=https://developer.hashicorp.com/terraform/plugin/sdkv2/schemas/schema-types>Schema Types ↗</a> and <a href=https://developer.hashicorp.com/terraform/plugin/sdkv2/schemas/schema-behaviors>Schema Behaviors ↗</a> for more information about field schemas.</li></ul></li><li>Add handling for the new field in the resource&rsquo;s Create method and Update methods.<ul><li>&ldquo;Expanders&rdquo; convert Terraform resource data to API request data.</li><li>For top level fields, add an expander. If the field is set or has changed, call the expander and add the resulting value to the API request.</li><li>For other fields, add logic to the parent field&rsquo;s expander to add the field to the API request. Use a nested expander for complex logic.</li></ul></li><li>Add handling for the new field in the resource&rsquo;s Read method.<ul><li>&ldquo;Flatteners&rdquo; convert API response data to Terraform resource data.</li><li>For top level fields, add a flattener. Call <code>d.Set()</code> on the flattened API response value to store it in Terraform state.</li><li>For other fields, add logic to the parent field&rsquo;s flattener to convert the value from the API response to the Terraform state value. Use a nested flattener for complex logic.</li></ul></li><li>If any of the added Go code (including any imports) is beta-only, change the file suffix to <code>.go.tmpl</code> and wrap the beta-only code in a version guard: <code>{{- if ne $.TargetVersionName "ga" -}}...{{- else }}...{{- end }}</code>.<ul><li>Add a new guard rather than adding the field to an existing guard; it is easier to read.</li></ul></li></ol></div></div><h2 id=whats-next>What&rsquo;s next?
<a class=anchor href=#whats-next>#</a></h2><ul><li><a href=https://googlecloudplatform.github.io/magic-modules/develop/add-iam-support/>Add IAM support</a></li><li><a href=https://googlecloudplatform.github.io/magic-modules/document/add-documentation/>Add documentation</a></li><li><a href=https://googlecloudplatform.github.io/magic-modules/develop/custom-code/>Add custom resource code</a></li><li><a href=https://googlecloudplatform.github.io/magic-modules/test/test/>Add tests</a></li><li><a href=https://googlecloudplatform.github.io/magic-modules/test/run-tests/>Run tests</a></li></ul></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/GoogleCloudPlatform/magic-modules/commit/369c73a05c4f5b810dd9eae1b30b8371a78ab7cd title='Last modified by nityaravi | December 16, 2024' target=_blank rel=noopener><img src=/magic-modules/svg/calendar.svg class=book-icon alt=Calendar>
<span>December 16, 2024</span></a></div><div><a class="flex align-center" href="https://github.com/hashicorp/terraform-provider-google/issues/new?assignees=&labels=technical-debt,documentation&projects=&title=MM%20docsite%20issue%20in%20content/develop%2fadd-fields.md&template=11_developer_productivity.md" target=_blank rel=noopener><img src=/magic-modules/report.svg class=book-icon alt=Edit>
<span>Report documentation issue</span></a></div><div><a class="flex align-center" href=https://github.com/GoogleCloudPlatform/magic-modules/edit/main/docs/content/develop/add-fields.md target=_blank rel=noopener><img src=/magic-modules/svg/edit.svg class=book-icon alt=Edit>
<span>Edit this page</span></a></div></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#before-you-begin>Before you begin</a></li><li><a href=#add-fields>Add fields</a></li><li><a href=#whats-next>What&rsquo;s next?</a></li></ul></nav></div></aside></main></body></html>