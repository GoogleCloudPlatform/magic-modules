<!doctype html><html lang=en-us dir=ltr><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="
  Update provider dependencies
  #

The Magic Modules repository does not contain a complete Go module, preventing the use of automated tooling like go get from that repository. To add or update provider dependencies, use standard Go tooling to update the dependency in the terraform-provider-google provider and copy the results to the upstream files in Magic Modules.
Below are the steps you can follow to make the change:

Navigate to the local google provider directory:

cd $GOPATH/src/github.com/hashicorp/terraform-provider-google

Open the go.mod file and add the new entries or modify the versions of existing entries as needed
Update dependencies using either of the following methods

run the following commands to update all dependencies:

go get
go mod tidy

Alternatively, update a specific package to a desired version:

go get google.golang.org/api@v0.105.0 
go mod tidy

Copy the contents of the updated go.mod and go.sum file into mmv1/third_party/terraform/go.mod and mmv1/third_party/terraform/go.sum in the magic-modules respectively.
Create a pull request containing only the dependency changes.
Resolve any errors caused by the dependency upgrade.
After the dependency pull request is merged, continue with a separate pull request for any additional changes that were blocked by the upgrade.
"><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#343a40"><meta name=color-scheme content="light dark"><meta property="og:url" content="https://googlecloudplatform.github.io/magic-modules/develop/update-dependencies/"><meta property="og:site_name" content="Magic Modules"><meta property="og:title" content="Update dependencies"><meta property="og:description" content="Update provider dependencies # The Magic Modules repository does not contain a complete Go module, preventing the use of automated tooling like go get from that repository. To add or update provider dependencies, use standard Go tooling to update the dependency in the terraform-provider-google provider and copy the results to the upstream files in Magic Modules.
Below are the steps you can follow to make the change:
Navigate to the local google provider directory: cd $GOPATH/src/github.com/hashicorp/terraform-provider-google Open the go.mod file and add the new entries or modify the versions of existing entries as needed Update dependencies using either of the following methods run the following commands to update all dependencies: go get go mod tidy Alternatively, update a specific package to a desired version: go get google.golang.org/api@v0.105.0 go mod tidy Copy the contents of the updated go.mod and go.sum file into mmv1/third_party/terraform/go.mod and mmv1/third_party/terraform/go.sum in the magic-modules respectively. Create a pull request containing only the dependency changes. Resolve any errors caused by the dependency upgrade. After the dependency pull request is merged, continue with a separate pull request for any additional changes that were blocked by the upgrade."><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="develop"><meta property="article:modified_time" content="2024-12-04T17:15:33-05:00"><title>Update dependencies | Magic Modules</title>
<link rel=manifest href=/magic-modules/manifest.json><link rel=icon href=/magic-modules/favicon.png><link rel=canonical href=https://googlecloudplatform.github.io/magic-modules/develop/update-dependencies/><link rel=stylesheet href=/magic-modules/book.min.309b7ed028807cdb68d8d61e26d609f48369c098dbf5e4d8c0dcf4cdf49feafc.css integrity="sha256-MJt+0CiAfNto2NYeJtYJ9INpwJjb9eTYwNz0zfSf6vw=" crossorigin=anonymous><script defer src=/magic-modules/fuse.min.js></script><script defer src=/magic-modules/en.search.min.e8c51fb12cf876aacebdc86c03e3d4324cb2754f5e7cf247b7c186d79f5d5245.js integrity="sha256-6MUfsSz4dqrOvchsA+PUMkyydU9efPJHt8GG159dUkU=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/magic-modules/><img src=/magic-modules/magic-modules.svg alt=Logo><span>Magic Modules</span></a></h2><div class="book-search hidden"><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><script>document.querySelector(".book-search").classList.remove("hidden")</script><ul><li><a href=/magic-modules/>Overview</a></li></ul><ul><li><a href=/magic-modules/contribution-process/>Contribution process</a></li><li><span>Develop</span><ul><li><a href=/magic-modules/develop/set-up-dev-environment/>Set up your development environment</a></li><li><a href=/magic-modules/develop/add-resource/>Add a resource</a></li><li><a href=/magic-modules/develop/add-fields/>Add a field to an existing resource</a></li><li><a href=/magic-modules/develop/add-iam-support/>Add IAM support</a></li><li><a href=/magic-modules/develop/add-handwritten-datasource/>Add a datasource</a></li><li><a href=/magic-modules/develop/custom-code/>Add custom resource code</a></li><li><a href=/magic-modules/develop/promote-to-ga/>Promote to GA</a></li><li><a href=/magic-modules/develop/update-dependencies/ class=active>Update dependencies</a></li><li><a href=/magic-modules/develop/diffs/>Fix diffs</a></li><li><a href=/magic-modules/develop/generate-providers/>Generate the providers</a></li><li><a href=/magic-modules/develop/client-side-fields/>Client-side fields</a></li></ul></li><li><span>Test</span><ul><li><a href=/magic-modules/test/test/>Add resource tests</a></li><li><a href=/magic-modules/test/run-tests/>Run tests</a></li></ul></li><li><span>Document</span><ul><li><a href=/magic-modules/document/add-documentation/>Add documentation</a></li><li><a href=/magic-modules/document/handwritten-docs-style-guide/>Handwritten docs style guide</a></li></ul></li><li><span>Breaking changes</span><ul><li><a href=/magic-modules/breaking-changes/breaking-changes/>Types of breaking changes</a></li><li><a href=/magic-modules/breaking-changes/make-a-breaking-change/>Make a breaking change</a></li></ul></li><li><span>Code review</span><ul><li><a href=/magic-modules/code-review/create-pr/>Create a pull request</a></li><li><a href=/magic-modules/code-review/release-notes/>Write release notes</a></li><li><a href=/magic-modules/code-review/review-pr/>Review a pull request</a></li></ul></li><li><span>Best practices</span><ul><li><a href=/magic-modules/best-practices/immutable-fields/>Immutable fields</a></li><li><a href=/magic-modules/best-practices/deletion-behaviors/>Deletion behaviors</a></li><li><a href=/magic-modules/best-practices/labels-and-annotations/>Labels and annotations</a></li><li><a href=/magic-modules/best-practices/common-resource-patterns/>Common resource patterns</a></li><li><a href=/magic-modules/best-practices/validation/>Validation</a></li></ul></li><li><span>Reference</span><ul><li><a href=/magic-modules/reference/resource/>MMv1 resource reference</a></li><li><a href=/magic-modules/reference/field/>MMv1 field reference</a></li><li><a href=/magic-modules/reference/make-commands/>make commands</a></li><li><a href=/magic-modules/reference/metadata/>MMv1 metadata reference</a></li><li><a href=/magic-modules/reference/ruby-go-changes/>Ruby to Go Migration</a></li></ul></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/magic-modules/svg/menu.svg class=book-icon alt=Menu>
</label><strong>Update dependencies</strong>
<label for=toc-control><img src=/magic-modules/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents></nav></aside></header><article class="markdown book-article"><h1 id=update-provider-dependencies>Update provider dependencies
<a class=anchor href=#update-provider-dependencies>#</a></h1><p>The Magic Modules repository does not contain a complete Go module, preventing the use of automated tooling like <code>go get</code> from that repository. To add or update provider dependencies, use standard Go tooling to update the dependency in the <code>terraform-provider-google</code> provider and copy the results to the upstream files in Magic Modules.</p><p>Below are the steps you can follow to make the change:</p><ol><li>Navigate to the local <code>google</code> provider directory:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cd $GOPATH/src/github.com/hashicorp/terraform-provider-google
</span></span></code></pre></div><ol start=2><li>Open the <a href=https://github.com/hashicorp/terraform-provider-google/blob/main/go.mod><code>go.mod</code></a> file and add the new entries or modify the versions of existing entries as needed</li><li>Update dependencies using either of the following methods<ul><li>run the following commands to update all dependencies:</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>go get
</span></span><span style=display:flex><span>go mod tidy
</span></span></code></pre></div><ul><li>Alternatively, update a specific package to a desired version:</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>go get google.golang.org/api@v0.105.0 
</span></span><span style=display:flex><span>go mod tidy
</span></span></code></pre></div></li><li>Copy the contents of the updated <code>go.mod</code> and <code>go.sum</code> file into <a href=https://github.com/GoogleCloudPlatform/magic-modules/blob/main/mmv1/third_party/terraform/go.mod.erb><code>mmv1/third_party/terraform/go.mod</code></a> and <a href=https://github.com/GoogleCloudPlatform/magic-modules/blob/main/mmv1/third_party/terraform/go.sum><code>mmv1/third_party/terraform/go.sum</code></a> in the <code>magic-modules</code> respectively.</li><li>Create a pull request containing <em>only</em> the dependency changes.</li><li>Resolve any errors caused by the dependency upgrade.</li><li>After the dependency pull request is merged, continue with a separate pull request for any additional changes that were blocked by the upgrade.</li></ol></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/GoogleCloudPlatform/magic-modules/commit/a7add59b1964944e61aa54f3a6c1529cc6d5ad8c title='Last modified by nityaravi | December 4, 2024' target=_blank rel=noopener><img src=/magic-modules/svg/calendar.svg class=book-icon alt=Calendar>
<span>December 4, 2024</span></a></div><div><a class="flex align-center" href="https://github.com/hashicorp/terraform-provider-google/issues/new?assignees=&labels=technical-debt,documentation&projects=&title=MM%20docsite%20issue%20in%20content/develop%2fupdate-dependencies.md&template=11_developer_productivity.md" target=_blank rel=noopener><img src=/magic-modules/report.svg class=book-icon alt=Edit>
<span>Report documentation issue</span></a></div><div><a class="flex align-center" href=https://github.com/GoogleCloudPlatform/magic-modules/edit/main/docs/content/develop/update-dependencies.md target=_blank rel=noopener><img src=/magic-modules/svg/edit.svg class=book-icon alt=Edit>
<span>Edit this page</span></a></div></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents></nav></div></aside></main></body></html>